!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=377)}([function(t,e,n){var r=n(2),i=n(19),o=n(11),a=n(12),s=n(20),u=function t(e,n,u){var l,c,f,d,h=e&t.F,p=e&t.G,v=e&t.P,g=e&t.B,m=p?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=p?i:i[n]||(i[n]={}),b=y.prototype||(y.prototype={});for(l in p&&(u=n),u)f=((c=!h&&m&&void 0!==m[l])?m:u)[l],d=g&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,m&&a(m,l,f,e&t.U),y[l]!=f&&o(y,l,d),v&&b[l]!=f&&(b[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(49)("wks"),i=n(34),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(22),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(1),i=n(97),o=n(24),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(25);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(8),i=n(33);t.exports=n(7)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),i=n(11),o=n(15),a=n(34)("src"),s=n(150),u=(""+s).split("toString");n(19).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(0),i=n(3),o=n(25),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){var r=n(135),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(50),i=n(25);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(51),i=n(33),o=n(16),a=n(24),s=n(15),u=n(97),l=Object.getOwnPropertyDescriptor;e.f=n(7)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(15),i=n(9),o=n(71)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(3);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(0),i=n(19),o=n(3);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(20),i=n(50),o=n(9),a=n(6),s=n(87);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var v,g,m=o(e),y=i(m),b=r(s,p,3),_=a(y.length),S=0,w=n?h(e,_):u?h(e,0):void 0;_>S;S++)if((d||S in y)&&(g=b(v=y[S],S,m),t))if(n)w[S]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:w.push(v)}else if(c)return!1;return f?-1:l||c?c:w}}},function(t,e,n){if(n(7)){var r=n(30),i=n(2),o=n(3),a=n(0),s=n(65),u=n(95),l=n(20),c=n(40),f=n(33),d=n(11),h=n(42),p=n(22),v=n(6),g=n(125),m=n(36),y=n(24),b=n(15),_=n(45),S=n(4),w=n(9),E=n(84),T=n(37),x=n(18),A=n(38).f,O=n(86),L=n(34),k=n(5),C=n(27),R=n(55),P=n(53),D=n(89),I=n(47),F=n(60),M=n(39),N=n(88),j=n(114),B=n(8),U=n(17),V=B.f,H=U.f,G=i.RangeError,K=i.TypeError,W=i.Uint8Array,$=Array.prototype,q=u.ArrayBuffer,z=u.DataView,Y=C(0),X=C(2),Q=C(3),J=C(4),Z=C(5),tt=C(6),et=R(!0),nt=R(!1),rt=D.values,it=D.keys,ot=D.entries,at=$.lastIndexOf,st=$.reduce,ut=$.reduceRight,lt=$.join,ct=$.sort,ft=$.slice,dt=$.toString,ht=$.toLocaleString,pt=k("iterator"),vt=k("toStringTag"),gt=L("typed_constructor"),mt=L("def_constructor"),yt=s.CONSTR,bt=s.TYPED,_t=s.VIEW,St=C(1,(function(t,e){return At(P(t,t[mt]),e)})),wt=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),Et=!!W&&!!W.prototype.set&&o((function(){new W(1).set({})})),Tt=function(t,e){var n=p(t);if(n<0||n%e)throw G("Wrong offset!");return n},xt=function(t){if(S(t)&&bt in t)return t;throw K(t+" is not a typed array!")},At=function(t,e){if(!S(t)||!(gt in t))throw K("It is not a typed array constructor!");return new t(e)},Ot=function(t,e){return Lt(P(t,t[mt]),e)},Lt=function(t,e){for(var n=0,r=e.length,i=At(t,r);r>n;)i[n]=e[n++];return i},kt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Ct=function(t){var e,n,r,i,o,a,s=w(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,d=O(s);if(null!=d&&!E(d)){for(a=d.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),e=0,n=v(s.length),i=At(this,n);n>e;e++)i[e]=f?c(s[e],e):s[e];return i},Rt=function(){for(var t=0,e=arguments.length,n=At(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!W&&o((function(){ht.call(new W(1))})),Dt=function(){return ht.apply(Pt?ft.call(xt(this)):xt(this),arguments)},It={copyWithin:function(t,e){return j.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(xt(this),arguments)},filter:function(t){return Ot(this,X(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Y(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(xt(this),arguments)},lastIndexOf:function(t){return at.apply(xt(this),arguments)},map:function(t){return St(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(xt(this),arguments)},reduceRight:function(t){return ut.apply(xt(this),arguments)},reverse:function(){for(var t,e=xt(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(xt(this),t)},subarray:function(t,e){var n=xt(this),r=n.length,i=m(t,r);return new(P(n,n[mt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:m(e,r))-i))}},Ft=function(t,e){return Ot(this,ft.call(xt(this),t,e))},Mt=function(t){xt(this);var e=Tt(arguments[1],1),n=this.length,r=w(t),i=v(r.length),o=0;if(i+e>n)throw G("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Nt={entries:function(){return ot.call(xt(this))},keys:function(){return it.call(xt(this))},values:function(){return rt.call(xt(this))}},jt=function(t,e){return S(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return jt(t,e=y(e,!0))?f(2,t[e]):H(t,e)},Ut=function(t,e,n){return!(jt(t,e=y(e,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};yt||(U.f=Bt,B.f=Ut),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Ut}),o((function(){dt.call({})}))&&(dt=ht=function(){return lt.call(this)});var Vt=h({},It);h(Vt,Nt),d(Vt,pt,Nt.values),h(Vt,{slice:Ft,set:Mt,constructor:function(){},toString:dt,toLocaleString:Dt}),kt(Vt,"buffer","b"),kt(Vt,"byteOffset","o"),kt(Vt,"byteLength","l"),kt(Vt,"length","e"),V(Vt,vt,{get:function(){return this[bt]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=i[l],m=p||{},y=p&&x(p),b=!p||!s.ABV,w={},E=p&&p.prototype,O=function(t,n){V(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,wt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*e+i.o,r,wt)}(this,n,t)},enumerable:!0})};b?(p=n((function(t,n,r,i){c(t,p,l,"_d");var o,a,s,u,f=0,h=0;if(S(n)){if(!(n instanceof q||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return bt in n?Lt(p,n):Ct.call(p,n);o=n,h=Tt(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw G("Wrong length!");if((a=m-h)<0)throw G("Wrong length!")}else if((a=v(i)*e)+h>m)throw G("Wrong length!");s=a/e}else s=g(n),o=new q(a=s*e);for(d(t,"_d",{b:o,o:h,l:a,e:s,v:new z(o)});f<s;)O(t,f++)})),E=p.prototype=T(Vt),d(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&F((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,r,i){var o;return c(t,p,l),S(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==i?new m(n,Tt(r,e),i):void 0!==r?new m(n,Tt(r,e)):new m(n):bt in n?Lt(p,n):Ct.call(p,n):new m(g(n))})),Y(y!==Function.prototype?A(m).concat(A(y)):A(m),(function(t){t in p||d(p,t,m[t])})),p.prototype=E,r||(E.constructor=p));var L=E[pt],k=!!L&&("values"==L.name||null==L.name),C=Nt.values;d(p,gt,!0),d(E,bt,l),d(E,_t,!0),d(E,mt,p),(u?new p(1)[vt]==l:vt in E)||V(E,vt,{get:function(){return l}}),w[l]=p,a(a.G+a.W+a.F*(p!=m),w),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(p,1)})),l,{from:Ct,of:Rt}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",e),a(a.P,l,It),M(l),a(a.P+a.F*Et,l,{set:Mt}),a(a.P+a.F*!k,l,Nt),r||E.toString==dt||(E.toString=dt),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:Ft}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),l,{toLocaleString:Dt}),I[l]=k?L:C,r||k||d(E,pt,C)}}else t.exports=function(){}},function(t,e,n){var r=n(120),i=n(0),o=n(49)("metadata"),a=o.store||(o.store=new(n(123))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:a,map:s,has:function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e){t.exports=!1},function(t,e,n){var r=n(34)("meta"),i=n(4),o=n(15),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(3)((function(){return u(Object.preventExtensions({}))})),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(5)("unscopables"),i=Array.prototype;null==i[r]&&n(11)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(99),i=n(72);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(22),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(1),i=n(100),o=n(72),a=n(71)("IE_PROTO"),s=function(){},u=function(){var t,e=n(69)("iframe"),r=o.length;for(e.style.display="none",n(73).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(99),i=n(72).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(2),i=n(8),o=n(7),a=n(5)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(20),i=n(112),o=n(84),a=n(1),s=n(6),u=n(86),l={},c={};(e=t.exports=function(t,e,n,f,d){var h,p,v,g,m=d?function(){return t}:u(t),y=r(n,f,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=s(t.length);h>b;b++)if((g=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||g===c)return g}else for(v=m.call(t);!(p=v.next()).done;)if((g=i(v,y,p.value,e))===l||g===c)return g}).BREAK=l,e.RETURN=c},function(t,e,n){var r=n(12);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(8).f,i=n(15),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(21),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(0),i=n(25),o=n(3),a=n(75),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,n){(function(e,n){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(){var t=void 0,e=void 0,n=null,r=null,i=!1;if(1===arguments.length?o.isString(arguments[0])?r=arguments[0].split(" "):o.isArray(arguments[0])?r=arguments[0]:n=arguments[0]:r=arguments,n)this.property=n.property,this.from=n.from,this.to=n.to,this.duration=o.isString(n.duration)&&a.test(n.duration)?n.duration:null,this.delay=o.isString(n.delay)&&a.test(n.delay)?n.delay:null,this.timingFunction=o.isString(n.timingFunction)?n.timingFunction:null,this.onTransitionEnd=o.isFunction(n.onTransitionEnd)?n.onTransitionEnd:null,this.beginFromCurrentValue=o.isBoolean(n.beginFromCurrentValue)?n.beginFromCurrentValue:null;else{if(!(r.length>=3))throw"[TransitionProperty] Invalid number of arguments.";for(this.property=r[0],this.from=r[1],this.to=r[2],this.duration=null,this.delay=null,this.timingFunction=null,this.onTransitionEnd=null,this.beginFromCurrentValue=null,t=3;t<r.length;t++)e=r[t],o.isString(e)?a.test(e)?i?this.delay=e:(i=!0,this.duration=e):this.timingFunction=e:o.isFunction(e)&&(this.onTransitionEnd=e)}this.domProperty=o.supportedCssProperty(this.property),this.cssProperty=o.domToCSS(this.domProperty)}function i(t,e){if(!t)throw"Transition: 'properties' is a required parameter";e=o.defaults(e||{},i.defaultOptions),this.properties=t,this.duration=e.duration,this.delay=e.delay,this.timingFunction=e.timingFunction,this.onTransitionEnd=e.onTransitionEnd,this.resolve=null,this.reject=null,this.onBeforeChangeStyle=e.onBeforeChangeStyle,this.onAfterChangeStyle=e.onAfterChangeStyle,this.beginFromCurrentValue=!!o.isBoolean(e.beginFromCurrentValue)&&e.beginFromCurrentValue,this.toBeTransitionedPropertyNames=[],this.toBeTransitionedProperties=[],this.transitioningPropertyNames=[],this.transitioningProperties=[],this.allPropertiesWereFinished=!0}var o=n(1);"undefined"==typeof Promise&&(Promise=n(2));var a=/[-+]?\d+(?:.\d+)?(?:s|ms)/i,s=/\s*,\s*/,u=/(?:\s*,)?\s*([^(,]+(?:\([^)]+\))?)/g;i.defaultOptions={duration:"400ms",delay:"0s",timingFunction:"ease",onTransitionEnd:null,onBeforeChangeStyle:null,onAfterChangeStyle:null},i.property=function(t){return new r(t)},i.begin=function(t,e,n){var a=void 0,s=void 0,u=void 0,l=[];if(e.hasOwnProperty("properties")&&(n=e,e=e.properties),o.isString(e))l.push(new r(e));else if(o.isArray(e))if(o.isString(e[0])&&-1===e[0].indexOf(" "))l.push(new r(e));else for(s=0;s<e.length;s++)u=e[s],!o.isArray(u)&&u instanceof r||(u=new r(u)),l.push(u);else if("property"in e)u=new r(e),l.push(u);else for(u in e)e.hasOwnProperty(u)&&(u=o.isArray(e[u])?new r(u=[u].concat(e[u])):new r(u=o.defaults({property:u},e[u])),l.push(u));return(a=new i(l,n)).beginTransition(t),{promise:new Promise((function(t,e){a.resolve=t,a.reject=e})),pause:function(){a.pause()},remove:function(){a.remove()}}},i.getElementTransitionValues=function(t){var e=void 0,n=void 0,r=void 0,i=void 0,a=void 0,l=[],c=[],f=[],d=[],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0;if(n=t.style[o.transitionProperty]){if(r=t.style[o.transitionDuration],i=t.style[o.transitionDelay],a=t.style[o.transitionTimingFunction],l=n.split(s),c=r?r.split(s):["0s"],f=i?i.split(s):["0s"],a)for(d=[];h=null!==u.exec(a);)d.push(h[1]);else d=["ease"];for(p=l.length,v=c.length,g=f.length,m=d.length,e=0;e<p;e++)v<=e&&c.push(c[e%v]),g<=e&&f.push(f[e%g]),m<=e&&d.push(d[e%m])}return{cssProperties:l,durations:c,delays:f,timingFunctions:d}},i.setElementTransitionValues=function(t,e){t.style[o.transitionProperty]=e.cssProperties.join(", "),t.style[o.transitionDuration]=e.durations.join(", "),t.style[o.transitionDelay]=e.delays.join(", "),t.style[o.transitionTimingFunction]=e.timingFunctions.join(", ")},i.prototype={constructor:i,beginTransition:function(t){var e=void 0,n=void 0;for(this.finishTransitioningPropertiesIfExist(t),e=0;e<this.properties.length;e++)n=this.properties[e],o.isString(n.from)||o.isNumber(n.from)||(n.from=window.getComputedStyle(t,null).getPropertyValue(n.cssProperty));for(e=0;e<this.properties.length;e++)(n=this.properties[e]).from==n.to?(t.style[n.domProperty]=n.to,this.executeOnTransitionEndForProperty(n,t,!0)):(t.style[n.domProperty]=n.from,this.toBeTransitionedPropertyNames.push(n.cssProperty),this.toBeTransitionedProperties.push(n));return o.isFunction(this.onBeforeChangeStyle)&&this.onBeforeChangeStyle(t),0===this.toBeTransitionedProperties.length?(o.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(t),void this.executeOnTransitionEnd(t,!0)):(t.offsetHeight,this.addTransitionEndListener(t),void o.executeInNextEventLoop((function(){var e=void 0,n=void 0,r=void 0;if(0!==this.toBeTransitionedProperties.length){for(e=i.getElementTransitionValues(t),n=0;n<this.toBeTransitionedProperties.length;n++)r=this.toBeTransitionedProperties[n],e.cssProperties.push(r.cssProperty),e.durations.push(r.duration||this.duration),e.delays.push(r.delay||this.delay),e.timingFunctions.push(r.timingFunction||this.timingFunction);for(this.transitioningPropertyNames=this.toBeTransitionedPropertyNames,this.transitioningProperties=this.toBeTransitionedProperties,this.toBeTransitionedPropertyNames=[],this.toBeTransitionedProperties=[],i.setElementTransitionValues(t,e),n=0;n<this.transitioningProperties.length;n++)r=this.transitioningProperties[n],t.style[r.domProperty]=r.to;o.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(t)}}),this))},pause:function(){},remove:function(){},handleEvent:function(t){t.target===t.currentTarget&&this.hasTransitioningProperty(t.propertyName)&&this.finishTransitioningProperty(t.currentTarget,t.propertyName)},hasTransitioningProperty:function(t){return this.transitioningPropertyNames.indexOf(t)>=0},removeTransitioningProperty:function(t){var e;if((e=this.transitioningPropertyNames.indexOf(t))<0)throw"[Transition.removeTransitioningProperty]: Transition does not have transitioning property '"+t+"'";this.transitioningPropertyNames.splice(e,1),this.transitioningProperties.splice(e,1)},hasToBeTransitionedProperty:function(t){return this.toBeTransitionedPropertyNames.indexOf(t)>=0},removeToBeTransitionedProperty:function(t){var e;if((e=this.toBeTransitionedPropertyNames.indexOf(t))<0)throw"[Transition.removeToBeTransitionedProperty]: Transition does not have toBeTransitionedProperty '"+t+"'";this.toBeTransitionedPropertyNames.splice(e,1),this.toBeTransitionedProperties.splice(e,1)},getPropertyByPropertyName:function(t){var e=void 0;for(e=0;e<this.properties.length;e++)if(this.properties[e].cssProperty===t)return this.properties[e];throw"[Transition.getPropertyByPropertyName]: Transition does not have property '"+t+"'"},finishTransitioningProperty:function(t,e){var n,r,o=void 0;if(this.removeTransitioningProperty(e),(n=(o=i.getElementTransitionValues(t)).cssProperties.indexOf(e))<0)throw"[Transition.finishTransitioningProperty]: Did not find transitionProperty '"+e+"'";o.cssProperties.splice(n,1),o.durations.splice(n,1),o.delays.splice(n,1),o.timingFunctions.splice(n,1),i.setElementTransitionValues(t,o),r=this.getPropertyByPropertyName(e),this.executeOnTransitionEndForProperty(r,t,!0),0===this.transitioningProperties.length&&this.removeTransitionEndListener(t,!1)},finishTransitioningPropertiesIfExist:function(t){var e=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=!1;if(t.hasOwnProperty("_transitions")&&0!==t._transitions.length){for(r=i.getElementTransitionValues(t),o=t._transitions.slice(),e=0;e<o.length;e++){for(a=o[e],s=[],u=[],n=0;n<this.properties.length;n++)a.hasTransitioningProperty(this.properties[n].cssProperty)?s.push(this.properties[n]):a.hasToBeTransitionedProperty(this.properties[n].cssProperty)&&u.push(this.properties[n]);s.length?(l=!0,a.allPropertiesWereFinished=!1,a.finishTransitioningProperties(t,s,r,this.beginFromCurrentValue)):u.length&&(a.allPropertiesWereFinished=!1,a.finishToBeTransitionedProperties(t,u,this.beginFromCurrentValue))}l&&i.setElementTransitionValues(t,r)}},finishTransitioningProperties:function(t,e,n,r){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0;for(i=0;i<e.length;i++){if(u=(a=e[i]).cssProperty,this.removeTransitioningProperty(u),this.updateFromToCurrentValueIfNeeded(t,a,r),(o=n.cssProperties.indexOf(u))<0)throw"[Transition.finishTransitioningProperties]: Did not find transitionProperty '"+u+"'";n.cssProperties.splice(o,1),n.durations.splice(o,1),n.delays.splice(o,1),n.timingFunctions.splice(o,1),s=this.getPropertyByPropertyName(u),this.executeOnTransitionEndForProperty(s,t,!1)}0===this.transitioningProperties.length&&this.removeTransitionEndListener(t,!0)},finishToBeTransitionedProperties:function(t,e,n){var r=void 0,i=void 0,a=void 0,s=void 0;for(r=0;r<e.length;r++)s=(i=e[r]).cssProperty,this.removeToBeTransitionedProperty(s),this.updateFromToCurrentValueIfNeeded(t,i,n),a=this.getPropertyByPropertyName(s),this.executeOnTransitionEndForProperty(a,t,!1);0===this.toBeTransitionedProperties.length&&(o.isFunction(this.onAfterChangeStyle)&&this.onAfterChangeStyle(t),this.removeTransitionEndListener(t,!0))},updateFromToCurrentValueIfNeeded:function(t,e,n){var r=o.isBoolean(e.beginFromCurrentValue);(r&&e.beginFromCurrentValue||!r&&n)&&(e.from=window.getComputedStyle(t,null).getPropertyValue(e.cssProperty))},addTransitionEndListener:function(t){t.hasOwnProperty("_transitions")||(t._transitions=[]),t._transitions.push(this),t.addEventListener(o.transitionEndEvent,this,!1)},removeTransitionEndListener:function(t,e){var n;if(!t.hasOwnProperty("_transitions"))throw"element does not have own _transitions property";if((n=t._transitions.indexOf(this))<0)throw"Can't remove non existing transition from an element";t._transitions.splice(n,1),t.removeEventListener(o.transitionEndEvent,this,!1),this.executeOnTransitionEnd(t,e)},executeOnTransitionEndForProperty:function(t,e,n){var r=void 0;o.isFunction(t.onTransitionEnd)&&(r=t.onTransitionEnd,o.executeInNextEventLoop((function(){r(e,n)})))},executeOnTransitionEnd:function(t,e){var n=void 0;o.isFunction(this.onTransitionEnd)&&(n=this.onTransitionEnd,e?o.executeInNextEventLoop((function(){n(t,this.allPropertiesWereFinished)}),this):n(t,this.allPropertiesWereFinished)),this.resolve(this.allPropertiesWereFinished)}},t.exports={TransitionProperty:r,property:i.property,transition:i.begin,begin:i.begin}},function(t,e){"use strict";function n(t){return"-"+t.toLowerCase()}function r(){var t=void 0,e=l.slice(),n=void 0,r=void 0;for(l=[],t=0;t<e.length;t++)r=(n=e[t]).func,n.context?r.apply(n.context):r()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=/[A-Z]/g,a=/^[A-Z]/,s=/-([a-z])/g,u=/^ms-/,l=[],c={},f=function(){var t=document.createElement("div"),e=["Webkit","Moz","O","ms","Khtml"],n=/^[a-z]/,r=e.length;return function(i){var o,a=void 0,s=void 0;if(c.hasOwnProperty(i))return c[i];if(void 0!==t.style[i])return c[i]=i,i;for(o=i.replace(n,(function(t){return t.toUpperCase()})),a=0;a<r;a++)if(s=e[a]+o,void 0!==t.style[s])return c[i]=s,s;return null}}(),d=null!==f("transition"),h=f("transitionProperty"),p=f("transitionDuration"),v=f("transitionDelay"),g=f("transitionTimingFunction"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[f("transition")];t.exports={supportedCssProperty:f,hasTransition:d,transitionProperty:h,transitionDuration:p,transitionDelay:v,transitionTimingFunction:g,transitionEndEvent:m,camelCaseToDashes:function(t){return t.replace(o,n)},domToCSS:function(t){return t.replace(o,(function(t){return"-"+t.toLowerCase()})).replace(u,"-ms-")},cssToDOM:function(t){return t.replace(s,(function(t,e){return e.toUpperCase()})).replace(a,(function(t){return t.toLowerCase()}))},requestAnimationFrame:function(t,e){return window.requestAnimationFrame((function(n){e?t.apply(e,[n]):t(n)}),null)},executeInNextEventLoop:function(t,e){0===l.length&&window.setTimeout(r,0),l.push({func:t,context:e})},extend:function(t){if(!this.isObject(t))return t;for(var e=void 0,n=void 0,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])e.hasOwnProperty(n)&&(t[n]=e[n]);return t},defaults:function(t){if(!this.isObject(t))return t;for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)r.hasOwnProperty(i)&&void 0===t[i]&&(t[i]=r[i])}return t},isObject:function(t){var e=void 0===t?"undefined":i(t);return"function"===e||"object"===e&&!!t},isFunction:function(t){return"function"==typeof t},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}}},function(t,e,n){(function(e,n,r){!function(e){t.exports=e()}((function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var n=e[a][1][t];return i(n||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=l}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(t){u=t}var l=t("./schedule"),c=t("./queue"),f=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout((function(){t(e)}),0);else try{this._schedule((function(){t(e)}))}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule((function(){setTimeout((function(){t.call(e,n)}),100)}))},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule((function(){t.call(e,n)}))},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule((function(){t._settlePromises()}))}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new t(e);c._propagateFrom(this,1);var f=this._target();if(c._setBoundTo(l),l instanceof t){var d={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:l};f._then(e,a,void 0,c,d),l._then(s,u,void 0,c,d),c._setOnCancel(l)}else c._resolveCallback(f);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){return n(t,this.pop()).apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a=t("./util"),s=a.canEvaluate;a.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=o;else if(s){var n=(void 0)(t);e=null!==n?n:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,a,s){return function(u){var l=s._boundValue();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return i(a).call(l,u)}else if("function"==typeof f){var d=i(f).call(l,u);if(d===o)return d;if(d)return i(a).call(l,u)}else if(n.isObject(u)){for(var h=r(f),p=0;p<h.length;++p){var v=h[p];if(f[v]!=u[v])continue t}return i(a).call(l,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(n())}function n(){var t=i.length-1;if(t>=0)return i[t]}var r=!1,i=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=i.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=function(){if(r)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var i=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=i,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,r=!1},r=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=n,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,(function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+C.toString(t));r._attachCancellationCallback(t)}))}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?C.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function l(t){this._onCancelField=t}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function d(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function h(){this._trace=new E(this._peekContext())}function p(t,e){if(R(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=m(t);C.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),C.notEnumerableProp(t,"__stackCleaned__",!0)}}}function v(t,e,r){if(Q.warnings){var i,o=new k(t);if(e)r._attachExtraTrace(o);else if(Q.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=m(o);o.stack=a.message+"\n"+a.stack.join("\n")}$("warning",o)||y(o,"",!0)}}function g(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||F.test(r),o=i&&z(r);i&&!o&&(N&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function m(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||F.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:g(e)}}function y(t,e,n){if("undefined"!=typeof console){var r;if(C.isObject(t)){var i=t.stack;r=e+M(i,t)}else r=e+String(t);"function"==typeof A?A(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function b(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){L.throwLater(t)}"unhandledRejection"===t?$(t,n,r)||i||y(n,"Unhandled rejection "):$(t,r)}function _(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():C.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function S(){return"function"==typeof X}function w(t){var e=t.match(Y);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function E(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);X(this,E),e>32&&this.uncycle()}var T,x,A,O=n._getDomain,L=n._async,k=t("./errors").Warning,C=t("./util"),R=C.canAttachTrace,P=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,D=/\((?:timers\.js):\d+:\d+\)/,I=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,F=null,M=null,N=!1,j=!(0==C.env("BLUEBIRD_DEBUG")),B=!(0==C.env("BLUEBIRD_WARNINGS")||!j&&!C.env("BLUEBIRD_WARNINGS")),U=!(0==C.env("BLUEBIRD_LONG_STACK_TRACES")||!j&&!C.env("BLUEBIRD_LONG_STACK_TRACES")),V=0!=C.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(B||!!C.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),L.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){b("rejectionHandled",T,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),b("unhandledRejection",x,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return v(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=O();x="function"==typeof t?null===e?t:C.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=O();T="function"==typeof t?null===e?t:C.domainBind(e,t):void 0};var H=function(){};n.longStackTraces=function(){if(L.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Q.longStackTraces&&S()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;Q.longStackTraces=!0,H=function(){if(L.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),L.enableTrampoline(),Q.longStackTraces=!1},n.prototype._captureStackTrace=h,n.prototype._attachExtraTrace=p,r.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return Q.longStackTraces&&S()};var G=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return C.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!C.global.dispatchEvent(n)}}return"function"==typeof Event?(t=new Event("CustomEvent"),C.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!C.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),C.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!C.global.dispatchEvent(n)})}catch(t){}return function(){return!1}}(),K=C.isNode?function(){return e.emit.apply(e,arguments)}:C.global?function(t){var e="on"+t.toLowerCase(),n=C.global[e];return!!n&&(n.apply(C.global,[].slice.call(arguments,1)),!0)}:function(){return!1},W={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},$=function(t){var e=!1;try{e=K.apply(null,arguments)}catch(t){L.throwLater(t),e=!0}var n=!1;try{n=G(t,W[t].apply(null,arguments))}catch(t){L.throwLater(t),n=!0}return n||e};n.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&H()),"warnings"in t){var e=t.warnings;Q.warnings=!!e,V=Q.warnings,C.isObject(e)&&"wForgottenReturn"in e&&(V=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Q.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=c,n.prototype._propagateFrom=f,n.prototype._onCancel=u,n.prototype._setOnCancel=l,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,q=f,Q.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Q.monitoring?(Q.monitoring=!0,n.prototype._fireEvent=$):!t.monitoring&&Q.monitoring&&(Q.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var q=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)},z=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;C.inherits(E,Error),r.CapturedTrace=E,E.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var a=n[e[r].stack];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var s=r>0?e[r-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var u=s._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},E.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=m(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(g(i.stack.split("\n"))),i=i._parent;(function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}})(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),C.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),C.notEnumerableProp(t,"__stackCleaned__",!0)}};var X=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():_(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,F=t,M=e;var n=Error.captureStackTrace;return z=function(t){return P.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return F=/@/,M=e,N=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){r="stack"in t}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(M=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?_(e):e.toString()},null):(F=t,M=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(A=function(t){console.warn(t)},C.isNode&&e.stderr.isTTY?A=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:C.isNode||"string"!=typeof(new Error).stack||(A=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var Q={warnings:B,longStackTraces:!1,cancellation:!1,monitoring:!1};return U&&n.longStackTraces(),{longStackTraces:function(){return Q.longStackTraces},warnings:function(){return Q.warnings},cancellation:function(){return Q.cancellation},monitoring:function(){return Q.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return d},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&V){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=g(s),l=u.length-1;l>=0;--l){var c=u[l];if(!D.test(c)){var f=c.match(I);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0){var d=u[0];for(l=0;l<s.length;++l)if(s[l]===d){l>0&&(a="\n"+s[l-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,e)}},setBounds:function(t,e){if(S()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u)if(l=w(i[u])){n=l.fileName,a=l.line;break}for(u=0;u<o.length;++u){var l;if(l=w(o[u])){r=l.fileName,s=l.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(z=function(t){if(P.test(t))return!0;var e=w(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:v,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),v(n)},CapturedTrace:E,fireDomEvent:G,fireGlobalEvent:K}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return i(this)}var r=t.reduce,i=t.all;t.prototype.each=function(t){return r(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,e,e)},t.each=function(t,i){return r(t,i,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=function(t,n){return r(t,n,e,e)}}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return c(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=t("./es5"),u=s.freeze,l=t("./util"),c=l.inherits,f=l.notEnumerableProp,d=r("Warning","warning"),h=r("CancellationError","cancellation error"),p=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"==typeof Array.prototype[g[m]]&&(v.prototype[g[m]]=Array.prototype[g[m]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var y=0;v.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return y--,e},c(i,Error);var b=Error.__BluebirdErrorTypes__;b||(b=u({CancellationError:h,TimeoutError:p,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function i(t){this.finallyHandler=t}function o(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function a(){return u.call(this,this.promise._target()._settledValue())}function s(t){if(!o(this,t))return f.e=t,f}function u(t){var r=this.promise,u=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?u.call(r._boundValue()):u.call(r._boundValue(),t);if(void 0!==l){r._setReturnedNonUndefined();var d=n(l,r);if(d instanceof e){if(null!=this.cancelPromise){if(d._isCancelled()){var h=new c("late cancellation observer");return r._attachExtraTrace(h),f.e=h,f}d.isPending()&&d._attachCancellationCallback(new i(this))}return d._then(a,s,void 0,this,void 0)}}}return r.isRejected()?(o(this),f.e=t,f):(o(this),t)}var l=t("./util"),c=e.CancellationError,f=l.errorObj;return r.prototype.isFinallyHandler=function(){return 0===this.type},i.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,i){return"function"!=typeof t?this.then():this._then(n,i,void 0,new r(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,u,u)},e.prototype.tap=function(t){return this._passThrough(t,1,u)},r}},{"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly((function(){return u})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var u=t("./errors").TypeError,l=t("./util"),c=l.errorObj,f=l.tryCatch,d=[];l.inherits(s,o),s.prototype._isResolved=function(){return null===this._promise},s.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},s.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},s.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},s.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=f(n[o])(t);if(r._popContext(),a===c){r._pushContext();var s=e.reject(c.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+l.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new s(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:c.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(i.concurrency)));a=i.concurrency}return new s(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}var l=e._getDomain,c=t("./util"),f=c.tryCatch,d=c.errorObj,h=e._async;c.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var l=this._promise,c=this._callback,h=l._boundValue();l._pushContext();var p=f(c).call(h,t,n,o),v=l._popContext();if(a.checkForgottenReturns(p,v,null!==s?"Promise.filter":"Promise.map",l),p===d)return this._reject(p.e),!0;var g=i(p,this._promise);if(g instanceof e){var m=(g=g._target())._bitField;if(0==(50397184&m))return u>=1&&this._inFlight++,r[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(g._reason()),!0):(this._cancel(),!0);p=g._value()}r[n]=p}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];r=a.isArray(l)?s(t).apply(c,l):s(t).call(c,l)}else r=s(t)();var f=u._popContext();return o.checkForgottenReturns(r,f,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){var e;if(function(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}(t)){(e=new a(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),r=0;r<n.length;++r){var o=n[r];u.test(o)||(e[o]=t[o])}return e}return i.markAsOriginatingFromRejection(t),t}var i=t("./util"),o=i.maybeWrapAsError,a=t("./errors").OperationalError,s=t("./es5"),u=/^(?:name|message|stack|cause)$/;e.exports=function(t,e){return function(n,i){if(null!==t){if(n){var a=r(o(n));t._attachExtraTrace(a),t._reject(a)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){if(!o.isArray(t))return r.call(this,t,e);var n=s(e).apply(this._boundValue(),[null].concat(t));n===u&&a.throwLater(n.e)}function r(t,e){var n=this._boundValue(),r=void 0===t?s(e).call(n,null):s(e).call(n,null,t);r===u&&a.throwLater(r.e)}function i(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var r=s(e).call(this._boundValue(),t);r===u&&a.throwLater(r.e)}var o=t("./util"),a=e._async,s=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==_&&(function(t,e){if("function"!=typeof e)throw new y("expecting a function but got "+h.classString(e));if(t.constructor!==i)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function o(t){this.promise._resolveCallback(t)}function a(t){this.promise._rejectCallback(t,!1)}function s(t){var e=new i(_);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var u,l=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},c=function(){return new i.PromiseInspection(this._target())},f=function(t){return i.reject(new y(t))},d={},h=t("./util");u=h.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(i,"_getDomain",u);var p=t("./es5"),v=t("./async"),g=new v;p.defineProperty(i,"_async",{value:g});var m=t("./errors"),y=i.TypeError=m.TypeError;i.RangeError=m.RangeError;var b=i.CancellationError=m.CancellationError;i.TimeoutError=m.TimeoutError,i.OperationalError=m.OperationalError,i.RejectionError=m.OperationalError,i.AggregateError=m.AggregateError;var _=function(){},S={},w={},E=t("./thenables")(i,_),T=t("./promise_array")(i,_,E,f,r),x=t("./context")(i),A=x.create,O=t("./debuggability")(i,x),L=(O.CapturedTrace,t("./finally")(i,E)),k=t("./catch_filter")(w),C=t("./nodeback"),R=h.errorObj,P=h.tryCatch;return i.prototype.toString=function(){return"[object Promise]"},i.prototype.caught=i.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!h.isObject(o))return f("expecting an object but got A catch statement predicate "+h.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,k(r,t,this))}return this.then(void 0,t)},i.prototype.reflect=function(){return this._then(c,c,void 0,this,void 0)},i.prototype.then=function(t,e){if(O.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(n+=", "+h.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},i.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},i.prototype.spread=function(t){return"function"!=typeof t?f("expecting a function but got "+h.classString(t)):this.all()._then(t,void 0,void 0,S,void 0)},i.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},i.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},i.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},i.getNewLibraryCopy=n.exports,i.is=function(t){return t instanceof i},i.fromNode=i.fromCallback=function(t){var e=new i(_);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=P(t)(C(e,n));return r===R&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},i.all=function(t){return new T(t).promise()},i.cast=function(t){var e=E(t);return e instanceof i||((e=new i(_))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},i.resolve=i.fulfilled=i.cast,i.reject=i.rejected=function(t){var e=new i(_);return e._captureStackTrace(),e._rejectCallback(t,!0),e},i.setScheduler=function(t){if("function"!=typeof t)throw new y("expecting a function but got "+h.classString(t));return g.setScheduler(t)},i.prototype._then=function(t,e,n,r,o){var a=void 0!==o,s=a?o:new i(_),l=this._target(),c=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=u();if(0!=(50397184&c)){var d,p,v=l._settlePromiseCtx;0!=(33554432&c)?(p=l._rejectionHandler0,d=t):0!=(16777216&c)?(p=l._fulfillmentHandler0,d=e,l._unsetRejectionIsUnhandled()):(v=l._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),l._attachExtraTrace(p),d=e),g.invoke(v,l,{handler:null===f?d:"function"==typeof d&&h.domainBind(f,d),promise:s,receiver:r,value:p})}else l._addCallbacks(t,e,s,r,f);return s},i.prototype._length=function(){return 65535&this._bitField},i.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},i.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},i.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},i.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},i.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},i.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},i.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},i.prototype._isFinal=function(){return(4194304&this._bitField)>0},i.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},i.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},i.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},i.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},i.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==d)return void 0===e&&this._isBound()?this._boundValue():e},i.prototype._promiseAt=function(t){return this[4*t-4+2]},i.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},i.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},i.prototype._boundValue=function(){},i.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=d),this._addCallbacks(e,n,r,i,null)},i.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=d),this._addCallbacks(n,r,i,o,null)},i.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:h.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:h.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:h.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:h.domainBind(i,e))}return this._setLength(o+1),o},i.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},i.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof i))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},i.prototype._rejectCallback=function(t,e,n){var r=h.ensureErrorObject(t),i=r===t;if(!i&&!n&&O.warnings()){var o="a promise was rejected with a non-error: "+h.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},i.prototype._resolveFromExecutor=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,(function(t){e._resolveCallback(t)}),(function(t){e._rejectCallback(t,n)}));n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)},i.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===S?n&&"number"==typeof n.length?o=P(t).apply(this._boundValue(),n):(o=R).e=new y("cannot .spread() a non-array: "+h.classString(n)):o=P(t).call(e,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===w?r._reject(n):o===R?r._rejectCallback(o.e,!1):(O.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},i.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},i.prototype._followee=function(){return this._rejectionHandler0},i.prototype._setFollowee=function(t){this._rejectionHandler0=t},i.prototype._settlePromise=function(t,e,n,o){var a=t instanceof i,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof L&&n.isFinallyHandler()?(n.cancelPromise=t,P(e).call(n,o)===R&&t._reject(R.e)):e===c?t._fulfill(c.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof T?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,o,t)):e.call(n,o,t):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(o,t):n._promiseRejected(o,t)):a&&(u&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(o):t._reject(o))},i.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,o=t.value;"function"==typeof e?n instanceof i?this._settlePromiseFromHandler(e,r,o,n):e.call(r,o,n):n instanceof i&&n._reject(o)},i.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},i.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},i.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},i.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():g.settlePromises(this))}},i.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?g.fatalError(t,h.isNode):void((65535&e)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},i.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},i.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},i.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},i.defer=i.pending=function(){return O.deprecated("Promise.defer","new Promise"),{promise:new i(_),resolve:o,reject:a}},h.notEnumerableProp(i,"_makeSelfResolutionError",l),t("./method")(i,_,E,f,O),t("./bind")(i,_,E,O),t("./cancel")(i,T,f,O),t("./direct_resolve")(i),t("./synchronous_inspection")(i),t("./join")(i,T,E,_,g,u),i.Promise=i,i.version="3.4.7",t("./map.js")(i,T,f,E,_,O),t("./call_get.js")(i),t("./using.js")(i,f,E,A,_,O),t("./timers.js")(i,_,O),t("./generators.js")(i,f,_,E,r,O),t("./nodeify.js")(i),t("./promisify.js")(i,_),t("./props.js")(i,T,E,f),t("./race.js")(i,_,E,f),t("./reduce.js")(i,T,f,E,_,O),t("./settle.js")(i,T,O),t("./some.js")(i,T,f),t("./filter.js")(i,_),t("./each.js")(i,_),t("./any.js")(i),h.toFastProperties(i),h.toFastProperties(i.prototype),s({a:1}),s({b:2}),s({c:3}),s(1),s((function(){})),s(void 0),s(!1),s(new i(_)),O.setBounds(v.firstLineError,h.lastLineError),i}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./util");return s.isArray,s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(n,o){var a=r(this._values,this._promise);if(a instanceof e){var u=(a=a._target())._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))return 0===a.length?void(-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{}}}(o))):void this._iterate(a);var l=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(l,!1)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);a=u instanceof e?(u=u._target())._bitField:null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!g.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function o(t,e,n){var r=l.getDataPropertyOrDefault(t,e+n,v);return!!r&&i(r)}function a(t,e,n,r){for(var a=l.inheritedDataKeys(t),s=[],u=0;u<a.length;++u){var c=a[u],f=t[c],d=r===m||m(c,f,t);"function"!=typeof f||i(f)||o(t,c,e)||!r(c,f,t,d)||s.push(c,f)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new p("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,n),s}function s(t,e,n,r,i){for(var o=new RegExp(y(e)+"$"),s=a(t,e,o,n),c=0,f=s.length;c<f;c+=2){var d=s[c],h=s[c+1],p=d+e;if(r===b)t[p]=b(d,u,d,h,e,i);else{var v=r(h,(function(){return b(d,u,d,h,e,i)}));l.notEnumerableProp(v,"__isPromisified__",!0),t[p]=v}}return l.toFastProperties(t),t}var u={},l=t("./util"),c=t("./nodeback"),f=l.withAppended,d=l.maybeWrapAsError,h=l.canEvaluate,p=t("./errors").TypeError,v={__isPromisified__:!0},g=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),m=function(t){return l.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},y=function(t){return t.replace(/([$])/,"\\$")},b=h?void 0:function(t,r,i,o,a,s){function h(){var i=r;r===u&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof v&&this!==p?this[v]:t,l=c(o,s);try{a.apply(i,f(arguments,l))}catch(t){o._rejectCallback(d(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var p=function(){return this}(),v=t;return"string"==typeof v&&(t=o),l.notEnumerableProp(h,"__isPromisified__",!0),h};e.promisify=function(t,e){if("function"!=typeof t)throw new p("expecting a function but got "+l.classString(t));if(i(t))return t;var n=function(t,e,n){return b(t,e,void 0,t,null,n)}(t,void 0===(e=Object(e)).context?u:e.context,!!e.multiArgs);return l.copyDescriptors(t,n,r),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new p("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=m);var o=e.promisifier;if("function"!=typeof o&&(o=b),!l.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=l.inheritedDataKeys(t),u=0;u<a.length;++u){var c=t[a[u]];"constructor"!==a[u]&&l.isClass(c)&&(s(c.prototype,r,i,o,n),s(c,r,i,o,n))}return s(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=c.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,-3)}function a(t){var n,a=r(t);return l(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=t("./util"),l=u.isObject,c=t("./es5");"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}();u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e}(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return s(u);if(null===(t=a.asArray(t)))return i("expecting an array or an iterable object but got "+a.classString(t));var l=new e(n);void 0!==o&&l._propagateFrom(o,3);for(var c=l._fulfill,f=l._reject,d=0,h=t.length;d<h;++d){var p=t[d];(void 0!==p||d in t)&&e.cast(p)._then(c,f,void 0,l,null)}return l}var a=t("./util"),s=function(t){return t.then((function(e){return o(e,t)}))};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=d();this._fn=null===a?n:h.domainBind(a,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function l(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+h.classString(e)):new s(t,e,n,i).promise()}function c(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n,r=this.array,i=r._promise,o=p(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}var d=e._getDomain,h=t("./util"),p=h.tryCatch;h.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(c,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return l(this,t,e,null)},e.reduce=function(t,e,n,r){return l(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,s=t("./util"),u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,c=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){c.call(e,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var f=u.resolve();a=function(t){f.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver((function(){t.classList.toggle("foo"),n=!1})).observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver((function(){r.disconnect(),n()}));r.observe(t,e),i()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection;t("./util").inherits(i,n),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,l=a.isArray,c={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==c&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){try{return function(t){return t.then}(t)}catch(t){return a.e=t,a}}function i(t,r,i){var s=new e(n),u=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var l=!0,c=o.tryCatch(r).call(t,(function(t){s&&(s._resolveCallback(t),s=null)}),(function(t){s&&(s._rejectCallback(t,l,!0),s=null)}));return l=!1,s&&c===a&&(s._rejectCallback(c.e,!0,!0),s=null),u}var o=t("./util"),a=o.errorObj,s=o.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof e)return t;var l=r(t);if(l===a){o&&o._pushContext();var c=e.reject(l.e);return o&&o._popContext(),c}if("function"==typeof l)return function(t){try{return u.call(t,"_promise0")}catch(t){return!1}}(t)?(c=new e(n),t._then(c._fulfill,c._reject,void 0,c,null),c):i(t,l,o)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var l=function(t){return c(+this).thenReturn(t)},c=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(l,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout((function(){a._fulfill()}),+t),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return c(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout((function(){n.isPending()&&f(n,e,s)}),t));return r.cancellation()?(s=this.then(),(n=s._then(o,a,void 0,u,void 0))._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout((function(){throw t}),0)}function u(t,n){var i=0,a=t.length,u=new e(o);return function o(){if(i>=a)return u._fulfill();var l=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(l instanceof e&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),t.promise)}catch(t){return s(t)}if(l instanceof e)return l._then(o,s,null,null,null)}o()}(),u}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function c(t,e,n){this.constructor$(t,e,n)}function f(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function d(t){this.length=t,this.promise=null,this[t-1]=null}var h=t("./util"),p=t("./errors").TypeError,v=t("./util").inherits,g=h.errorObj,m=h.tryCatch,y={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==y?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},v(c,l),c.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},d.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+h.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(t=(o=arguments[0]).length,s=!1):(o=arguments,t--);for(var c=new d(t),p=0;p<t;++p){var v=o[p];if(l.isDisposer(v)){var y=v;(v=v.promise())._setDisposable(y)}else{var b=r(v);b instanceof e&&(v=b._then(f,null,null,{resources:c,index:p},void 0))}c[p]=v}var _=new Array(c.length);for(p=0;p<_.length;++p)_[p]=e.resolve(c[p]).reflect();var S=e.all(_).then((function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void S.cancel();t[e]=n.value()}w._pushContext(),i=m(i);var r=s?i.apply(void 0,t):i(t),o=w._popContext();return a.checkForgottenReturns(r,o,"Promise.using",w),r})),w=S.lastly((function(){var t=new e.PromiseInspection(S);return u(c,t)}));return c.promise=w,w._setOnCancel(c),w},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new c(t,this,i());throw new p}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=d;return d=null,t.apply(this,arguments)}catch(t){return v.e=t,v}}function a(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function s(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return h.defineProperty(t,e,r),t}function u(t){try{return t+""}catch(t){return"[no string representation]"}}function l(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function c(t){return l(t)&&h.propertyIsWritable(t,"stack")}function f(t){return{}.toString.call(t)}var d,h=t("./es5"),p="undefined"==typeof navigator,v={e:{}},g="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null,m=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(h.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(t,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}t=h.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),y=/this\s*\.\s*\S+\s*=/,b=/^[a-z$_][a-z$_0-9]*$/i,_="stack"in new Error?function(t){return c(t)?t:new Error(u(t))}:function(t){if(c(t))return t;try{throw new Error(u(t))}catch(t){return t}},S=function(t){return h.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};S=function(t){return h.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?w(t):null}}var E=void 0!==e&&"[object process]"===f(e).toLowerCase(),T=void 0!==e&&void 0!==e.env,x={isClass:function(t){try{if("function"==typeof t){var e=h.names(t.prototype),n=h.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=y.test(t+"")&&h.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return b.test(t)},inheritedDataKeys:m,getDataPropertyOrDefault:function(t,e,n){if(!h.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(t){throw t},isArray:h.isArray,asArray:S,notEnumerableProp:s,isPrimitive:a,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:l,canEvaluate:p,errorObj:v,tryCatch:function(t){return d=t,o},inherits:function(t,e){function n(){for(var n in this.constructor=t,this.constructor$=e,e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},withAppended:function(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i},maybeWrapAsError:function(t){return a(t)?new Error(u(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t},filledRange:function(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r},toString:u,canAttachTrace:c,ensureErrorObject:_,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{s(t,"isOperational",!0)}catch(t){}},classString:f,copyDescriptors:function(t,e,n){for(var r=h.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{h.defineProperty(e,o,h.getDescriptor(t,o))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:E,hasEnvVariables:T,env:function(t){return T?e.env[t]:void 0},global:g,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise((function(){}));if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,e){return t.bind(e)}};x.isRecentNode=x.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),x.isNode&&x.toFastProperties(e);try{throw new Error}catch(t){x.lastLineError=t}r.exports=x},{"./es5":13}]},{},[4])(4)})),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(3),function(){return this}(),n(4).setImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?h=d.concat(h):v=-1,h.length&&a())}function a(){if(!p){var t=i(o);p=!0;for(var e=h.length;e;){for(d=h,h=[];++v<e;)d&&d[v].run();v=-1,e=h.length}d=null,p=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function u(){}var l,c,f=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(t){c=r}}();var d,h=[],p=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new s(t,e)),1!==h.length||p||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,r,i){function o(t,e){this._id=t,this._clearFn=e}var a=Function.prototype.apply;r.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(5),r.setImmediate=e,r.clearImmediate=n},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete s[t]}function i(t){if(u)setTimeout(i,0,t);else{var e=s[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var o,a=1,s={},u=!1,l=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){i(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;o=function(e){var n=l.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(i,0,t)},c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[a]=r,o(a),a++},c.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,function(){return this}(),n(3))}])}).call(this,n(133).setImmediate,n(133).clearImmediate)},function(t,e,n){var r=n(19),i=n(2),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(30)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(1),i=n(10),o=n(5)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(16),i=n(6),o=n(36);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(22),i=n(25);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(4),i=n(21),o=n(5)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(45),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){n(116);var r=n(12),i=n(11),o=n(3),a=n(25),s=n(5),u=n(90),l=s("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!c||"split"===t&&!f){var v=/./[d],g=n(a,d,""[t],(function(t,e,n,r,i){return e.exec===u?h&&!i?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=g[0],y=g[1];r(String.prototype,t,m),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var r=n(2).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(2),i=n(0),o=n(12),a=n(42),s=n(31),u=n(41),l=n(40),c=n(4),f=n(3),d=n(60),h=n(44),p=n(76);t.exports=function(t,e,n,v,g,m){var y=r[t],b=y,_=g?"set":"add",S=b&&b.prototype,w={},E=function(t){var e=S[t];o(S,t,"delete"==t||"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||S.forEach&&!f((function(){(new b).entries().next()})))){var T=new b,x=T[_](m?{}:-0,1)!=T,A=f((function(){T.has(1)})),O=d((function(t){new b(t)})),L=!m&&f((function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)}));O||((b=e((function(e,n){l(e,b,t);var r=p(new y,e,b);return null!=n&&u(n,g,r[_],r),r}))).prototype=S,S.constructor=b),(A||L)&&(E("delete"),E("has"),g&&E("get")),(L||x)&&E(_),m&&S.clear&&delete S.clear}else b=v.getConstructor(e,t,g,_),a(b.prototype,n),s.NEED=!0;return h(b,t),w[t]=b,i(i.G+i.W+i.F*(b!=y),w),m||v.setStrong(b,t,g),b}},function(t,e,n){for(var r,i=n(2),o=n(11),a=n(34),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){t.exports=n(30)||!n(3)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n(2)[t]}))},function(t,e,n){var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){var r=n(0),i=n(10),o=n(20),a=n(41);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),null==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,(function(t){n.push(s(t,r++))}))):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(2),i=n(19),o=n(30),a=n(98),s=n(8).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(49)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(4),i=n(1),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(20)(Function.call,n(17).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(4),i=n(74).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){var r=n(22),i=n(25);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(30),i=n(0),o=n(12),a=n(11),s=n(47),u=n(81),l=n(44),c=n(18),f=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,n,p,v,g,m){u(n,e,p);var y,b,_,S=function(t){if(!d&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E="values"==v,T=!1,x=t.prototype,A=x[f]||x["@@iterator"]||v&&x[v],O=A||S(v),L=v?E?S("entries"):O:void 0,k="Array"==e&&x.entries||A;if(k&&(_=c(k.call(new t)))!==Object.prototype&&_.next&&(l(_,w,!0),r||"function"==typeof _[f]||a(_,f,h)),E&&A&&"values"!==A.name&&(T=!0,O=function(){return A.call(this)}),r&&!m||!d&&!T&&x[f]||a(x,f,O),s[e]=O,s[w]=h,v)if(y={values:E?O:S("values"),keys:g?O:S("keys"),entries:L},m)for(b in y)b in x||o(x,b,y[b]);else i(i.P+i.F*(d||T),e,y);return y}},function(t,e,n){var r=n(37),i=n(33),o=n(44),a={};n(11)(a,n(5)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(59),i=n(25);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(47),i=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(8),i=n(33);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(45),i=n(5)("iterator"),o=n(47);t.exports=n(19).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(239);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(9),i=n(36),o=n(6);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){var r=n(32),i=n(115),o=n(47),a=n(16);t.exports=n(80)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o=n(52),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(t){var e,n,r,i,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(e=u.lastIndex),r=a.call(u,t),l&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),c&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=u},function(t,e,n){var r=n(58)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,a=n(20),s=n(105),u=n(73),l=n(69),c=n(2),f=c.process,d=c.setImmediate,h=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&h||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete m[t]},"process"==n(21)(f)?r=function(t){f.nextTick(a(y,t,1))}:v&&v.now?r=function(t){v.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){var r=n(2),i=n(92).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(21)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(10);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(2),i=n(7),o=n(30),a=n(65),s=n(11),u=n(42),l=n(3),c=n(40),f=n(22),d=n(6),h=n(125),p=n(38).f,v=n(8).f,g=n(88),m=n(44),y=r.ArrayBuffer,b=r.DataView,_=r.Math,S=r.RangeError,w=r.Infinity,E=y,T=_.abs,x=_.pow,A=_.floor,O=_.log,L=_.LN2,k=i?"_b":"buffer",C=i?"_l":"byteLength",R=i?"_o":"byteOffset";function P(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?x(2,-24)-x(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for((t=T(t))!=t||t===w?(i=t!=t?1:0,r=u):(r=A(O(t)/L),t*(o=x(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*x(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*x(2,e),r+=l):(i=t*x(2,l-1)*x(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function D(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-w:w;r+=x(2,e),c-=a}return(l?-1:1)*r*x(2,c-e)}function I(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function M(t){return[255&t,t>>8&255]}function N(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function j(t){return P(t,52,8)}function B(t){return P(t,23,4)}function U(t,e,n){v(t.prototype,e,{get:function(){return this[n]}})}function V(t,e,n,r){var i=h(+n);if(i+e>t[C])throw S("Wrong index!");var o=t[k]._b,a=i+t[R],s=o.slice(a,a+e);return r?s:s.reverse()}function H(t,e,n,r,i,o){var a=h(+n);if(a+e>t[C])throw S("Wrong index!");for(var s=t[k]._b,u=a+t[R],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l((function(){y(1)}))||!l((function(){new y(-1)}))||l((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var G,K=(y=function(t){return c(this,y),new E(h(t))}).prototype=E.prototype,W=p(E),$=0;W.length>$;)(G=W[$++])in y||s(y,G,E[G]);o||(K.constructor=y)}var q=new b(new y(2)),z=b.prototype.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||u(b.prototype,{setInt8:function(t,e){z.call(this,t,e<<24>>24)},setUint8:function(t,e){z.call(this,t,e<<24>>24)}},!0)}else y=function(t){c(this,y,"ArrayBuffer");var e=h(t);this._b=g.call(new Array(e),0),this[C]=e},b=function(t,e,n){c(this,b,"DataView"),c(t,y,"DataView");var r=t[C],i=f(e);if(i<0||i>r)throw S("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw S("Wrong length!");this[k]=t,this[R]=i,this[C]=n},i&&(U(y,"byteLength","_l"),U(b,"buffer","_b"),U(b,"byteLength","_l"),U(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return I(V(this,4,t,arguments[1]))},getUint32:function(t){return I(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return D(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return D(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){H(this,1,t,F,e)},setUint8:function(t,e){H(this,1,t,F,e)},setInt16:function(t,e){H(this,2,t,M,e,arguments[2])},setUint16:function(t,e){H(this,2,t,M,e,arguments[2])},setInt32:function(t,e){H(this,4,t,N,e,arguments[2])},setUint32:function(t,e){H(this,4,t,N,e,arguments[2])},setFloat32:function(t,e){H(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){H(this,8,t,j,e,arguments[2])}});m(y,"ArrayBuffer"),m(b,"DataView"),s(b.prototype,a.VIEW,!0),e.ArrayBuffer=y,e.DataView=b},function(t,e,n){t.exports=function(t){var e,n=t||navigator.userAgent,r=function(t){return-1!==t.indexOf("Windows Phone")?"Windows Phone":-1!==t.indexOf("Win")?"Windows":-1!==t.indexOf("Android")?"Android":-1!==t.indexOf("Linux")?"Linux":-1!==t.indexOf("X11")?"UNIX":/iPad|iPhone|iPod/.test(t)?"iOS":-1!==t.indexOf("Mac")?"OS X":void 0}(n),i=n.match(/(opera|coast|chrome|safari|firefox|edge|trident(?=\/))\/?\s*?(\S+)/i)||[];if(null!==(e=n.match(/\bIEMobile\/(\S+[0-9])/)))return{name:"IEMobile",version:e[1].split(".")[0],fullVersion:e[1],os:r};if(/trident/i.test(i[1]))return{name:"IE",version:(e=/\brv[ :]+(\S+[0-9])/g.exec(n)||[])[1]&&e[1].split(".")[0],fullVersion:e[1],os:r};if("Chrome"===i[1]){if(null!==(e=n.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:e[1].split(".")[0],fullVersion:e[1],os:r};if(null!==(e=n.match(/\bEdg\/(\S+)/)||n.match(/\bEdge\/(\S+)/)))return{name:"Edge",version:e[1].split(".")[0],fullVersion:e[1],os:r}}return"Coast"===(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"])[0]&&(i[0]="OperaCoast"),"Chrome"!==i[0]&&null!==(e=n.match(/version\/(\S+)/i))&&""!==e&&i.splice(1,1,e[1]),"Firefox"===i[0]&&(i[0]=/waterfox/i.test(n)?"Waterfox":i[0]),{name:i[0],version:i[1].split(".")[0],fullVersion:i[1],os:r}}},function(t,e,n){t.exports=!n(7)&&!n(3)((function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){e.f=n(5)},function(t,e,n){var r=n(15),i=n(16),o=n(55)(!1),a=n(71)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(8),i=n(1),o=n(35);t.exports=n(7)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(16),i=n(38).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(7),i=n(35),o=n(56),a=n(51),s=n(9),u=n(50),l=Object.assign;t.exports=!l||n(3)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=s(t),l=arguments.length,c=1,f=o.f,d=a.f;l>c;)for(var h,p=u(arguments[c++]),v=f?i(p).concat(f(p)):i(p),g=v.length,m=0;g>m;)h=v[m++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(10),i=n(4),o=n(105),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function r(){var i=n.concat(a.call(arguments));return this instanceof r?u(e,i.length,i):o(e,i,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(2).parseInt,i=n(46).trim,o=n(75),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(2).parseFloat,i=n(46).trim;t.exports=1/r(n(75)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(21);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(4),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(78),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*(i/u/a+1/o-1/o)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(1);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(10),i=n(9),o=n(50),a=n(6);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),f=a(l.length),d=u?f-1:0,h=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=h;break}if(d+=h,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=h)d in c&&(s=e(s,c[d],d,l));return s}},function(t,e,n){var r=n(9),i=n(36),o=n(6);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(90);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(1),i=n(4),o=n(94);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){var r=n(121),i=n(43);t.exports=n(64)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(8).f,i=n(37),o=n(42),a=n(20),s=n(40),u=n(41),l=n(80),c=n(115),f=n(39),d=n(7),h=n(31).fastKey,p=n(43),v=d?"_s":"size",g=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[l],t)}));return o(c.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(p(this,e),t)}}),d&&r(c.prototype,"size",{get:function(){return p(this,e)[v]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var r=n(121),i=n(43);t.exports=n(64)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){var r,i=n(2),o=n(27)(0),a=n(12),s=n(31),u=n(102),l=n(124),c=n(4),f=n(43),d=n(43),h=!i.ActiveXObject&&"ActiveXObject"in i,p=s.getWeak,v=Object.isExtensible,g=l.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(c(t)){var e=p(t);return!0===e?g(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,"WeakMap"),t,e)}},b=t.exports=n(64)("WeakMap",m,y,l,!0,!0);d&&h&&(u((r=l.getConstructor(m,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=b.prototype,n=e[t];a(e,t,(function(e,i){if(c(e)&&!v(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){var r=n(42),i=n(31).getWeak,o=n(1),a=n(4),s=n(40),u=n(41),l=n(27),c=n(15),f=n(43),d=l(5),h=l(6),p=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,r){s(t,l,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&u(r,n,t[o],t)}));return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(f(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e,n){var r=n(22),i=n(6);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(38),i=n(56),o=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(57),i=n(4),o=n(6),a=n(20),s=n(5)("isConcatSpreadable");t.exports=function t(e,n,u,l,c,f,d,h){for(var p,v,g=c,m=0,y=!!d&&a(d,h,3);m<l;){if(m in u){if(p=y?y(u[m],m,n):u[m],v=!1,i(p)&&(v=void 0!==(v=p[s])?!!v:r(p)),v&&f>0)g=t(e,n,p,o(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}m++}return g}},function(t,e,n){var r=n(6),i=n(77),o=n(25);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(t,e,n){var r=n(7),i=n(35),o=n(16),a=n(51).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),l=u.length,c=0,f=[];l>c;)n=u[c++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){var r=n(45),i=n(131);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(41);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(351),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(54))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var t=s(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){var r=n(14);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){(function(e){var r=n(14),i=n(357),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(139)),s),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u}).call(this,n(134))},function(t,e,n){var r=n(14),i=n(358),o=n(360),a=n(136),s=n(361),u=n(364),l=n(365),c=n(140);t.exports=function(t){return new Promise((function(e,n){var f=t.data,d=t.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(p+":"+v)}var g=s(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?u(h.getAllResponseHeaders()):null,o={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:t,request:h};i(e,n,o),h=null}},h.onabort=function(){h&&(n(c("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(c("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=(t.withCredentials||l(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;m&&(d[t.xsrfHeaderName]=m)}if("setRequestHeader"in h&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),n(t),h=null)})),f||(f=null),h.send(f)}))}},function(t,e,n){var r=n(359);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){var r=n(14);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function l(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))})),r.forEach(o,l),r.forEach(a,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])})),r.forEach(s,(function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))}));var c=i.concat(o).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===c.indexOf(t)}));return r.forEach(f,l),n}},function(t,e,n){function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=new Set,r=function(t,r){var i="function"==typeof t?t(e):t;if(i!==e){var o=e;e=r?i:Object.assign({},e,i),n.forEach((function(t){return t(e,o)}))}},i=function(){return e},o={setState:r,getState:i,subscribe:function(t,r,o){return r||o?function(t,r,o){void 0===r&&(r=i),void 0===o&&(o=Object.is);var a=r(e);function s(){var n=r(e);if(!o(a,n)){var i=a;t(a=n,i)}}return n.add(s),function(){return n.delete(s)}}(t,r,o):(n.add(t),function(){return n.delete(t)})},destroy:function(){return n.clear()}};return e=t(r,i,o),o}},function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Object.defineProperty(e,"__esModule",{value:!0});var i=function t(e){return function(n){try{var r=e(n);return r instanceof Promise?r:{then:function(e){return t(e)(r)},catch:function(t){return this}}}catch(e){return{then:function(t){return this},catch:function(n){return t(n)(e)}}}}};e.combine=function(t,e){return function(n,r,i){return Object.assign({},t,e(n,r,i))}},e.devtools=function(t,e){return function(n,i,o){var a;try{a=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(t){}if(!a)return o.devtools=null,t(n,i,o);var s=t((function(t,e,r){n(t,e),o.dispatch||o.devtools.send(o.devtools.prefix+(r||"action"),i())}),i,o);if(!o.devtools){var u,l=o.setState;o.setState=function(t,e){l(t,e),o.devtools.send(o.devtools.prefix+"setState",o.getState())},e="string"==typeof e?{name:e}:e,o.devtools=a.connect(r({},e)),o.devtools.prefix=null!=(u=e)&&u.name?e.name+" > ":"",o.devtools.subscribe((function(t){var e,n;if("DISPATCH"===t.type&&t.state){var r="JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type;o.dispatch||r?l(JSON.parse(t.state)):o.setState(JSON.parse(t.state))}else if("DISPATCH"===t.type&&"COMMIT"===(null==(e=t.payload)?void 0:e.type))o.devtools.init(o.getState());else if("DISPATCH"===t.type&&"IMPORT_STATE"===(null==(n=t.payload)?void 0:n.type)){var i,a,s=null==(i=t.payload.nextLiftedState)?void 0:i.actionsById;((null==(a=t.payload.nextLiftedState)?void 0:a.computedStates)||[]).forEach((function(t,e){var n=t.state,r=s[e]||o.devtools.prefix+"setState";0===e?o.devtools.init(n):(l(n),o.devtools.send(r,o.getState()))}))}})),o.devtools.init(s)}return s}},e.persist=function(t,e){return function(n,o,a){var s,u=e||{},l=u.name,c=u.getStorage,f=void 0===c?function(){return localStorage}:c,d=u.serialize,h=void 0===d?JSON.stringify:d,p=u.deserialize,v=void 0===p?JSON.parse:p,g=u.blacklist,m=u.whitelist,y=u.onRehydrateStorage,b=u.version,_=void 0===b?0:b,S=u.migrate,w=u.merge,E=void 0===w?function(t,e){return r({},e,t)}:w;try{s=f()}catch(t){}if(!s)return t((function(){console.warn("Persist middleware: unable to update "+l+", the given storage is currently unavailable."),n.apply(void 0,arguments)}),o,a);var T=i(h),x=function(){var t,e=r({},o());m&&Object.keys(e).forEach((function(t){!m.includes(t)&&delete e[t]})),g&&g.forEach((function(t){return delete e[t]}));var n=T({state:e,version:_}).then((function(t){return s.setItem(l,t)})).catch((function(e){t=e}));if(t)throw t;return n},A=a.setState;a.setState=function(t,e){A(t,e),x()};var O,L=t((function(){n.apply(void 0,arguments),x()}),o,a),k=(null==y?void 0:y(o()))||void 0;return i(s.getItem.bind(s))(l).then((function(t){if(t)return v(t)})).then((function(t){if(t){if("number"!=typeof t.version||t.version===_)return t.state;if(S)return S(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(t){return O=E(t,L),n(O,!0),x()})).then((function(){null==k||k(O,void 0)})).catch((function(t){null==k||k(void 0,t)})),O||L}},e.redux=function(t,e){return function(n,i,o){return o.dispatch=function(e){return n((function(n){return t(n,e)})),o.devtools&&o.devtools.send(o.devtools.prefix+e.type,i()),e},r({dispatch:o.dispatch},e)}}},function(t,e,n){"undefined"!=typeof self&&self,t.exports=function(){"use strict";var t={407:function(t,e,n){n.d(e,{default:function(){return I}});var r=/([:*])(\w+)/g,i=/\*/g,o=/\/\?/g;function a(t){return void 0===t&&(t="/"),v()?location.pathname+location.search+location.hash:t}function s(t){return t.replace(/\/+$/,"").replace(/^\/+/,"")}function u(t){return"string"==typeof t}function l(t){return t&&t.indexOf("#")>=0&&t.split("#").pop()||""}function c(t){var e=s(t).split(/\?(.*)?$/);return[s(e[0]),e.slice(1).join("")]}function f(t){for(var e={},n=t.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(""!==i[0]){var o=decodeURIComponent(i[0]);e[o]?(Array.isArray(e[o])||(e[o]=[e[o]]),e[o].push(decodeURIComponent(i[1]||""))):e[o]=decodeURIComponent(i[1]||"")}}return e}function d(t,e){var n,a=c(s(t.currentLocationPath)),d=a[0],h=a[1],p=""===h?null:f(h),v=[];if(u(e.path)){if(n="(?:/^|^)"+s(e.path).replace(r,(function(t,e,n){return v.push(n),"([^/]+)"})).replace(i,"?(?:.*)").replace(o,"/?([^/]+|)")+"$",""===s(e.path)&&""===s(d))return{url:d,queryString:h,hashString:l(t.to),route:e,data:null,params:p}}else n=e.path;var g=new RegExp(n,""),m=d.match(g);if(m){var y=u(e.path)?function(t,e){return 0===e.length?null:t?t.slice(1,t.length).reduce((function(t,n,r){return null===t&&(t={}),t[e[r]]=decodeURIComponent(n),t}),null):null}(m,v):m.groups?m.groups:m.slice(1);return{url:s(d.replace(new RegExp("^"+t.instance.root),"")),queryString:h,hashString:l(t.to),route:e,data:y,params:p}}return!1}function h(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function p(t,e){return void 0===t[e]||!0===t[e]}function v(){return"undefined"!=typeof window}function g(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),t.filter((function(t){return t})).forEach((function(t){["before","after","already","leave"].forEach((function(n){t[n]&&(e[n]||(e[n]=[]),e[n].push(t[n]))}))})),e}function m(t,e,n){var r=e||{},i=0;!function e(){t[i]?Array.isArray(t[i])?(t.splice.apply(t,[i,1].concat(t[i][0](r)?t[i][1]:t[i][2])),e()):t[i](r,(function(t){void 0===t||!0===t?(i+=1,e()):n&&n(r)})):n&&n(r)}()}function y(t,e){void 0===t.currentLocationPath&&(t.currentLocationPath=t.to=a(t.instance.root)),t.currentLocationPath=t.instance._checkForAHash(t.currentLocationPath),e()}function b(t,e){for(var n=0;n<t.instance.routes.length;n++){var r=d(t,t.instance.routes[n]);if(r&&(t.matches||(t.matches=[]),t.matches.push(r),"ONE"===t.resolveOptions.strategy))return void e()}e()}function _(t,e){t.navigateOptions&&(void 0!==t.navigateOptions.shouldResolve&&console.warn('"shouldResolve" is deprecated. Please check the documentation.'),void 0!==t.navigateOptions.silent&&console.warn('"silent" is deprecated. Please check the documentation.')),e()}function S(t,e){!0===t.navigateOptions.force?(t.instance._setCurrent([t.instance._pathToMatchObject(t.to)]),e(!1)):e()}m.if=function(t,e,n){return Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]),[t,e,n]};var w=v(),E=h();function T(t,e){if(p(t.navigateOptions,"updateBrowserURL")){var n=("/"+t.to).replace(/\/\//g,"/"),r=w&&t.resolveOptions&&!0===t.resolveOptions.hash;E?(history[t.navigateOptions.historyAPIMethod||"pushState"](t.navigateOptions.stateObj||{},t.navigateOptions.title||"",r?"#"+n:n),location&&location.hash&&(t.instance.__freezeListening=!0,setTimeout((function(){if(!r){var e=location.hash;location.hash="",location.hash=e}t.instance.__freezeListening=!1}),1))):w&&(window.location.href=t.to)}e()}function x(t,e){var n=t.instance;n.lastResolved()?m(n.lastResolved().map((function(e){return function(n,r){if(e.route.hooks&&e.route.hooks.leave){var i,o=t.instance.matchLocation(e.route.path,t.currentLocationPath,!1);i="*"!==e.route.path?!o:!(t.matches&&t.matches.find((function(t){return e.route.path===t.route.path}))),p(t.navigateOptions,"callHooks")&&i?m(e.route.hooks.leave.map((function(e){return function(n,r){return e((function(e){!1===e?t.instance.__markAsClean(t):r()}),t.matches&&t.matches.length>0?1===t.matches.length?t.matches[0]:t.matches:void 0)}})).concat([function(){return r()}])):r()}else r()}})),{},(function(){return e()})):e()}function A(t,e){p(t.navigateOptions,"updateState")&&t.instance._setCurrent(t.matches),e()}var O=[function(t,e){var n=t.instance.lastResolved();if(n&&n[0]&&n[0].route===t.match.route&&n[0].url===t.match.url&&n[0].queryString===t.match.queryString)return n.forEach((function(e){e.route.hooks&&e.route.hooks.already&&p(t.navigateOptions,"callHooks")&&e.route.hooks.already.forEach((function(e){return e(t.match)}))})),void e(!1);e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.before&&p(t.navigateOptions,"callHooks")?m(t.match.route.hooks.before.map((function(e){return function(n,r){return e((function(e){!1===e?t.instance.__markAsClean(t):r()}),t.match)}})).concat([function(){return e()}])):e()},function(t,e){p(t.navigateOptions,"callHandler")&&t.match.route.handler(t.match),t.instance.updatePageLinks(),e()},function(t,e){t.match.route.hooks&&t.match.route.hooks.after&&p(t.navigateOptions,"callHooks")&&t.match.route.hooks.after.forEach((function(e){return e(t.match)})),e()}],L=[x,function(t,e){var n=t.instance._notFoundRoute;if(n){t.notFoundHandled=!0;var r=c(t.currentLocationPath),i=r[0],o=r[1],a=l(t.to);n.path=s(i);var u={url:n.path,queryString:o,hashString:a,data:null,route:n,params:""!==o?f(o):null};t.matches=[u],t.match=u}e()},m.if((function(t){return t.notFoundHandled}),O.concat([A]),[function(t,e){t.resolveOptions&&!1!==t.resolveOptions.noMatchWarning&&void 0!==t.resolveOptions.noMatchWarning||console.warn('Navigo: "'+t.currentLocationPath+"\" didn't match any of the registered routes."),e()},function(t,e){t.instance._setCurrent(null),e()}])];function k(){return(k=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function C(t,e){var n=0;x(t,(function r(){n!==t.matches.length?m(O,k({},t,{match:t.matches[n]}),(function(){n+=1,r()})):A(t,e)}))}function R(t){t.instance.__markAsClean(t)}function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var D="[data-navigo]";function I(t,e){var n,r=e||{strategy:"ONE",hash:!1,noMatchWarning:!1,linksSelector:D},i=this,o="/",p=null,w=[],E=!1,x=h(),A=v();function O(t){return t.indexOf("#")>=0&&(t=!0===r.hash?t.split("#")[1]||"/":t.split("#")[0]),t}function k(t){return s(o+"/"+s(t))}function I(t,e,n,r){return t=u(t)?k(t):t,{name:r||s(String(t)),path:t,handler:e,hooks:g(n)}}function F(t,e){if(!i.__dirty){i.__dirty=!0,t=t?s(o)+"/"+s(t):void 0;var n={instance:i,to:t,currentLocationPath:t,navigateOptions:{},resolveOptions:P({},r,e)};return m([y,b,m.if((function(t){var e=t.matches;return e&&e.length>0}),C,L)],n,R),!!n.matches&&n.matches}i.__waiting.push((function(){return i.resolve(t,e)}))}function M(t,e){if(i.__dirty)i.__waiting.push((function(){return i.navigate(t,e)}));else{i.__dirty=!0,t=s(o)+"/"+s(t);var n={instance:i,to:t,navigateOptions:e||{},resolveOptions:e&&e.resolveOptions?e.resolveOptions:r,currentLocationPath:O(t)};m([_,S,b,m.if((function(t){var e=t.matches;return e&&e.length>0}),C,L),T,R],n,R)}}function N(){if(A)return(A?[].slice.call(document.querySelectorAll(r.linksSelector||D)):[]).forEach((function(t){"false"!==t.getAttribute("data-navigo")&&"_blank"!==t.getAttribute("target")?t.hasListenerAttached||(t.hasListenerAttached=!0,t.navigoHandler=function(e){if((e.ctrlKey||e.metaKey)&&"a"===e.target.tagName.toLowerCase())return!1;var n=t.getAttribute("href");if(null==n)return!1;if(n.match(/^(http|https)/)&&"undefined"!=typeof URL)try{var r=new URL(n);n=r.pathname+r.search}catch(t){}var o=function(t){if(!t)return{};var e,n=t.split(","),r={};return n.forEach((function(t){var n=t.split(":").map((function(t){return t.replace(/(^ +| +$)/g,"")}));switch(n[0]){case"historyAPIMethod":r.historyAPIMethod=n[1];break;case"resolveOptionsStrategy":e||(e={}),e.strategy=n[1];break;case"resolveOptionsHash":e||(e={}),e.hash="true"===n[1];break;case"updateBrowserURL":case"callHandler":case"updateState":case"force":r[n[0]]="true"===n[1]}})),e&&(r.resolveOptions=e),r}(t.getAttribute("data-navigo-options"));E||(e.preventDefault(),e.stopPropagation(),i.navigate(s(n),o))},t.addEventListener("click",t.navigoHandler)):t.hasListenerAttached&&t.removeEventListener("click",t.navigoHandler)})),i}function j(t,e,n){var r=w.find((function(e){return e.name===t})),i=null;if(r){if(i=r.path,e)for(var a in e)i=i.replace(":"+a,e[a]);i=i.match(/^\//)?i:"/"+i}return i&&n&&!n.includeRoot&&(i=i.replace(new RegExp("^/"+o),"")),i}function B(t){var e=c(s(t)),r=e[0],i=e[1],o=""===i?null:f(i);return{url:r,queryString:i,hashString:l(t),route:I(r,(function(){}),[n],r),data:null,params:o}}function U(t,e,n){return"string"==typeof e&&(e=V(e)),e?(e.hooks[t]||(e.hooks[t]=[]),e.hooks[t].push(n),function(){e.hooks[t]=e.hooks[t].filter((function(t){return t!==n}))}):(console.warn("Route doesn't exists: "+e),function(){})}function V(t){return"string"==typeof t?w.find((function(e){return e.name===k(t)})):w.find((function(e){return e.handler===t}))}t?o=s(t):console.warn('Navigo requires a root path in its constructor. If not provided will use "/" as default.'),this.root=o,this.routes=w,this.destroyed=E,this.current=p,this.__freezeListening=!1,this.__waiting=[],this.__dirty=!1,this.__markAsClean=function(t){t.instance.__dirty=!1,t.instance.__waiting.length>0&&t.instance.__waiting.shift()()},this.on=function(t,e,r){var i=this;return"object"!=typeof t||t instanceof RegExp?("function"==typeof t&&(r=e,e=t,t=o),w.push(I(t,e,[n,r])),this):(Object.keys(t).forEach((function(e){if("function"==typeof t[e])i.on(e,t[e]);else{var r=t[e],o=r.uses,a=r.as,s=r.hooks;w.push(I(e,o,[n,s],a))}})),this)},this.off=function(t){return this.routes=w=w.filter((function(e){return u(t)?s(e.path)!==s(t):"function"==typeof t?t!==e.handler:String(e.path)!==String(t)})),this},this.resolve=F,this.navigate=M,this.navigateByName=function(t,e,n){var r=j(t,e);return null!==r&&(M(r.replace(new RegExp("^/?"+o),""),n),!0)},this.destroy=function(){this.routes=w=[],x&&window.removeEventListener("popstate",this.__popstateListener),this.destroyed=E=!0},this.notFound=function(t,e){return i._notFoundRoute=I("*",t,[n,e],"__NOT_FOUND__"),this},this.updatePageLinks=N,this.link=function(t){return"/"+o+"/"+s(t)},this.hooks=function(t){return n=t,this},this.extractGETParameters=function(t){return c(O(t))},this.lastResolved=function(){return p},this.generate=j,this.getLinkPath=function(t){return t.getAttribute("href")},this.match=function(t){var e={instance:i,currentLocationPath:t,to:t,navigateOptions:{},resolveOptions:r};return b(e,(function(){})),!!e.matches&&e.matches},this.matchLocation=function(t,e,n){void 0===e||void 0!==n&&!n||(e=k(e));var r={instance:i,to:e,currentLocationPath:e};return y(r,(function(){})),"string"==typeof t&&(t=void 0===n||n?k(t):t),d(r,{name:String(t),path:t,handler:function(){},hooks:{}})||!1},this.getCurrentLocation=function(){return B(s(a(o)).replace(new RegExp("^"+o),""))},this.addBeforeHook=U.bind(this,"before"),this.addAfterHook=U.bind(this,"after"),this.addAlreadyHook=U.bind(this,"already"),this.addLeaveHook=U.bind(this,"leave"),this.getRoute=V,this._pathToMatchObject=B,this._clean=s,this._checkForAHash=O,this._setCurrent=function(t){return p=i.current=t},function(){x&&(this.__popstateListener=function(){i.__freezeListening||F()},window.addEventListener("popstate",this.__popstateListener))}.call(this),N.call(this)}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}return n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(407)}().default},function(t,e,n){t.exports=n(352)},function(t,e,n){(function(t){if(n(148),n(345),n(346),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&e(Array,t,Function.call.bind([][t]))}))}).call(this,n(54))},function(t,e,n){n(149),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(229),n(230),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(89),n(253),n(116),n(254),n(117),n(255),n(256),n(257),n(258),n(259),n(120),n(122),n(123),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),t.exports=n(19)},function(t,e,n){var r=n(2),i=n(15),o=n(7),a=n(0),s=n(12),u=n(31).KEY,l=n(3),c=n(49),f=n(44),d=n(34),h=n(5),p=n(98),v=n(70),g=n(151),m=n(57),y=n(1),b=n(4),_=n(9),S=n(16),w=n(24),E=n(33),T=n(37),x=n(101),A=n(17),O=n(56),L=n(8),k=n(35),C=A.f,R=L.f,P=x.f,D=r.Symbol,I=r.JSON,F=I&&I.stringify,M=h("_hidden"),N=h("toPrimitive"),j={}.propertyIsEnumerable,B=c("symbol-registry"),U=c("symbols"),V=c("op-symbols"),H=Object.prototype,G="function"==typeof D&&!!O.f,K=r.QObject,W=!K||!K.prototype||!K.prototype.findChild,$=o&&l((function(){return 7!=T(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(H,e);r&&delete H[e],R(t,e,n),r&&t!==H&&R(H,e,r)}:R,q=function(t){var e=U[t]=T(D.prototype);return e._k=t,e},z=G&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,n){return t===H&&Y(V,e,n),y(t),e=w(e,!0),y(n),i(U,e)?(n.enumerable?(i(t,M)&&t[M][e]&&(t[M][e]=!1),n=T(n,{enumerable:E(0,!1)})):(i(t,M)||R(t,M,E(1,{})),t[M][e]=!0),$(t,e,n)):R(t,e,n)},X=function(t,e){y(t);for(var n,r=g(e=S(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},Q=function(t){var e=j.call(this,t=w(t,!0));return!(this===H&&i(U,t)&&!i(V,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,M)&&this[M][t])||e)},J=function(t,e){if(t=S(t),e=w(e,!0),t!==H||!i(U,e)||i(V,e)){var n=C(t,e);return!n||!i(U,e)||i(t,M)&&t[M][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=P(S(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==M||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===H,r=P(n?V:S(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(H,e)||o.push(U[e]);return o};G||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function e(n){this===H&&e.call(V,n),i(this,M)&&i(this[M],t)&&(this[M][t]=!1),$(this,t,E(1,n))};return o&&W&&$(H,t,{configurable:!0,set:e}),q(t)}).prototype,"toString",(function(){return this._k})),A.f=J,L.f=Y,n(38).f=x.f=Z,n(51).f=Q,O.f=tt,o&&!n(30)&&s(H,"propertyIsEnumerable",Q,!0),p.f=function(t){return q(h(t))}),a(a.G+a.W+a.F*!G,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var rt=k(h.store),it=0;rt.length>it;)v(rt[it++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=D(t)},keyFor:function(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!G,"Object",{create:function(t,e){return void 0===e?T(t):X(T(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=l((function(){O.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return O.f(_(t))}}),I&&a(a.S+a.F*(!G||l((function(){var t=D();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!z(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!z(e))return e}),r[1]=e,F.apply(I,r)}}),D.prototype[N]||n(11)(D.prototype,N,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(49)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(35),i=n(56),o=n(51);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(37)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(100)})},function(t,e,n){var r=n(16),i=n(17).f;n(26)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(9),i=n(18);n(26)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(9),i=n(35);n(26)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(26)("getOwnPropertyNames",(function(){return n(101).f}))},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(26)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(26)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(4),i=n(31).onFreeze;n(26)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(4);n(26)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(4);n(26)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(4);n(26)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(102)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(103)})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(74).set})},function(t,e,n){var r=n(45),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(12)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(104)})},function(t,e,n){var r=n(8).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(7)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(4),i=n(18),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(106);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(107);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(2),i=n(15),o=n(21),a=n(76),s=n(24),u=n(3),l=n(38).f,c=n(17).f,f=n(8).f,d=n(46).trim,h=r.Number,p=h,v=h.prototype,g="Number"==o(n(37)(v)),m="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=m?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(g?u((function(){v.valueOf.call(n)})):"Number"!=o(n))?a(new p(y(e)),n,h):y(e)};for(var b,_=n(7)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;_.length>S;S++)i(p,b=_[S])&&!i(h,b)&&f(h,b,c(p,b));h.prototype=v,v.constructor=h,n(12)(r,"Number",h)}},function(t,e,n){var r=n(0),i=n(22),o=n(108),a=n(77),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},p=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),v="",g="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*p(2,69,1))-69)<0?u*p(2,-e,1):u/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(p(10,r,1),0),r=e-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),g=h()}else f(0,n),f(1<<-e,0),g=h()+a.call("0",l);return g=l>0?v+((s=g.length)<=l?"0."+a.call("0",l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l)):v+g}})},function(t,e,n){var r=n(0),i=n(3),o=n(108),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(109)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(109),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(107);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(106);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(110),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(78);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(79);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(111)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(110)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(78)})},function(t,e,n){var r=n(0),i=n(79),o=Math.exp;r(r.S+r.F*n(3)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(79),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(36),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(16),o=n(6);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(46)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){var r=n(58)(!0);n(80)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(0),i=n(58)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){var r=n(0),i=n(6),o=n(82),a="".endsWith;r(r.P+r.F*n(83)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){var r=n(0),i=n(82);r(r.P+r.F*n(83)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(77)})},function(t,e,n){var r=n(0),i=n(6),o=n(82),a="".startsWith;r(r.P+r.F*n(83)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){n(13)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){n(13)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){n(13)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){n(13)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){n(13)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){n(13)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){n(13)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){n(13)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){n(13)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){n(13)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){n(13)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){n(13)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){n(13)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){var r=n(0),i=n(9),o=n(24);r(r.P+r.F*n(3)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),i=n(228);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(12)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(11)(i,r,n(231))},function(t,e,n){var r=n(1),i=n(24);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(57)})},function(t,e,n){var r=n(20),i=n(0),o=n(9),a=n(112),s=n(84),u=n(6),l=n(85),c=n(86);i(i.S+i.F*!n(60)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=c(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),null==y||h==Array&&s(y))for(n=new h(e=u(d.length));e>m;m++)l(n,m,g?v(d[m],m):d[m]);else for(f=y.call(d),n=new h;!(i=f.next()).done;m++)l(n,m,g?a(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){var r=n(0),i=n(85);r(r.S+r.F*n(3)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var r=n(0),i=n(16),o=[].join;r(r.P+r.F*(n(50)!=Object||!n(23)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(0),i=n(73),o=n(21),a=n(36),s=n(6),u=[].slice;r(r.P+r.F*n(3)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(t,e,n){var r=n(0),i=n(10),o=n(9),a=n(3),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(23)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){var r=n(0),i=n(27)(0),o=n(23)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(4),i=n(57),o=n(5)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(0),i=n(27)(1);r(r.P+r.F*!n(23)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0),i=n(27)(2);r(r.P+r.F*!n(23)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0),i=n(27)(3);r(r.P+r.F*!n(23)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0),i=n(27)(4);r(r.P+r.F*!n(23)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(0),i=n(113);r(r.P+r.F*!n(23)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r=n(0),i=n(113);r(r.P+r.F*!n(23)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){var r=n(0),i=n(55)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(23)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){var r=n(0),i=n(16),o=n(22),a=n(6),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(23)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(114)}),n(32)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(88)}),n(32)("fill")},function(t,e,n){var r=n(0),i=n(27)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("find")},function(t,e,n){var r=n(0),i=n(27)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)(o)},function(t,e,n){n(39)("Array")},function(t,e,n){var r=n(2),i=n(76),o=n(8).f,a=n(38).f,s=n(59),u=n(52),l=r.RegExp,c=l,f=l.prototype,d=/a/g,h=/a/g,p=new l(d)!==d;if(n(7)&&(!p||n(3)((function(){return h[n(5)("match")]=!1,l(d)!=d||l(h)==h||"/a/i"!=l(d,"i")})))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:f,l)};for(var v=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},g=a(c),m=0;g.length>m;)v(g[m++]);f.constructor=l,l.prototype=f,n(12)(r,"RegExp",l)}n(39)("RegExp")},function(t,e,n){n(117);var r=n(1),i=n(52),o=n(7),a=/./.toString,s=function(t){n(12)(RegExp.prototype,"toString",t,!0)};n(3)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){var r=n(1),i=n(6),o=n(91),a=n(61);n(62)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var f,d=[],h=0;null!==(f=a(u,l));){var p=String(f[0]);d[h]=p,""===p&&(u.lastIndex=o(l,i(u.lastIndex),c)),h++}return 0===h?null:d}]}))},function(t,e,n){var r=n(1),i=n(9),o=n(6),a=n(22),s=n(91),u=n(61),l=Math.max,c=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n(62)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),h="function"==typeof e;h||(e=String(e));var g=f.global;if(g){var m=f.unicode;f.lastIndex=0}for(var y=[];;){var b=u(f,d);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(f.lastIndex=s(d,o(f.lastIndex),m))}for(var _,S="",w=0,E=0;E<y.length;E++){b=y[E];for(var T=String(b[0]),x=l(c(a(b.index),d.length),0),A=[],O=1;O<b.length;O++)A.push(void 0===(_=b[O])?_:String(_));var L=b.groups;if(h){var k=[T].concat(A,x,d);void 0!==L&&k.push(L);var C=String(e.apply(void 0,k))}else C=v(T,d,x,A,L,e);x>=w&&(S+=d.slice(w,x)+C,w=x+T.length)}return S+d.slice(w)}];function v(t,e,r,o,a,s){var u=r+t.length,l=o.length,c=h;return void 0!==a&&(a=i(a),c=d),n.call(s,c,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var d=f(c/10);return 0===d?n:d<=l?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s}))}}))},function(t,e,n){var r=n(1),i=n(103),o=n(61);n(62)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},function(t,e,n){var r=n(59),i=n(1),o=n(53),a=n(91),s=n(6),u=n(61),l=n(90),c=n(3),f=Math.min,d=[].push,h="length",p=!c((function(){RegExp(4294967295,"y")}));n(62)("split",2,(function(t,e,n,c){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[h]||2!="ab".split(/(?:ab)*/)[h]||4!=".".split(/(.?)(.?)/)[h]||".".split(/()()/)[h]>1||"".split(/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,c+"g");(o=l.call(v,i))&&!((a=v.lastIndex)>f&&(u.push(i.slice(f,o.index)),o[h]>1&&o.index<i[h]&&d.apply(u,o.slice(1)),s=o[0][h],f=a,u[h]>=p));)v.lastIndex===o.index&&v.lastIndex++;return f===i[h]?!s&&v.test("")||u.push(""):u.push(i.slice(f)),u[h]>p?u.slice(0,p):u}:"0".split(void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):v.call(String(i),n,r)},function(t,e){var r=c(v,t,this,e,v!==n);if(r.done)return r.value;var l=i(t),d=String(this),h=o(l,RegExp),g=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),y=new h(p?l:"^(?:"+l.source+")",m),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===d.length)return null===u(y,d)?[d]:[];for(var _=0,S=0,w=[];S<d.length;){y.lastIndex=p?S:0;var E,T=u(y,p?d:d.slice(S));if(null===T||(E=f(s(y.lastIndex+(p?0:S)),d.length))===_)S=a(d,S,g);else{if(w.push(d.slice(_,S)),w.length===b)return w;for(var x=1;x<=T.length-1;x++)if(w.push(T[x]),w.length===b)return w;S=_=E}}return w.push(d.slice(_)),w}]}))},function(t,e,n){var r,i,o,a,s=n(30),u=n(2),l=n(20),c=n(45),f=n(0),d=n(4),h=n(10),p=n(40),v=n(41),g=n(53),m=n(92).set,y=n(93)(),b=n(94),_=n(118),S=n(63),w=n(119),E=u.TypeError,T=u.process,x=T&&T.versions,A=x&&x.v8||"",O=u.Promise,L="process"==c(T),k=function(){},C=i=b.f,R=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(k,k)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==A.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&M(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(E("Promise-chain cycle")):(o=P(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){m.call(u,(function(){var e,n,r,i=t._v,o=F(t);if(o&&(e=_((function(){L?T.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=L||F(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){m.call(u,(function(){var e;L?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},j=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(n=P(e))?y((function(){var i={_w:r,_d:!1};try{n.call(e,l(t,i,1),l(N,i,1))}catch(t){N.call(i,t)}})):(r._v=e,r._s=1,D(r,!1))}catch(t){N.call({_w:r,_d:!1},t)}}};R||(O=function(t){p(this,O,"Promise","_h"),h(t),r.call(this);try{t(l(j,this,1),l(N,this,1))}catch(t){N.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(O.prototype,{then:function(t,e){var n=C(g(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(j,t,1),this.reject=l(N,t,1)},b.f=C=function(t){return t===O||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!R,{Promise:O}),n(44)(O,"Promise"),n(39)("Promise"),a=n(19).Promise,f(f.S+f.F*!R,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!R),"Promise",{resolve:function(t){return w(s&&this===a?O:this,t)}}),f(f.S+f.F*!(R&&n(60)((function(t){O.all(t).catch(k)}))),"Promise",{all:function(t){var e=this,n=C(e),r=n.resolve,i=n.reject,o=_((function(){var n=[],o=0,a=1;v(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=C(e),r=n.reject,i=_((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(124),i=n(43);n(64)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){var r=n(0),i=n(65),o=n(95),a=n(1),s=n(36),u=n(6),l=n(4),c=n(2).ArrayBuffer,f=n(53),d=o.ArrayBuffer,h=o.DataView,p=i.ABV&&c.isView,v=d.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return p&&p(t)||l(t)&&g in t}}),r(r.P+r.U+r.F*n(3)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,d))(u(i-r)),l=new h(this),c=new h(o),p=0;r<i;)c.setUint8(p++,l.getUint8(r++));return o}}),n(39)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(65).ABV,{DataView:n(95).DataView})},function(t,e,n){n(28)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(28)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(28)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(0),i=n(10),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(37),o=n(10),a=n(1),s=n(4),u=n(3),l=n(104),c=(n(2).Reflect||{}).construct,f=u((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),d=!u((function(){c((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,h=i(s(u)?u:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},function(t,e,n){var r=n(8),i=n(0),o=n(1),a=n(24);i(i.S+i.F*n(3)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(17).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(0),i=n(1),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(81)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(17),i=n(18),o=n(15),a=n(0),s=n(4),u=n(1);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,n,c):void 0}})},function(t,e,n){var r=n(17),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(18),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(126)})},function(t,e,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(8),i=n(17),o=n(18),a=n(15),s=n(0),u=n(33),l=n(1),c=n(4);s(s.S,"Reflect",{set:function t(e,n,s){var f,d,h=arguments.length<4?e:arguments[3],p=i.f(l(e),n);if(!p){if(c(d=o(e)))return t(d,n,s,h);p=u(0)}if(a(p,"value")){if(!1===p.writable||!c(h))return!1;if(f=i.f(h,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(h,n,f)}else r.f(h,n,u(0,s));return!0}return void 0!==p.set&&(p.set.call(h,s),!0)}})},function(t,e,n){var r=n(0),i=n(74);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(55)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("includes")},function(t,e,n){var r=n(0),i=n(127),o=n(9),a=n(6),s=n(10),u=n(87);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(32)("flatMap")},function(t,e,n){var r=n(0),i=n(127),o=n(9),a=n(6),s=n(22),u=n(87);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(32)("flatten")},function(t,e,n){var r=n(0),i=n(58)(!0),o=n(3)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(t){return i(this,t)}})},function(t,e,n){var r=n(0),i=n(128),o=n(63),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(0),i=n(128),o=n(63),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(46)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(46)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){var r=n(0),i=n(25),o=n(6),a=n(59),s=n(52),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(81)(l,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(70)("asyncIterator")},function(t,e,n){n(70)("observable")},function(t,e,n){var r=n(0),i=n(126),o=n(16),a=n(17),s=n(85);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,e=l[f++]))&&s(c,e,n);return c}})},function(t,e,n){var r=n(0),i=n(129)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(129)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(9),o=n(10),a=n(8);n(7)&&r(r.P+n(66),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(9),o=n(10),a=n(8);n(7)&&r(r.P+n(66),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(9),o=n(24),a=n(18),s=n(17).f;n(7)&&r(r.P+n(66),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){var r=n(0),i=n(9),o=n(24),a=n(18),s=n(17).f;n(7)&&r(r.P+n(66),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(130)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(130)("Set")})},function(t,e,n){n(67)("Map")},function(t,e,n){n(67)("Set")},function(t,e,n){n(67)("WeakMap")},function(t,e,n){n(67)("WeakSet")},function(t,e,n){n(68)("Map")},function(t,e,n){n(68)("Set")},function(t,e,n){n(68)("WeakMap")},function(t,e,n){n(68)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(2)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(t,e,n){var r=n(0),i=n(21);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0),i=n(132),o=n(111);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(132)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var r=n(0),i=n(19),o=n(2),a=n(53),s=n(119);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){var r=n(0),i=n(94),o=n(118);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(29),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(29),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(29),i=n(1),o=n(18),a=r.has,s=r.get,u=r.key,l=function t(e,n,r){if(a(e,n,r))return s(e,n,r);var i=o(n);return null!==i?t(e,i,r):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(122),i=n(131),o=n(29),a=n(1),s=n(18),u=o.keys,l=o.key,c=function t(e,n){var o=u(e,n),a=s(e);if(null===a)return o;var l=t(a,n);return l.length?o.length?i(new r(o.concat(l))):l:o};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(29),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(29),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(29),i=n(1),o=n(18),a=r.has,s=r.key,u=function t(e,n,r){if(a(e,n,r))return!0;var i=o(n);return null!==i&&t(e,i,r)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(29),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(29),i=n(1),o=n(10),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(0),i=n(93)(),o=n(2).process,a="process"==n(21)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){var r=n(0),i=n(2),o=n(19),a=n(93)(),s=n(5)("observable"),u=n(10),l=n(1),c=n(40),f=n(42),d=n(11),h=n(41),p=h.RETURN,v=function(t){return null==t?void 0:u(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,g(t))},b=function(t,e){l(t),this._c=void 0,this._o=t,t=new _(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&g(this)};b.prototype=f({},{unsubscribe:function(){y(this)}});var _=function(t){this._s=t};_.prototype=f({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var S=function(t){c(this,S,"Observable","_f")._f=u(t)};f(S.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)((function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})}))}}),f(S,{from:function(t){var e="function"==typeof this?this:S,n=v(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e((function(t){return r.subscribe(t)}))}return new e((function(e){var n=!1;return a((function(){if(!n){try{if(h(t,!1,(function(t){if(e.next(t),n)return p}))===p)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:S)((function(t){var e=!1;return a((function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}})),function(){e=!0}}))}}),d(S.prototype,s,(function(){return this})),r(r.G,{Observable:S}),n(39)("Observable")},function(t,e,n){var r=n(2),i=n(0),o=n(63),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),i=n(92);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(89),i=n(35),o=n(12),a=n(2),s=n(11),u=n(47),l=n(5),c=l("iterator"),f=l("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var g,m=p[v],y=h[m],b=a[m],_=b&&b.prototype;if(_&&(_[c]||s(_,c,d),_[f]||s(_,f,m),u[m]=d,y))for(g in r)_[g]||o(_,g,r[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=v;var c={},f={};f[o]=function(){return this};var d=Object.getPrototypeOf,h=d&&d(d(A([])));h&&h!==n&&r.call(h,o)&&(f=h);var p=b.prototype=m.prototype=Object.create(f);y.prototype=p.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(p),t},l.awrap=function(t){return{__await:t}},_(S.prototype),S.prototype[a]=function(){return this},l.AsyncIterator=S,l.async=function(t,e,n,r){var i=new S(v(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(p),p[s]="Generator",p[o]=function(){return this},p.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=A,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function v(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=g(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function y(){}function b(){}function _(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function S(t){function n(e,i,o,a){var s=g(t[e],t,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),a)}a(s.arg)}var i;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function r(){return new Promise((function(r,i){n(t,e,r,i)}))}return i=i?i.then(r,r):r()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=g(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(54))},function(t,e,n){n(347),t.exports=n(19).RegExp.escape},function(t,e,n){var r=n(0),i=n(348)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e){window.webOS=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e),n.d(e,"deviceInfo",(function(){return x})),n.d(e,"fetchAppId",(function(){return r})),n.d(e,"fetchAppInfo",(function(){return o})),n.d(e,"fetchAppRootPath",(function(){return a})),n.d(e,"keyboard",(function(){return A})),n.d(e,"libVersion",(function(){return L})),n.d(e,"platformBack",(function(){return s})),n.d(e,"platform",(function(){return E})),n.d(e,"service",(function(){return p})),n.d(e,"systemInfo",(function(){return O}));var r=function(){return window.PalmSystem&&window.PalmSystem.identifier?window.PalmSystem.identifier.split(" ")[0]:""},i={},o=function(t,e){if(0===Object.keys(i).length){var n=function(e,n){if(!e&&n)try{i=JSON.parse(n),t&&t(i)}catch(e){console.error("Unable to parse appinfo.json file for",r()),t&&t()}else t&&t()},o=new window.XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(o.status>=200&&o.status<300||0===o.status?n(null,o.responseText):n({status:404}))};try{o.open("GET",e||"appinfo.json",!0),o.send(null)}catch(t){n({status:404})}}else t&&t(i)},a=function(){var t=window.location.href;if("baseURI"in window.document)t=window.document.baseURI;else{var e=window.document.getElementsByTagName("base");e.length>0&&(t=e[0].href)}var n=t.match(new RegExp(".*://[^#]*/"));return n?n[0]:""},s=function(){if(window.PalmSystem&&window.PalmSystem.platformBack)return window.PalmSystem.platformBack()};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d={},h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bridge=null,this.cancelled=!1,this.subscribe=!1}var e,n;return e=t,(n=[{key:"send",value:function(t){var e=t.service,n=void 0===e?"":e,r=t.method,i=void 0===r?"":r,o=t.parameters,a=void 0===o?{}:o,s=t.onSuccess,u=void 0===s?function(){}:s,c=t.onFailure,f=void 0===c?function(){}:c,h=t.onComplete,p=void 0===h?function(){}:h,v=t.subscribe,g=void 0!==v&&v;if(!window.PalmServiceBridge){var m={errorCode:-1,errorText:"PalmServiceBridge is not found.",returnValue:!1};return f(m),p(m),console.error("PalmServiceBridge is not found."),this}this.ts&&d[this.ts]&&delete d[this.ts];var y,b=l({},a);return this.subscribe=g,this.subscribe&&(b.subscribe=this.subscribe),b.subscribe&&(this.subscribe=b.subscribe),this.ts=Date.now(),d[this.ts]=this,this.bridge=new PalmServiceBridge,this.bridge.onservicecallback=this.callback.bind(this,u,f,p),this.bridge.call(("/"!==(y=n).slice(-1)&&(y+="/"),y+i),JSON.stringify(b)),this}},{key:"callback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!this.cancelled){var i={};try{i=JSON.parse(r)}catch(t){i={errorCode:-1,errorText:r,returnValue:!1}}var o=i,a=o.errorCode,s=o.returnValue;a||!1===s?(i.returnValue=!1,e(i)):(i.returnValue=!0,t(i)),n(i),this.subscribe||this.cancel()}}},{key:"cancel",value:function(){this.cancelled=!0,null!==this.bridge&&(this.bridge.cancel(),this.bridge=null),this.ts&&d[this.ts]&&delete d[this.ts]}}])&&f(e.prototype,n),t}(),p={request:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=l({service:t},e);return(new h).send(n)}};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g={};if("object"===("undefined"==typeof window?"undefined":v(window))&&window.PalmSystem){if(window.navigator.userAgent.indexOf("SmartWatch")>-1)g.watch=!0;else if(window.navigator.userAgent.indexOf("SmartTV")>-1||window.navigator.userAgent.indexOf("Large Screen")>-1)g.tv=!0;else{try{var m=JSON.parse(window.PalmSystem.deviceInfo||"{}");if(m.platformVersionMajor&&m.platformVersionMinor){var y=Number(m.platformVersionMajor),b=Number(m.platformVersionMinor);y<3||3===y&&b<=0?g.legacy=!0:g.open=!0}}catch(t){g.open=!0}window.Mojo=window.Mojo||{relaunch:function(){}},window.PalmSystem.stageReady&&window.PalmSystem.stageReady()}if(window.navigator.userAgent.indexOf("Chr0me")>-1||window.navigator.userAgent.indexOf("Chrome")>-1){var _=window.navigator.userAgent.indexOf("Chr0me")>-1?window.navigator.userAgent.indexOf("Chr0me"):window.navigator.userAgent.indexOf("Chrome"),S=window.navigator.userAgent.slice(_).indexOf(" "),w=window.navigator.userAgent.slice(_+7,_+S).split(".");g.chrome=Number(w[0])}else g.chrome=0}else g.unknown=!0;var E=g,T={},x=function(t){if(0===Object.keys(T).length){try{var e=JSON.parse(window.PalmSystem.deviceInfo);T.modelName=e.modelName,T.version=e.platformVersion,T.versionMajor=e.platformVersionMajor,T.versionMinor=e.platformVersionMinor,T.versionDot=e.platformVersionDot,T.sdkVersion=e.platformVersion,T.screenWidth=e.screenWidth,T.screenHeight=e.screenHeight}catch(t){T.modelName="webOS Device"}T.screenHeight=T.screenHeight||window.screen.height,T.screenWidth=T.screenWidth||window.screen.width,E.tv&&(E.chrome>=68?(new h).send({service:"luna://com.webos.service.config",method:"getConfigs",parameters:{configNames:["tv.model.modelname","tv.nyx.platformVersion","tv.nyx.firmwareVersion","tv.hw.panelResolution","tv.hw.displayType","tv.hw.ddrSize","tv.model.supportHDR","tv.config.supportDolbyHDRContents","tv.config.supportDolbyTVATMOS"]},onSuccess:function(e){if(T.modelName=e.configs["tv.model.modelname"]||T.modelName,T.sdkVersion=e.configs["tv.nyx.platformVersion"]||T.sdkVersion,T.uhd="UD"===e.configs["tv.hw.panelResolution"]||"8K"===e.configs["tv.hw.panelResolution"],T.uhd8K="8K"===e.configs["tv.hw.panelResolution"],T.oled="OLED"===e.configs["tv.hw.displayType"],T.ddrSize=e.configs["tv.hw.ddrSize"],T.hdr10=!0===e.configs["tv.model.supportHDR"],T.dolbyVision=!0===e.configs["tv.config.supportDolbyHDRContents"],T.dolbyAtmos=!0===e.configs["tv.config.supportDolbyTVATMOS"],e.configs["tv.nyx.firmwareVersion"]&&"0.0.0"!==e.configs["tv.nyx.firmwareVersion"]||(e.configs["tv.nyx.firmwareVersion"]=e.configs["tv.nyx.platformVersion"]),e.configs["tv.nyx.firmwareVersion"]){T.version=e.configs["tv.nyx.firmwareVersion"];for(var n=T.version.split("."),r=["versionMajor","versionMinor","versionDot"],i=0;i<r.length;i+=1)try{T[r[i]]=parseInt(n[i],10)}catch(t){T[r[i]]=n[i]}}t(T)},onFailure:function(){t(T)}}):(new h).send({service:"luna://com.webos.service.tv.systemproperty",method:"getSystemInfo",parameters:{keys:["firmwareVersion","modelName","sdkVersion","UHD","OLED","ddrSize"]},onSuccess:function(e){if(T.modelName=e.modelName||T.modelName,T.sdkVersion=e.sdkVersion||T.sdkVersion,T.uhd=e.UHD?"true"===e.UHD:void 0,T.oled=e.OLED?"true"===e.OLED:void 0,T.ddrSize=e.ddrSize,e.firmwareVersion&&"0.0.0"!==e.firmwareVersion||(e.firmwareVersion=e.sdkVersion),e.firmwareVersion){T.version=e.firmwareVersion;for(var n=T.version.split("."),r=["versionMajor","versionMinor","versionDot"],i=0;i<r.length;i+=1)try{T[r[i]]=parseInt(n[i],10)}catch(t){T[r[i]]=n[i]}}(new h).send({service:"luna://com.webos.service.config",method:"getConfigs",parameters:{configNames:["tv.model.supportTemp8K","tv.model.supportHDR","tv.config.supportDolbyHDRContents","tv.config.supportDolbyTVATMOS"]},onSuccess:function(e){e.configs&&(T.uhd8K=!0===e.configs["tv.model.supportTemp8K"],T.hdr10=!0===e.configs["tv.model.supportHDR"],T.dolbyVision=!0===e.configs["tv.config.supportDolbyHDRContents"],T.dolbyAtmos=!0===e.configs["tv.config.supportDolbyTVATMOS"]),t(T)},onFailure:function(){T.uhd8K=!1,T.hdr10=!1,T.dolbyVision=!1,T.dolbyAtmos=!1,t(T)}})},onFailure:function(e){if(T.modelName=e.modelName||T.modelName,T.sdkVersion=e.sdkVersion||T.sdkVersion,e.firmwareVersion&&"0.0.0"!==e.firmwareVersion||(e.firmwareVersion=e.sdkVersion),e.firmwareVersion){T.version=e.firmwareVersion;for(var n=T.version.split("."),r=["versionMajor","versionMinor","versionDot"],i=0;i<r.length;i+=1)try{T[r[i]]=parseInt(n[i],10)}catch(t){T[r[i]]=n[i]}}T.uhd=e.UHD?"true"===e.UHD:void 0,T.uhd8K=!1,T.oled=e.OLED?"true"===e.OLED:void 0,T.ddrSize=e.ddrSize,T.hdr10=!1,T.dolbyVision=!1,T.dolbyAtmos=!1,t(T)}}))}else t(T)},A={isShowing:function(){return PalmSystem&&PalmSystem.isKeyboardVisible}},O=function(){var t={};if(window.PalmSystem){if(window.PalmSystem.country){var e=JSON.parse(window.PalmSystem.country);t.country=e.country,t.smartServiceCountry=e.smartServiceCountry}window.PalmSystem.timeZone&&(t.timezone=window.PalmSystem.timeZone)}return t},L="1.2.3"}])},function(t,e){window.webOSDev=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"APP",(function(){return l})),n.d(e,"connection",(function(){return k})),n.d(e,"DRM",(function(){return x})),n.d(e,"drmAgent",(function(){return A})),n.d(e,"launch",(function(){return c})),n.d(e,"launchParams",(function(){return f})),n.d(e,"LGUDID",(function(){return C}));var s={},u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bridge=null,this.cancelled=!1,this.subscribe=!1}var e,n;return e=t,(n=[{key:"send",value:function(t){var e=t.service,n=void 0===e?"":e,r=t.method,o=void 0===r?"":r,a=t.parameters,u=void 0===a?{}:a,l=t.onSuccess,c=void 0===l?function(){}:l,f=t.onFailure,d=void 0===f?function(){}:f,h=t.onComplete,p=void 0===h?function(){}:h,v=t.subscribe,g=void 0!==v&&v;if(!window.PalmServiceBridge){var m={errorCode:-1,errorText:"PalmServiceBridge is not found.",returnValue:!1};return d(m),p(m),console.error("PalmServiceBridge is not found."),this}this.ts&&s[this.ts]&&delete s[this.ts];var y,b=i({},u);return this.subscribe=g,this.subscribe&&(b.subscribe=this.subscribe),b.subscribe&&(this.subscribe=b.subscribe),this.ts=Date.now(),s[this.ts]=this,this.bridge=new PalmServiceBridge,this.bridge.onservicecallback=this.callback.bind(this,c,d,p),this.bridge.call(("/"!==(y=n).slice(-1)&&(y+="/"),y+o),JSON.stringify(b)),this}},{key:"callback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!this.cancelled){var i={};try{i=JSON.parse(r)}catch(t){i={errorCode:-1,errorText:r,returnValue:!1}}var o=i,a=o.errorCode,s=o.returnValue;a||!1===s?(i.returnValue=!1,e(i)):(i.returnValue=!0,t(i)),n(i),this.subscribe||this.cancel()}}},{key:"cancel",value:function(){this.cancelled=!0,null!==this.bridge&&(this.bridge.cancel(),this.bridge=null),this.ts&&s[this.ts]&&delete s[this.ts]}}])&&a(e.prototype,n),t}(),l={BROWSER:"APP_BROWSER"},c=function(t){var e=t.id,n=void 0===e?"":e,r=t.params,i=void 0===r?{}:r,o=t.onSuccess,a=void 0===o?function(){}:o,s=t.onFailure,c=void 0===s?function(){}:s,f={id:n,params:i};l.BROWSER===n&&(f.params.target=i.target||"",f.params.fullMode=!0,f.id="com.webos.app.browser"),function(t){var e=t.parameters,n=t.onSuccess,r=t.onFailure;(new u).send({service:"luna://com.webos.applicationManager",method:"launch",parameters:e,onComplete:function(t){var e=t.returnValue,i=t.errorCode,o=t.errorText;return!0===e?n():r({errorCode:i,errorText:o})}})}({parameters:f,onSuccess:a,onFailure:c})},f=function(){var t={};if(window.PalmSystem&&""!==window.PalmSystem.launchParams)try{t=JSON.parse(window.PalmSystem.launchParams)}catch(t){console.error("JSON parsing error")}return t},d=function(){return window.PalmSystem&&window.PalmSystem.identifier?window.PalmSystem.identifier.split(" ")[0]:""};function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m={NOT_ERROR:-1,CLIENT_NOT_LOADED:0,VENDOR_ERROR:500,API_NOT_SUPPORTED:501,WRONG_CLIENT_ID:502,KEY_NOT_FOUND:503,INVALID_PARAMS:504,UNSUPPORTED_DRM_TYPE:505,INVALID_KEY_FORMAT:506,INVALID_TIME_INFO:507,UNKNOWN_ERROR:599},y={PLAYREADY:"playready",WIDEVINE:"widevine"},b=function(t){var e=t.method,n=t.parameters,r=t.onComplete;(new u).send({service:"luna://com.webos.service.drm",onComplete:r,method:e,parameters:n})},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};setTimeout((function(){return t(e)}),0)},S=function(t){return 2===t.state&&""!==t.getClientId()},w=function(t,e){var n=e.errorCode,r=void 0===n?m.UNKNOWN_ERROR:n,i=e.errorText,o={errorCode:r,errorText:void 0===i?"Unknown error.":i};return t.setError(o),o},E={errorCode:m.CLIENT_NOT_LOADED,errorText:"DRM client is not loaded."},T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clientId="",this.drmType=e,this.errorCode=m.NOT_ERROR,this.errorText="",this.state=0}var e,n;return e=t,(n=[{key:"getClientId",value:function(){return this.clientId}},{key:"getDrmType",value:function(){return this.drmType}},{key:"getErrorCode",value:function(){return this.errorCode}},{key:"getErrorText",value:function(){return this.errorText}},{key:"setError",value:function(t){var e=t.errorCode,n=t.errorText;this.errorCode=e,this.errorText=n}},{key:"isLoaded",value:function(t){var e=this,n=t.onSuccess,r=void 0===n?function(){}:n,i=t.onFailure,o=void 0===i?function(){}:i;b({method:"isLoaded",parameters:{appId:d()},onComplete:function(t){if(!0===t.returnValue){if(e.clientId=t.clientId||"",e.state=t.loadStatus?2:0,!0===t.loadStatus&&t.drmType!==e.drmType)return o(w(e,{errorCode:m.UNKNOWN_ERROR,errorText:"DRM types of set and loaded are not matched."}));var n=p({},t);return delete n.returnValue,r(n)}return o(w(e,t))}})}},{key:"load",value:function(t){var e=this,n=t.onSuccess,r=void 0===n?function(){}:n,i=t.onFailure,o=void 0===i?function(){}:i;if(1!==this.state&&2!==this.state){var a={appId:d(),drmType:this.drmType};this.state=1,b({method:"load",onComplete:function(t){return!0===t.returnValue?(e.clientId=t.clientId,e.state=2,r({clientId:e.clientId})):o(w(e,t))},parameters:a})}else _(r,{isLoaded:!0,clientId:this.clientId})}},{key:"unload",value:function(t){var e=this,n=t.onSuccess,r=void 0===n?function(){}:n,i=t.onFailure,o=void 0===i?function(){}:i;if(S(this)){var a={clientId:this.clientId};this.state=3,b({method:"unload",onComplete:function(t){return!0===t.returnValue?(e.clientId="",e.state=0,r()):o(w(e,t))},parameters:a})}else _(o,w(this,E))}},{key:"getRightsError",value:function(t){var e=this,n=t.onSuccess,r=void 0===n?function(){}:n,i=t.onFailure,o=void 0===i?function(){}:i;S(this)?b({method:"getRightsError",parameters:{clientId:this.clientId,subscribe:!0},onComplete:function(t){if(!0===t.returnValue){var n=p({},t);return delete n.returnValue,r(n)}return o(w(e,t))}}):_(o,w(this,E))}},{key:"sendDrmMessage",value:function(t){var e=this,n=t.msg,r=void 0===n?"":n,i=t.onSuccess,o=void 0===i?function(){}:i,a=t.onFailure,s=void 0===a?function(){}:a;if(S(this)){var u=function(t){var e="",n="";switch(t){case y.PLAYREADY:e="application/vnd.ms-playready.initiator+xml",n="urn:dvb:casystemid:19219";break;case y.WIDEVINE:e="application/widevine+xml",n="urn:dvb:casystemid:19156"}return{msgType:e,drmSystemId:n}}(this.drmType),l=p({clientId:this.clientId,msg:r},u);b({method:"sendDrmMessage",onComplete:function(t){if(!0===t.returnValue){var n=p({},t);return delete n.returnValue,o(n)}return s(w(e,t))},parameters:l})}else _(s,w(this,E))}}])&&g(e.prototype,n),t}(),x={Error:m,Type:y},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===t?null:new T(t)};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k={getStatus:function(t){var e=t.onSuccess,n=void 0===e?function(){}:e,r=t.onFailure,i=void 0===r?function(){}:r,o=t.subscribe,a=void 0!==o&&o,s="webos.service";navigator.userAgent.indexOf("537.41")>-1&&(s="palm"),function(t){var e=t.service,n=t.subscribe,r=t.onSuccess,i=t.onFailure;(new u).send({service:e,method:"getStatus",parameters:{subscribe:n},onComplete:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);if(delete e.returnValue,!0===t.returnValue)return delete e.subscribe,void r(e);delete e.returnValue,i(e)}})}({service:"luna://com.".concat(s,".connectionmanager"),subscribe:a,onSuccess:n,onFailure:i})}},C=function(t){var e=t.onSuccess,n=void 0===e?function(){}:e,r=t.onFailure,i=void 0===r?function(){}:r;-1!==navigator.userAgent.indexOf("Chrome")?(new u).send({service:"luna://com.webos.service.sm",method:"deviceid/getIDs",parameters:{idType:["LGUDID"]},onComplete:function(t){if(!0!==t.returnValue)i({errorCode:t.errorCode,errorText:t.errorText});else{var e=t.idList.filter((function(t){return"LGUDID"===t.idType}))[0].idValue;n({id:e})}}}):setTimeout((function(){return i({errorCode:"ERROR.000",errorText:"Not supported."})}),0)}}])},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,u=1,l={},c=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,r(u),u++},d.clearImmediate=h}function h(t){delete l[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(54),n(134))},function(t,e,n){var r=n(14),i=n(135),o=n(353),a=n(141);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(n(138));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n(142),u.CancelToken=n(366),u.isCancel=n(137),u.all=function(t){return Promise.all(t)},u.spread=n(367),u.isAxiosError=n(368),t.exports=u,t.exports.default=u},function(t,e,n){var r=n(14),i=n(136),o=n(354),a=n(355),s=n(141);function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){var r=n(14);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){var r=n(14),i=n(356),o=n(137),a=n(138);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){var r=n(14);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){var r=n(14);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){var r=n(140);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){var r=n(14);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){var r=n(362),i=n(363);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){var r=n(14),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){var r=n(14);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){var r=n(142);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,n){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",r="second",i="minute",o="hour",a="day",s="week",u="month",l="quarter",c="year",f="date",d="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+g(r,2,"0")+":"+g(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),o=n-i<0,a=e.clone().add(r+(o?-1:1),u);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:c,w:s,d:a,D:f,h:o,m:i,s:r,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",b={};b[y]=v;var _=function(t){return t instanceof T},S=function(t,e,n){var r;if(!t)return y;if("string"==typeof t)b[t]&&(r=t),e&&(b[t]=e,r=t);else{var i=t.name;b[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},w=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new T(n)},E=m;E.l=S,E.i=_,E.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function v(t){this.$L=S(t.locale,null,!0),this.parse(t)}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(E.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return E},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return w(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<w(t)},g.$g=function(t,e,n){return E.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,l=!!E.u(e)||e,d=E.p(t),h=function(t,e){var r=E.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return l?r:r.endOf(a)},p=function(t,e){return E.w(n.toDate()[t].apply(n.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case c:return l?h(1,0):h(31,11);case u:return l?h(1,g):h(0,g+1);case s:var b=this.$locale().weekStart||0,_=(v<b?v+7:v)-b;return h(l?m-_:m+(6-_),g);case a:case f:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var s,l=E.p(t),d="set"+(this.$u?"UTC":""),h=(s={},s[a]=d+"Date",s[f]=d+"Date",s[u]=d+"Month",s[c]=d+"FullYear",s[o]=d+"Hours",s[i]=d+"Minutes",s[r]=d+"Seconds",s[n]=d+"Milliseconds",s)[l],p=l===a?this.$D+(e-this.$W):e;if(l===u||l===c){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[E.p(t)]()},g.add=function(n,l){var f,d=this;n=Number(n);var h=E.p(l),p=function(t){var e=w(d);return E.w(e.date(e.date()+Math.round(t*n)),d)};if(h===u)return this.set(u,this.$M+n);if(h===c)return this.set(c,this.$y+n);if(h===a)return p(1);if(h===s)return p(7);var v=(f={},f[i]=t,f[o]=e,f[r]=1e3,f)[h]||1,g=this.$d.getTime()+n*v;return E.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,l=n.months,c=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].substr(0,o)},f=function(t){return E.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:E.s(s+1,2,"0"),MMM:c(n.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,u,2),ddd:c(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:E.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:E.s(a,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:i};return r.replace(p,(function(t,e){return e||v[t]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,d){var h,p=E.p(f),v=w(n),g=(v.utcOffset()-this.utcOffset())*t,m=this-v,y=E.m(this,v);return y=(h={},h[c]=y/12,h[u]=y,h[l]=y/3,h[s]=(m-g)/6048e5,h[a]=(m-g)/864e5,h[o]=m/e,h[i]=m/t,h[r]=m/1e3,h)[p]||m,d?y:E.a(y)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return b[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},g.clone=function(){return E.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),x=T.prototype;return w.prototype=x,[["$ms",n],["$s",r],["$m",i],["$H",o],["$W",a],["$M",u],["$y",c],["$D",f]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),w.extend=function(t,e){return t.$i||(t(e,T,w),t.$i=!0),w},w.locale=S,w.isDayjs=_,w.unix=function(t){return w(1e3*t)},w.en=b[y],w.Ls=b,w.p={},w}()},function(t,e,n){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^\s\d-_:/()]+/,o={},a=function(t){return(t=+t)+(t>68?1900:2e3)},s=function(t){return function(e){this[t]=+e}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],l=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},c=function(t,e){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},f={A:[i,function(t){this.afternoon=c(t,!1)}],a:[i,function(t){this.afternoon=c(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[i,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[i,function(t){var e=l("months"),n=(l("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(t){var e=l("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(t){this.year=a(t)}],YYYY:[/\d{4}/,s("year")],Z:u,ZZ:u};function d(n){var r,i;r=n,i=o&&o.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,r){var o=r&&r.toUpperCase();return n||i[r]||t[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),s=a.length,u=0;u<s;u+=1){var l=a[u],c=f[l],d=c&&c[0],h=c&&c[1];a[u]=h?{regex:d,parser:h}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,r=0;n<s;n+=1){var i=a[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,u=i.parser,l=t.substr(r),c=o.exec(l)[0];u.call(e,c),t=t.replace(c,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,a=t.args;this.$u=r;var s=a[1];if("string"==typeof s){var u=!0===a[2],l=!0===a[3],c=u||l,f=a[2];l&&(f=a[2]),o=this.$locale(),!u&&f&&(o=n.Ls[f]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var r=d(e)(t),i=r.year,o=r.month,a=r.day,s=r.hours,u=r.minutes,l=r.seconds,c=r.milliseconds,f=r.zone,h=new Date,p=a||(i||o?1:h.getDate()),v=i||h.getFullYear(),g=0;i&&!o||(g=o>0?o-1:h.getMonth());var m=s||0,y=u||0,b=l||0,_=c||0;return f?new Date(Date.UTC(v,g,p,m,y,b,_+60*f.offset*1e3)):n?new Date(Date.UTC(v,g,p,m,y,b,_)):new Date(v,g,p,m,y,b,_)}catch(t){return new Date("")}}(e,s,r),this.init(),f&&!0!==f&&(this.$L=this.locale(f).$L),c&&e!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var h=s.length,p=1;p<=h;p+=1){a[1]=s[p-1];var v=n.apply(this,a);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}p===h&&(this.$d=new Date(""))}else i.call(this,t)}}}()},function(t,e,n){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},function(t,e,n){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}}}()},function(t,e,n){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(t){var e={date:t,utc:!0,args:arguments};return new i(e)},a.utc=function(e){var n=o(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var u=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else u.call(this)};var l=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?l.call(this):this.$offset;if("string"==typeof r&&null===(r=function(t){void 0===t&&(t="");var r=t.match(e);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r)))return this;var a=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=a,s.$u=0===r,s;if(0!==r){var u=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+u,t)).$offset=a,s.$x.$localOffset=u}else s=this.utc();return s};var c=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var d=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var r=this.local(),i=o(t).local();return d.call(r,i,e,n)}}}()},function(t,e,n){!function(e){"use strict";var n={selector:"",straightOnly:!1,straightOverlapThreshold:.5,rememberSource:!1,disabled:!1,defaultElement:"",enterTo:"",leaveFor:null,restrict:"self-first",tabIndexIgnoreList:"a, input, select, textarea, button, iframe, [contentEditable=true]",navigableFilter:null},r={37:"left",38:"up",39:"right",40:"down"},i={left:"right",up:"down",right:"left",down:"up"},o=0,a=!1,s=!1,u={},l=0,c="",f="",d=!1,h=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||function(t){var e=(this.parentNode||this.document).querySelectorAll(t);return[].slice.call(e).indexOf(this)>=0};function p(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height};return n.element=t,n.center={x:n.left+Math.floor(n.width/2),y:n.top+Math.floor(n.height/2)},n.center.left=n.center.right=n.center.x,n.center.top=n.center.bottom=n.center.y,n}function v(t,e,n){for(var r=[[],[],[],[],[],[],[],[],[]],i=0;i<t.length;i++){var o,a,s=t[i],u=s.center;if(o=u.x<e.left?0:u.x<=e.right?1:2,r[a=3*(u.y<e.top?0:u.y<=e.bottom?1:2)+o].push(s),-1!==[0,2,6,8].indexOf(a)){var l=n;s.left<=e.right-e.width*l&&(2===a?r[1].push(s):8===a&&r[7].push(s)),s.right>=e.left+e.width*l&&(0===a?r[1].push(s):6===a&&r[7].push(s)),s.top<=e.bottom-e.height*l&&(6===a?r[3].push(s):8===a&&r[5].push(s)),s.bottom>=e.top+e.height*l&&(0===a?r[3].push(s):2===a&&r[5].push(s))}}return r}function g(t,e,n,r){if(!(t&&e&&n&&n.length))return null;for(var i=[],o=0;o<n.length;o++){var a=p(n[o]);a&&i.push(a)}if(!i.length)return null;var s=p(t);if(!s)return null;var u,l=function(t){return{nearPlumbLineIsBetter:function(e){var n;return(n=e.center.x<t.center.x?t.center.x-e.right:e.left-t.center.x)<0?0:n},nearHorizonIsBetter:function(e){var n;return(n=e.center.y<t.center.y?t.center.y-e.bottom:e.top-t.center.y)<0?0:n},nearTargetLeftIsBetter:function(e){var n;return(n=e.center.x<t.center.x?t.left-e.right:e.left-t.left)<0?0:n},nearTargetTopIsBetter:function(e){var n;return(n=e.center.y<t.center.y?t.top-e.bottom:e.top-t.top)<0?0:n},topIsBetter:function(t){return t.top},bottomIsBetter:function(t){return-1*t.bottom},leftIsBetter:function(t){return t.left},rightIsBetter:function(t){return-1*t.right}}}(s),c=v(i,s,r.straightOverlapThreshold),f=v(c[4],s.center,r.straightOverlapThreshold);switch(e){case"left":u=[{group:f[0].concat(f[3]).concat(f[6]),distance:[l.nearPlumbLineIsBetter,l.topIsBetter]},{group:c[3],distance:[l.nearPlumbLineIsBetter,l.topIsBetter]},{group:c[0].concat(c[6]),distance:[l.nearHorizonIsBetter,l.rightIsBetter,l.nearTargetTopIsBetter]}];break;case"right":u=[{group:f[2].concat(f[5]).concat(f[8]),distance:[l.nearPlumbLineIsBetter,l.topIsBetter]},{group:c[5],distance:[l.nearPlumbLineIsBetter,l.topIsBetter]},{group:c[2].concat(c[8]),distance:[l.nearHorizonIsBetter,l.leftIsBetter,l.nearTargetTopIsBetter]}];break;case"up":u=[{group:f[0].concat(f[1]).concat(f[2]),distance:[l.nearHorizonIsBetter,l.leftIsBetter]},{group:c[1],distance:[l.nearHorizonIsBetter,l.leftIsBetter]},{group:c[0].concat(c[2]),distance:[l.nearPlumbLineIsBetter,l.bottomIsBetter,l.nearTargetLeftIsBetter]}];break;case"down":u=[{group:f[6].concat(f[7]).concat(f[8]),distance:[l.nearHorizonIsBetter,l.leftIsBetter]},{group:c[7],distance:[l.nearHorizonIsBetter,l.leftIsBetter]},{group:c[6].concat(c[8]),distance:[l.nearPlumbLineIsBetter,l.topIsBetter,l.nearTargetLeftIsBetter]}];break;default:return null}r.straightOnly&&u.pop();var d=function(t){for(var e=null,n=0;n<t.length;n++)if(t[n].group.length){e=t[n];break}if(!e)return null;var r=e.distance;return e.group.sort((function(t,e){for(var n=0;n<r.length;n++){var i=r[n],o=i(t)-i(e);if(o)return o}return 0})),e.group}(u);if(!d)return null;var h=null;if(r.rememberSource&&r.previous&&r.previous.destination===t&&r.previous.reverse===e)for(var g=0;g<d.length;g++)if(d[g].element===r.previous.target){h=d[g].element;break}return h||(h=d[0].element),h}function m(){for(var t;t="section-"+String(++o),u[t];);return t}function y(t){return e?e(t).get():"string"==typeof t?[].slice.call(document.querySelectorAll(t)):"object"==typeof t&&t.length?[].slice.call(t):"object"==typeof t&&1===t.nodeType?[t]:[]}function b(t,n){return e?e(t).is(n):"string"==typeof n?h.call(t,n):"object"==typeof n&&n.length?n.indexOf(t)>=0:"object"==typeof n&&1===n.nodeType&&t===n}function _(){var t=document.activeElement;if(t&&t!==document.body)return t}function S(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&void 0!==arguments[e][n]&&(t[n]=arguments[e][n]);return t}function w(t,e){Array.isArray(e)||(e=[e]);for(var n,r=0;r<e.length;r++)(n=t.indexOf(e[r]))>=0&&t.splice(n,1);return t}function E(t,e,r){if(!t||!e||!u[e]||u[e].disabled)return!1;if(t.offsetWidth<=0&&t.offsetHeight<=0||t.hasAttribute("disabled"))return!1;if(r&&!b(t,u[e].selector))return!1;if("function"==typeof u[e].navigableFilter){if(!1===u[e].navigableFilter(t,e))return!1}else if("function"==typeof n.navigableFilter&&!1===n.navigableFilter(t,e))return!1;return!0}function T(t){for(var e in u)if(!u[e].disabled&&b(t,u[e].selector))return e}function x(t){return y(u[t].selector).filter((function(e){return E(e,t)}))}function A(t){var n=u[t].defaultElement;return n?("string"==typeof n?n=y(n)[0]:e&&n instanceof e&&(n=n.get(0)),E(n,t,!0)?n:null):null}function O(t){var e=u[t].lastFocusedElement;return E(e,t,!0)?e:null}function L(t,e,n,r){arguments.length<4&&(r=!0);var i=document.createEvent("CustomEvent");return i.initCustomEvent("sn:"+e,!0,r,n),t.dispatchEvent(i)}function k(t,e,n){if(!t)return!1;var r=_(),i=function(){r&&r.blur(),t.focus(),C(t,e)};if(d)return i(),!0;if(d=!0,s)return i(),d=!1,!0;if(r){var o={nextElement:t,nextSectionId:e,direction:n,native:!1};if(!L(r,"willunfocus",o))return d=!1,!1;r.blur(),L(r,"unfocused",o,!1)}var a={previousElement:r,sectionId:e,direction:n,native:!1};return L(t,"willfocus",a)?(t.focus(),L(t,"focused",a,!1),d=!1,C(t,e),!0):(d=!1,!1)}function C(t,e){e||(e=T(t)),e&&(u[e].lastFocusedElement=t,f=e)}function R(t,e){if("@"==t.charAt(0))return 1==t.length?P():P(t.substr(1));var n=y(t)[0];if(n){var r=T(n);if(E(n,r))return k(n,r,e)}return!1}function P(t){var e=[],n=function(t){t&&e.indexOf(t)<0&&u[t]&&!u[t].disabled&&e.push(t)};t?n(t):(n(c),n(f),Object.keys(u).map(n));for(var r=0;r<e.length;r++){var i,o=e[r];if(i="last-focused"==u[o].enterTo?O(o)||A(o)||x(o)[0]:A(o)||O(o)||x(o)[0])return k(i,o)}return!1}function D(t,e){L(t,"navigatefailed",{direction:e},!1)}function I(t,n){if(u[t].leaveFor&&void 0!==u[t].leaveFor[n]){var r=u[t].leaveFor[n];if("string"==typeof r)return""===r?null:R(r,n);e&&r instanceof e&&(r=r.get(0));var i=T(r);if(E(r,i))return k(r,i,n)}return!1}function F(t,e,r){var o=e.getAttribute("data-sn-"+t);if("string"==typeof o)return!(""===o||!R(o,t))||(D(e,t),!1);var a={},s=[];for(var l in u)a[l]=x(l),s=s.concat(a[l]);var c,f=S({},n,u[r]);if("self-only"==f.restrict||"self-first"==f.restrict){var d=a[r];(c=g(e,t,w(d,e),f))||"self-first"!=f.restrict||(c=g(e,t,w(s,d),f))}else c=g(e,t,w(s,e),f);if(c){u[r].previous={target:e,destination:c,reverse:i[t]};var h=T(c);if(r!=h){var p,v=I(r,t);if(v)return!0;if(null===v)return D(e,t),!1;switch(u[h].enterTo){case"last-focused":p=O(h)||A(h);break;case"default-element":p=A(h)}p&&(c=p)}return k(c,h,t)}return!!I(r,t)||(D(e,t),!1)}function M(t){if(!(!l||s||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){var e,n=function(){return t.preventDefault(),t.stopPropagation(),!1},i=r[t.keyCode];if(!i)return 13==t.keyCode&&(e=_())&&T(e)&&!L(e,"enter-down")?n():void 0;if(!(e=_())&&(f&&(e=O(f)),!e))return P(),n();var o=T(e);if(o)return L(e,"willmove",{direction:i,sectionId:o,cause:"keydown"})&&F(i,e,o),n()}}function N(t){if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)&&!s&&l&&13==t.keyCode){var e=_();e&&T(e)&&(L(e,"enter-up")||(t.preventDefault(),t.stopPropagation()))}}function j(t){var e=t.target;if(e!==window&&e!==document&&l&&!d){var n=T(e);if(n){if(s)return void C(e,n);var r={sectionId:n,native:!0};L(e,"willfocus",r)?(L(e,"focused",r,!1),C(e,n)):(d=!0,e.blur(),d=!1)}}}function B(t){var e=t.target;if(e!==window&&e!==document&&!s&&l&&!d&&T(e)){var n={native:!0};L(e,"willunfocus",n)?L(e,"unfocused",n,!1):(d=!0,setTimeout((function(){e.focus(),d=!1})))}}var U={init:function(){a||(window.addEventListener("keydown",M),window.addEventListener("keyup",N),window.addEventListener("focus",j,!0),window.addEventListener("blur",B,!0),a=!0)},uninit:function(){window.removeEventListener("blur",B,!0),window.removeEventListener("focus",j,!0),window.removeEventListener("keyup",N),window.removeEventListener("keydown",M),U.clear(),o=0,a=!1},clear:function(){u={},l=0,c="",f="",d=!1},set:function(){var t,e;if("object"==typeof arguments[0])e=arguments[0];else{if("string"!=typeof arguments[0]||"object"!=typeof arguments[1])return;if(e=arguments[1],!u[t=arguments[0]])throw new Error('Section "'+t+"\" doesn't exist!")}for(var r in e)void 0!==n[r]&&(t?u[t][r]=e[r]:void 0!==e[r]&&(n[r]=e[r]));t&&(u[t]=S({},u[t]))},add:function(){var t,e={};if("object"==typeof arguments[0]?e=arguments[0]:"string"==typeof arguments[0]&&"object"==typeof arguments[1]&&(t=arguments[0],e=arguments[1]),t||(t="string"==typeof e.id?e.id:m()),u[t])throw new Error('Section "'+t+'" has already existed!');return u[t]={},l++,U.set(t,e),t},remove:function(t){if(!t||"string"!=typeof t)throw new Error('Please assign the "sectionId"!');return!!u[t]&&(u[t]=void 0,u=S({},u),l--,f===t&&(f=""),!0)},disable:function(t){return!!u[t]&&(u[t].disabled=!0,!0)},enable:function(t){return!!u[t]&&(u[t].disabled=!1,!0)},pause:function(){s=!0},resume:function(){s=!1},focus:function(t,n){var r=!1;void 0===n&&"boolean"==typeof t&&(n=t,t=void 0);var i=!s&&n;if(i&&U.pause(),t)if("string"==typeof t)r=u[t]?P(t):R(t);else{e&&t instanceof e&&(t=t.get(0));var o=T(t);E(t,o)&&(r=k(t,o))}else r=P();return i&&U.resume(),r},move:function(t,e){if(t=t.toLowerCase(),!i[t])return!1;var n=e?y(e)[0]:_();if(!n)return!1;var r=T(n);return!!r&&(!!L(n,"willmove",{direction:t,sectionId:r,cause:"api"})&&F(t,n,r))},makeFocusable:function(t){var e=function(t){var e=void 0!==t.tabIndexIgnoreList?t.tabIndexIgnoreList:n.tabIndexIgnoreList;y(t.selector).forEach((function(t){b(t,e)||t.getAttribute("tabindex")||t.setAttribute("tabindex","-1")}))};if(t){if(!u[t])throw new Error('Section "'+t+"\" doesn't exist!");e(u[t])}else for(var r in u)e(u[r])},setDefaultSection:function(t){if(t){if(!u[t])throw new Error('Section "'+t+"\" doesn't exist!");c=t}else c=""}};window.SpatialNavigation=U,t.exports=U,e&&(e.SpatialNavigation=function(){if(U.init(),arguments.length>0){if(e.isPlainObject(arguments[0]))return U.add(arguments[0]);if("string"===e.type(arguments[0])&&e.isFunction(U[arguments[0]]))return U[arguments[0]].apply(U,[].slice.call(arguments,1))}return e.extend({},U)},e.fn.SpatialNavigation=function(){var t;return(t=e.isPlainObject(arguments[0])?arguments[0]:{id:arguments[0]}).selector=this,U.init(),t.id&&U.remove(t.id),U.add(t),U.makeFocusable(t.id),this})}(window.jQuery)},function(t,e,n){"undefined"!=typeof window&&(t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=19)}([function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=i;function a(t){var e=self.console[t];return e?e.bind(self.console,"["+t+"] >"):r}function s(t){if(self.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach((function(e){o[e]=t[e]?t[e].bind(t):a(e)}))}(t,"debug","log","info","warn","error");try{o.log()}catch(t){o=i}}else o=i}var u=i},function(t,e,n){"use strict";var r,i;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(r||(r={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)};Number.MAX_SAFE_INTEGER},function(t,e,n){"use strict";var r,i;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p}));var r,i=n(3),o=n(10),a=n(1),s=n(15),u=n(12);function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}!function(t){t.AUDIO="audio",t.VIDEO="video",t.AUDIOVIDEO="audiovideo"}(r||(r={}));var d=function(){function t(t){var e;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((e={})[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null,e),this.baseurl=t}return t.prototype.setByteRange=function(t,e){var n=t.split("@",2),r=[];1===n.length?r[0]=e?e.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},f(t,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(t){this._url=t}}]),t}(),h=function(t){function e(e,n){var r;return(r=t.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new u.a,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=e,r}l(e,t);var n=e.prototype;return n.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},n.setDecryptDataFromLevelKey=function(t,e){var n=t;return"AES-128"===(null==t?void 0:t.method)&&t.uri&&!t.iv&&((n=s.a.fromURI(t.uri)).method=t.method,n.iv=this.createInitializationVector(e),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(t,e,n,r,i,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:i,partial:o}},n.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null},f(e,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&a.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.a)(this.programDateTime))return null;var t=Object(i.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;return!(null===(t=this.decryptdata)||void 0===t||!t.keyFormat||!this.decryptdata.uri)}}]),e}(d),p=function(t){function e(e,n,r,i,o){var a;(a=t.call(this,r)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new u.a,a.duration=e.decimalFloatingPoint("DURATION"),a.gap=e.bool("GAP"),a.independent=e.bool("INDEPENDENT"),a.relurl=e.enumeratedString("URI"),a.fragment=n,a.index=i;var s=e.enumeratedString("BYTERANGE");return s&&a.setByteRange(s,o),o&&(a.fragOffset=o.fragOffset+o.duration),a}return l(e,t),f(e,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}]),e}(d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return g})),n.d(e,"h",(function(){return m})),n.d(e,"a",(function(){return y}));var r=n(8),i=n(5),o=Math.pow(2,32)-1,a=[].push;function s(t){return String.fromCharCode.apply(null,t)}function u(t,e){"data"in t&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n}function l(t,e,n){"data"in t&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function c(t,e){var n,r,i,o=[];if(!e.length)return o;"data"in t?(n=t.data,r=t.start,i=t.end):(r=0,i=(n=t).byteLength);for(var l=r;l<i;){var f=u(n,l),d=f>1?l+f:i;if(s(n.subarray(l+4,l+8))===e[0])if(1===e.length)o.push({data:n,start:l+8,end:d});else{var h=c({data:n,start:l+8,end:d},e.slice(1));h.length&&a.apply(o,h)}l=d}return o}function f(t){var e=c(t,["moov"])[0],n=e?e.end:null,r=c(t,["sidx"]);if(!r||!r[0])return null;var i=[],o=r[0],a=o.data[0],s=0===a?8:16,l=u(o,s);s+=4,s+=0===a?8:16,s+=2;var f=o.end+0,d=function(t,e){"data"in t&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n}(o,s);s+=2;for(var h=0;h<d;h++){var p=s,v=u(o,p);p+=4;var g=2147483647&v;if(1==(2147483648&v)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var m=u(o,p);p+=4,i.push({referenceSize:g,subsegmentDuration:m,info:{duration:m/l,start:f,end:f+g-1}}),f+=g,s=p+=4}return{earliestPresentationTime:0,timescale:l,version:a,referencesCount:d,references:i,moovEndOffset:n}}function d(t){for(var e=[],n=c(t,["moov","trak"]),r=0;r<n.length;r++){var o=n[r],a=c(o,["tkhd"])[0];if(a){var l=a.data[a.start],f=0===l?12:20,d=u(a,f),h=c(o,["mdia","mdhd"])[0];if(h){var p=u(h,f=0===(l=h.data[h.start])?12:20),v=c(o,["mdia","hdlr"])[0];if(v){var g=s(v.data.subarray(v.start+8,v.start+12)),m={soun:i.a.AUDIO,vide:i.a.VIDEO}[g];if(m){var y=c(o,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=s(y.data.subarray(y.start+12,y.start+16))),e[d]={timescale:p,type:m},e[m]={timescale:p,id:d,codec:b}}}}}}return c(t,["moov","mvex","trex"]).forEach((function(t){var n=u(t,4),r=e[n];r&&(r.default={duration:u(t,12),flags:u(t,20)})})),e}function h(t,e){return c(e,["moof","traf"]).reduce((function(e,n){var r=c(n,["tfdt"])[0],i=r.data[r.start],o=c(n,["tfhd"]).reduce((function(e,n){var o=u(n,4),a=t[o];if(a){var s=u(r,4);1===i&&(s*=Math.pow(2,32),s+=u(r,8));var l=s/(a.timescale||9e4);if(isFinite(l)&&(null===e||l<e))return l}return e}),null);return null!==o&&isFinite(o)&&(null===e||o<e)?o:e}),null)||0}function p(t,e){for(var n=0,r=0,o=0,a=c(t,["moof","traf"]),s=0;s<a.length;s++){var l=a[s],d=c(l,["tfhd"])[0],h=e[u(d,4)];if(h){var p=h.default,g=u(d,0)|(null==p?void 0:p.flags),m=null==p?void 0:p.duration;8&g&&(m=u(d,2&g?12:8));for(var y=h.timescale||9e4,b=c(l,["trun"]),_=0;_<b.length;_++)n=m?m*u(b[_],4):v(b[_]),h.type===i.a.VIDEO?r+=n/y:h.type===i.a.AUDIO&&(o+=n/y)}}if(0===r&&0===o){var S=f(t);if(null!=S&&S.references)return S.references.reduce((function(t,e){return t+e.info.duration||0}),0)}return r||o}function v(t){var e=u(t,0),n=8;1&e&&(n+=4),4&e&&(n+=4);for(var r=0,i=u(t,4),o=0;o<i;o++)256&e&&(r+=u(t,n),n+=4),512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4);return r}function g(t,e,n){c(e,["moof","traf"]).forEach((function(e){c(e,["tfhd"]).forEach((function(r){var i=u(r,4),a=t[i];if(a){var s=a.timescale||9e4;c(e,["tfdt"]).forEach((function(t){var e=t.data[t.start],r=u(t,4);if(0===e)l(t,4,r-n*s);else{r*=Math.pow(2,32),r+=u(t,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(o+1)),a=Math.floor(r%(o+1));l(t,4,i),l(t,8,a)}}))}}))}))}function m(t){var e={valid:null,remainder:null},n=c(t,["moof"]);if(!n)return e;if(n.length<2)return e.remainder=t,e;var i=n[n.length-1];return e.valid=Object(r.a)(t,0,i.start-8),e.remainder=Object(r.a)(t,i.start-8),e}function y(t,e){var n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"f",(function(){return y}));var r,i=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},o=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},a=function(t,e){for(var n=e,r=0;i(t,e);)r+=10,r+=s(t,e+6),o(t,e+10)&&(r+=10),e+=r;if(r>0)return t.subarray(n,n+r)},s=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},u=function(t,e){return i(t,e)&&s(t,e+6)+10<=t.length-e},l=function(t){for(var e=d(t),n=0;n<e.length;n++){var r=e[n];if(c(r))return m(r)}},c=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},f=function(t){var e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=s(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},d=function(t){for(var e=0,n=[];i(t,e);){for(var r=s(t,e+6),a=(e+=10)+r;e+8<a;){var u=f(t.subarray(e)),l=h(u);l&&n.push(l),e+=u.size+10}o(t,e)&&(e+=10)}return n},h=function(t){return"PRIV"===t.type?p(t):"W"===t.type[0]?g(t):v(t)},p=function(t){if(!(t.size<2)){var e=y(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}},v=function(t){if(!(t.size<2)){if("TXXX"===t.type){var e=1,n=y(t.data.subarray(e),!0);e+=n.length+1;var r=y(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=y(t.data.subarray(1));return{key:t.type,data:i}}},g=function(t){if("WXXX"===t.type){if(t.size<2)return;var e=1,n=y(t.data.subarray(e),!0);e+=n.length+1;var r=y(t.data.subarray(e));return{key:t.type,info:n,data:r}}var i=y(t.data);return{key:t.type,data:i}},m=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(t,e){void 0===e&&(e=!1);var n=b();if(n){var r=n.decode(t);if(e){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var o,a,s,u=t.length,l="",c=0;c<u;){if(0===(o=t[c++])&&e)return l;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:a=t[c++],l+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=t[c++],s=t[c++],l+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}}return l};function b(){return r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},function(t,e,n){"use strict";function r(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return St})),n.d(e,"d",(function(){return Et})),n.d(e,"a",(function(){return Tt})),n.d(e,"b",(function(){return xt}));var r=n(0),i=n(2),o=n(14),a=n(3),s=n(7),u=n(6),l=n(8),c=function(){function t(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var e=t.prototype;return e.resetInitSegment=function(t,e,n){this._id3Track={type:"id3",id:0,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},e.resetTimeStamp=function(){},e.resetContiguity=function(){},e.canParse=function(t,e){return!1},e.appendFrame=function(t,e,n){},e.demux=function(t,e){this.cachedData&&(t=Object(u.a)(this.cachedData,t),this.cachedData=null);var n,r,i=s.b(t,0),o=i?i.length:0,a=this._audioTrack,c=this._id3Track,d=i?s.d(i):void 0,h=t.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=f(d,e)),i&&i.length>0&&c.samples.push({pts:this.initPTS,dts:this.initPTS,data:i}),r=this.initPTS;o<h;){if(this.canParse(t,o)){var p=this.appendFrame(a,t,o);p?(this.frameIndex++,r=p.sample.pts,n=o+=p.length):o=h}else s.a(t,o)?(i=s.b(t,o),c.samples.push({pts:r,dts:r,data:i}),n=o+=i.length):o++;if(o===h&&n!==h){var v=Object(l.a)(t,n);this.cachedData?this.cachedData=Object(u.a)(this.cachedData,v):this.cachedData=v}}return{audioTrack:a,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:c,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},e.demuxSampleAes=function(t,e,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},e.flush=function(t){var e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:this._id3Track,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},e.destroy=function(){},t}(),f=function(t,e){return Object(a.a)(t)?90*t:9e4*e},d=c,h=n(1);function p(t,e){return 255===t[e]&&240==(246&t[e+1])}function v(t,e){return 1&t[e+1]?7:9}function g(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function m(t,e){return e+1<t.length&&p(t,e)}function y(t,e){if(m(t,e)){var n=v(t,e);if(e+n>=t.length)return!1;var r=g(t,e);if(r<=n)return!1;var i=e+r;return i===t.length||m(t,i)}return!1}function b(t,e,n,o,a){if(!t.samplerate){var s=function(t,e,n,o){var a,s,u,l,c=navigator.userAgent.toLowerCase(),f=o,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];a=1+((192&e[n+2])>>>6);var p=(60&e[n+2])>>>2;if(!(p>d.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,h.b.log("manifest codec:"+o+", ADTS type:"+a+", samplingIndex:"+p),/firefox/i.test(c)?p>=6?(a=5,l=new Array(4),s=p-3):(a=2,l=new Array(2),s=p):-1!==c.indexOf("android")?(a=2,l=new Array(2),s=p):(a=5,l=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&p>=6?s=p-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(p>=6&&1===u||/vivaldi/i.test(c))||!o&&1===u)&&(a=2,l=new Array(2)),s=p)),l[0]=a<<3,l[0]|=(14&p)>>1,l[1]|=(1&p)<<7,l[1]|=u<<3,5===a&&(l[1]|=(14&s)>>1,l[2]=(1&s)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[p],channelCount:u,codec:"mp4a.40."+a,manifestCodec:f};t.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}(e,n,o,a);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,h.b.log("parsed codec:"+t.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function _(t){return 9216e4/t}function S(t,e,n,r,i){var o=function(t,e,n,r,i){var o=v(t,e),a=g(t,e);if((a-=o)>0)return{headerLength:o,frameLength:a,stamp:n+r*i}}(e,n,r,i,_(t.samplerate));if(o){var a,s=o.frameLength,u=o.headerLength,l=o.stamp,c=u+s,f=Math.max(0,n+c-e.length);f?(a=new Uint8Array(c-u)).set(e.subarray(n+u,e.length),0):a=e.subarray(n+u,n+c);var d={unit:a,pts:l};return f||t.samples.push(d),{sample:d,length:c,missing:f}}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){var e,n;function r(e,n){var r;return(r=t.call(this)||this).observer=void 0,r.config=void 0,r.observer=e,r.config=n,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,w(e,n);var i=r.prototype;return i.resetInitSegment=function(e,n,r){t.prototype.resetInitSegment.call(this,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(t){if(!t)return!1;for(var e=(s.b(t,0)||[]).length,n=t.length;e<n;e++)if(y(t,e))return h.b.log("ADTS sync word found !"),!0;return!1},i.canParse=function(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&p(t,e)&&g(t,e)<=t.length-e}(t,e)},i.appendFrame=function(t,e,n){b(t,this.observer,e,n,t.manifestCodec);var r=S(t,e,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(d);E.minProbeByteLength=9;var T=E,x=function(){function t(t,e){this.remainderData=null,this.config=void 0,this.config=e}var e=t.prototype;return e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.resetContiguity=function(){},t.probe=function(t){return Object(u.b)({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.demux=function(t){var e=t,n={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};if(this.config.progressive){this.remainderData&&(e=Object(u.a)(this.remainderData,t));var r=Object(u.h)(e);this.remainderData=r.remainder,n.samples=r.valid||new Uint8Array}else n.samples=e;return{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:n,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},e.flush=function(){var t={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};return t.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:t,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},e.demuxSampleAes=function(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},e.destroy=function(){},t}();x.minProbeByteLength=1024;var A=x,O=null,L=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],k=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],C=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],R=[0,1,1,4];function P(t,e,n,r,i){if(!(n+24>e.length)){var o=D(e,n);if(o&&n+o.frameLength<=e.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}}function D(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){var a=t[e+2]>>1&1,s=t[e+3]>>6,u=1e3*L[14*(3===n?3-r:3===r?3:4)+i-1],l=k[3*(3===n?0:2===n?1:2)+o],c=3===s?1:2,f=C[n][r],d=R[r],h=8*f*d,p=Math.floor(f*u/l+a)*d;if(null===O){var v=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);O=v?parseInt(v[1]):0}return!!O&&O<=87&&2===r&&u>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:l,channelCount:c,frameLength:p,samplesPerFrame:h}}}function I(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function F(t,e){return e+1<t.length&&I(t,e)}function M(t,e){if(e+1<t.length&&I(t,e)){var n=D(t,e),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=e+r;return i===t.length||F(t,i)}return!1}var N=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&h.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){for(var e=8,n=8,r=0;r<t;r++)0!==n&&(n=(e+this.readEG()+256)%256),e=0===n?e:n},e.readSPS=function(){var t,e,n,r=0,i=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),f=this.skipBits.bind(this),d=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(u(5),f(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=l();if(3===g&&f(1),h(),h(),f(1),c())for(e=3!==g?8:12,n=0;n<e;n++)c()&&p(n<6?16:64)}h();var m=l();if(0===m)l();else if(1===m)for(f(1),d(),d(),t=l(),n=0;n<t;n++)d();h(),f(1);var y=l(),b=l(),_=u(1);0===_&&f(1),f(1),c()&&(r=l(),i=l(),o=l(),a=l());var S=[1,1];if(c()&&c())switch(s()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:S=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-_)*(b+1)*16-(_?2:4)*(o+a),pixelRatio:S}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),j=function(){function t(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new o.a(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,e)},e.decryptAacSample=function(t,e,n,r){var i=t[e].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){var a=new Uint8Array(o);i.set(a,16),r||s.decryptAacSamples(t,e+1,n)}))},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,r),!r)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n},e.getAvcDecryptedUnit=function(t,e){for(var n=new Uint8Array(e),r=0,i=32;i<=t.length-16;i+=160,r+=16)t.set(n.subarray(r,r+16),i);return t},e.decryptAvcSample=function(t,e,n,r,i,o){var a=q(i.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){i.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,r)}))},e.decryptAvcSamples=function(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();for(var i=t[e].units;!(n>=i.length);n++){var o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,r,o,a),!a)return}}}},t}(),B={video:1,audio:2,id3:3,text:4},U=function(){function t(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=t,this.config=e,this.typeSupported=n}t.probe=function(e){var n=t.syncOffset(e);return!(n<0||(n&&h.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t.syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:B[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}};var e=t.prototype;return e.resetInitSegment=function(e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=e,this.videoCodec=n,this._duration=r},e.resetTimeStamp=function(){},e.resetContiguity=function(){var t=this._audioTrack,e=this._avcTrack,n=this._id3Track;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},e.demux=function(e,n,o,a){var s;void 0===o&&(o=!1),void 0===a&&(a=!1),o||(this.sampleAes=null);var l=this._avcTrack,c=this._audioTrack,f=this._id3Track,d=l.pid,p=l.pesData,v=c.pid,g=f.pid,m=c.pesData,y=f.pesData,b=!1,_=this.pmtParsed,S=this._pmtId,w=e.length;if(this.remainderData&&(w=(e=Object(u.a)(this.remainderData,e)).length,this.remainderData=null),w<188&&!a)return this.remainderData=e,{audioTrack:c,avcTrack:l,id3Track:f,textTrack:this._txtTrack};var E=Math.max(0,t.syncOffset(e));(w-=(w+E)%188)<e.byteLength&&!a&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));for(var T=E;T<w;T+=188)if(71===e[T]){var x=!!(64&e[T+1]),A=((31&e[T+1])<<8)+e[T+2],O=void 0;if((48&e[T+3])>>4>1){if((O=T+5+e[T+4])===T+188)continue}else O=T+4;switch(A){case d:x&&(p&&(s=K(p))&&this.parseAVCPES(s,!1),p={data:[],size:0}),p&&(p.data.push(e.subarray(O,T+188)),p.size+=T+188-O);break;case v:x&&(m&&(s=K(m))&&(c.isAAC?this.parseAACPES(s):this.parseMPEGPES(s)),m={data:[],size:0}),m&&(m.data.push(e.subarray(O,T+188)),m.size+=T+188-O);break;case g:x&&(y&&(s=K(y))&&this.parseID3PES(s),y={data:[],size:0}),y&&(y.data.push(e.subarray(O,T+188)),y.size+=T+188-O);break;case 0:x&&(O+=e[O]+1),S=this._pmtId=H(e,O);break;case S:x&&(O+=e[O]+1);var L=G(e,O,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,o);(d=L.avc)>0&&(l.pid=d),(v=L.audio)>0&&(c.pid=v,c.isAAC=L.isAAC),(g=L.id3)>0&&(f.pid=g),b&&!_&&(h.b.log("reparse from beginning"),b=!1,T=E-188),_=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});l.pesData=p,c.pesData=m,f.pesData=y;var k={audioTrack:c,avcTrack:l,id3Track:f,textTrack:this._txtTrack};return a&&this.extractRemainingSamples(k),k},e.flush=function(){var t,e=this.remainderData;return this.remainderData=null,t=e?this.demux(e,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},e.extractRemainingSamples=function(t){var e,n=t.audioTrack,r=t.avcTrack,i=t.id3Track,o=r.pesData,a=n.pesData,s=i.pesData;o&&(e=K(o))?(this.parseAVCPES(e,!0),r.pesData=null):r.pesData=o,a&&(e=K(a))?(n.isAAC?this.parseAACPES(e):this.parseMPEGPES(e),n.pesData=null):(null!=a&&a.size&&h.b.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=a),s&&(e=K(s))?(this.parseID3PES(e),i.pesData=null):i.pesData=s},e.demuxSampleAes=function(t,e,n){var r=this.demux(t,n,!0,!this.config.progressive),i=this.sampleAes=new j(this.observer,this.config,e);return this.decrypt(r,i)},e.decrypt=function(t,e){return new Promise((function(n){var r=t.audioTrack,i=t.avcTrack;r.samples&&r.isAAC?e.decryptAacSamples(r.samples,0,(function(){i.samples?e.decryptAvcSamples(i.samples,0,0,(function(){n(t)})):n(t)})):i.samples&&e.decryptAvcSamples(i.samples,0,0,(function(){n(t)}))}))},e.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},e.parseAVCPES=function(t,e){var n,r=this,i=this._avcTrack,o=this.parseAVCNALu(t.data),a=this.avcSample,u=!1;t.data=null,a&&o.length&&!i.audFound&&(W(a,i),a=this.avcSample=V(!1,t.pts,t.dts,"")),o.forEach((function(e){switch(e.type){case 1:n=!0,a||(a=r.avcSample=V(!0,t.pts,t.dts,"")),a.frame=!0;var o=e.data;if(u&&o.length>4){var l=new N(o).readSliceType();2!==l&&4!==l&&7!==l&&9!==l||(a.key=!0)}break;case 5:n=!0,a||(a=r.avcSample=V(!0,t.pts,t.dts,"")),a.key=!0,a.frame=!0;break;case 6:n=!0;var c=new N(q(e.data));c.readUByte();for(var f=0,d=0,h=!1,p=0;!h&&c.bytesAvailable>1;){f=0;do{f+=p=c.readUByte()}while(255===p);d=0;do{d+=p=c.readUByte()}while(255===p);if(4===f&&0!==c.bytesAvailable){if(h=!0,181===c.readUByte()&&49===c.readUShort()&&1195456820===c.readUInt()&&3===c.readUByte()){for(var v=c.readUByte(),g=31&v,m=[v,c.readUByte()],y=0;y<g;y++)m.push(c.readUByte()),m.push(c.readUByte()),m.push(c.readUByte());$(r._txtTrack.samples,{type:3,pts:t.pts,bytes:m})}}else if(5===f&&0!==c.bytesAvailable){if(h=!0,d>16){for(var b=[],_=0;_<16;_++)b.push(c.readUByte().toString(16)),3!==_&&5!==_&&7!==_&&9!==_||b.push("-");for(var S=d-16,w=new Uint8Array(S),E=0;E<S;E++)w[E]=c.readUByte();$(r._txtTrack.samples,{pts:t.pts,payloadType:f,uuid:b.join(""),userData:Object(s.f)(w),userDataBytes:w})}}else if(d<c.bytesAvailable)for(var T=0;T<d;T++)c.readUByte()}break;case 7:if(n=!0,u=!0,!i.sps){var x=new N(e.data).readSPS();i.width=x.width,i.height=x.height,i.pixelRatio=x.pixelRatio,i.sps=[e.data],i.duration=r._duration;for(var A=e.data.subarray(1,4),O="avc1.",L=0;L<3;L++){var k=A[L].toString(16);k.length<2&&(k="0"+k),O+=k}i.codec=O}break;case 8:n=!0,i.pps||(i.pps=[e.data]);break;case 9:n=!1,i.audFound=!0,a&&W(a,i),a=r.avcSample=V(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,a&&(a.debug+="unknown NAL "+e.type+" ")}a&&n&&a.units.push(e)})),e&&a&&(W(a,i),this.avcSample=null)},e.getLastNalUnit=function(){var t,e,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(t=n)&&void 0!==t&&t.units){var i=n.units;e=i[i.length-1]}return e},e.parseAVCNALu=function(t){var e,n,r=t.byteLength,i=this._avcTrack,o=i.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&t[0],o=0,u=1);u<r;)if(e=t[u++],o)if(1!==o)if(e)if(1===e){if(l>=0){var f={data:t.subarray(l,u-o-1),type:c};s.push(f)}else{var d=this.getLastNalUnit();if(d&&(a&&u<=4-a&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-a)),(n=u-o-1)>0)){var h=new Uint8Array(d.data.byteLength+n);h.set(d.data,0),h.set(t.subarray(0,n),d.data.byteLength),d.data=h}}u<r?(l=u,c=31&t[u],o=0):o=-1}else o=0;else o=3;else o=e?0:2;else o=e?0:1;if(l>=0&&o>=0){var p={data:t.subarray(l,r),type:c,state:o};s.push(p)}if(0===s.length){var v=this.getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+t.byteLength);g.set(v.data,0),g.set(t,v.data.byteLength),v.data=g}}return i.naluState=o,s},e.parseAACPES=function(t){var e,n,o,a,s,u=0,l=this._audioTrack,c=this.aacOverFlow,f=t.data;if(c){this.aacOverFlow=null;var d=c.sample.unit.byteLength,p=Math.min(c.missing,d),v=d-p;c.sample.unit.set(f.subarray(0,p),v),l.samples.push(c.sample),u=c.missing}for(e=u,n=f.length;e<n-1&&!m(f,e);e++);if(e===u||(e<n-1?(o="AAC PES did not start with ADTS header,offset:"+e,a=!1):(o="no ADTS header found in AAC PES",a=!0),h.b.warn("parsing error:"+o),this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:a,reason:o}),!a)){if(b(l,this.observer,f,e,this.audioCodec),void 0!==t.pts)s=t.pts;else{if(!c)return void h.b.warn("[tsdemuxer]: AAC PES unknown PTS");var g=_(l.samplerate);s=c.sample.pts+g}for(var y=0;e<n;){if(m(f,e)){if(e+5<n){var w=S(l,f,e,s,y);if(w){if(!w.missing){e+=w.length,y++;continue}this.aacOverFlow=w}}break}e++}}},e.parseMPEGPES=function(t){var e=t.data,n=e.length,r=0,i=0,o=t.pts;if(void 0!==o)for(;i<n;)if(F(e,i)){var a=P(this._audioTrack,e,i,o,r);if(!a)break;i+=a.length,r++}else i++;else h.b.warn("[tsdemuxer]: MPEG PES unknown PTS")},e.parseID3PES=function(t){void 0!==t.pts?this._id3Track.samples.push(t):h.b.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function V(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}function H(t,e){return(31&t[e+10])<<8|t[e+11]}function G(t,e,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){var a=(31&t[e+1])<<8|t[e+2];switch(t[e]){case 207:if(!r){h.b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=a);break;case 21:-1===i.id3&&(i.id3=a);break;case 219:if(!r){h.b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=a);break;case 3:case 4:n?-1===i.audio&&(i.audio=a,i.isAAC=!1):h.b.log("MPEG audio found, not supported in this browser");break;case 36:h.b.warn("Unsupported HEVC stream type found")}e+=5+((15&t[e+3])<<8|t[e+4])}return i}function K(t){var e,n,r,i,o,a=0,s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((e=s[0])[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;var l=e[7];192&l&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&l?i-(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(h.b.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o):o=i);var c=(r=e[8])+9;if(t.size<=c)return null;t.size-=c;for(var f=new Uint8Array(t.size),d=0,p=s.length;d<p;d++){var v=(e=s[d]).byteLength;if(c){if(c>v){c-=v;continue}e=e.subarray(c),v-=c,c=0}f.set(e,a),a+=v}return n&&(n-=r+3),{data:f,pts:i,dts:o,len:n}}return null}function W(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){var n=e.samples,r=n.length;if(!r)return void e.dropped++;var i=n[r-1];t.pts=i.pts,t.dts=i.dts}e.samples.push(t)}t.debug.length&&h.b.log(t.pts+"/"+t.dts+":"+t.debug)}function $(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)}function q(t){for(var e=t.byteLength,n=[],r=1;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;var i=e-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=t[a];return o}U.minProbeByteLength=188;var z=U;function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Y(e,n);var i=r.prototype;return i.resetInitSegment=function(e,n,r){t.prototype.resetInitSegment.call(this,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:0,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(t){if(!t)return!1;for(var e=(s.b(t,0)||[]).length,n=t.length;e<n;e++)if(M(t,e))return h.b.log("MPEG Audio sync word found !"),!0;return!1},i.canParse=function(t,e){return function(t,e){return I(t,e)&&4<=t.length-e}(t,e)},i.appendFrame=function(t,e,n){if(null!==this.initPTS)return P(t,e,n,this.initPTS,this.frameIndex)},r}(d);X.minProbeByteLength=4;var Q=X,J=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}(),Z=Math.pow(2,32)-1,tt=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))},t.box=function(t){for(var e=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length,a=o;o--;)e+=r[o].byteLength;var s=new Uint8Array(e);for(s[0]=e>>24&255,s[1]=e>>16&255,s[2]=e>>8&255,s[3]=255&e,s.set(t,4),o=0,e=8;o<a;o++)s.set(r[o],e),e+=r[o].byteLength;return s},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var r=Math.floor(n/(Z+1)),i=Math.floor(n%(Z+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))},t.moov=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))},t.mvhd=function(e,n){n*=e;var r=Math.floor(n/(Z+1)),i=Math.floor(n%(Z+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)i=(r=e.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)i=(r=e.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,l=e.height,c=e.pixelRatio[0],f=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,r=e.duration*e.timescale,i=e.width,o=e.height,a=Math.floor(r/(Z+1)),s=Math.floor(r%(Z+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},t.traf=function(e,n){var r=t.sdtp(e),i=e.id,o=Math.floor(n/(Z+1)),a=Math.floor(n%(Z+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,r.length+16+20+8+16+8+8),r)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var r,i,o,a,s,u,l=e.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return t.box(t.types.trun,d)},t.initSegment=function(e){t.types||t.init();var n=t.moov(e),r=new Uint8Array(t.FTYP.byteLength+n.byteLength);return r.set(t.FTYP),r.set(n,t.FTYP.byteLength),r},t}();tt.types=void 0,tt.HDLR_TYPES=void 0,tt.STTS=void 0,tt.STSC=void 0,tt.STCO=void 0,tt.STSZ=void 0,tt.VMHD=void 0,tt.SMHD=void 0,tt.STSD=void 0,tt.FTYP=void 0,tt.DINF=void 0;var et=tt,nt=n(4);function rt(t,e){return void 0===e&&(e=!1),function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=t*e*n;return r?Math.round(i):i}(t,1e3,1/9e4,e)}function it(){return(it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var ot=null,at=null,st=!1,ut=function(){function t(t,e,n,r){if(void 0===r&&(r=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===ot){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ot=i?parseInt(i[1]):0}if(null===at){var o=navigator.userAgent.match(/Safari\/(\d+)/i);at=o?parseInt(o[1]):0}st=!!ot&&ot<75||!!at&&at<600}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){h.b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t},e.resetNextTimestamp=function(){h.b.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},e.resetInitSegment=function(){h.b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,n=t.reduce((function(t,n){var r=n.pts-t;return r<-4294967296?(e=!0,lt(t,n.pts)):r>0?t:n.pts}),t[0].pts);return e&&h.b.debug("PTS rollover detected"),n},e.remux=function(t,e,n,r,i,o,a,s){var u,l,c,f,d,p,v=i,g=i,m=t.pid>-1,y=e.pid>-1,b=e.samples.length,_=t.samples.length>0,S=b>1;if((!m||_)&&(!y||S)||this.ISGenerated||a){this.ISGenerated||(c=this.generateIS(t,e,i));var w=this.isVideoContiguous,E=-1;if(S&&(E=function(t){for(var e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!w&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,E>0){h.b.warn("[mp4-remuxer]: Dropped "+E+" out of "+b+" video samples due to a missing keyframe");var T=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(E),e.dropped+=E,g+=(e.samples[0].pts-T)/(e.timescale||9e4)}else-1===E&&(h.b.warn("[mp4-remuxer]: No keyframe found out of "+b+" video samples"),p=!1);if(this.ISGenerated){if(_&&S){var x=this.getVideoStartPts(e.samples),A=(lt(t.samples[0].pts,x)-x)/e.inputTimeScale;v+=Math.max(0,A),g+=Math.max(0,-A)}if(_){if(t.samplerate||(h.b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(t,e,i)),l=this.remuxAudio(t,v,this.isAudioContiguous,o,y||S||s===nt.b.AUDIO?g:void 0),S){var O=l?l.endPTS-l.startPTS:0;e.inputTimeScale||(h.b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(t,e,i)),u=this.remuxVideo(e,g,w,O)}}else S&&(u=this.remuxVideo(e,g,w,0));u&&(u.firstKeyFrame=E,u.independent=-1!==E)}}return this.ISGenerated&&(n.samples.length&&(d=this.remuxID3(n,i)),r.samples.length&&(f=this.remuxText(r,i))),{audio:l,video:u,initSegment:c,independent:p,text:f,id3:d}},e.generateIS=function(t,e,n){var r,i,o,s=t.samples,u=e.samples,l=this.typeSupported,c={},f=!Object(a.a)(this._initPTS),d="audio/mp4";if(f&&(r=i=1/0),t.config&&s.length&&(t.timescale=t.samplerate,t.isAAC||(l.mpeg?(d="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),c.audio={id:"audio",container:d,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array(0):et.initSegment([t]),metadata:{channelCount:t.channelCount}},f&&(o=t.inputTimeScale,r=i=s[0].pts-Math.round(o*n))),e.sps&&e.pps&&u.length&&(e.timescale=e.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:et.initSegment([e]),metadata:{width:e.width,height:e.height}},f)){o=e.inputTimeScale;var h=this.getVideoStartPts(u),p=Math.round(o*n);i=Math.min(i,lt(u[0].dts,h)-p),r=Math.min(r,h-p)}if(Object.keys(c).length)return this.ISGenerated=!0,f&&(this._initPTS=r,this._initDTS=i),{tracks:c,initPTS:r,timescale:o}},e.remuxVideo=function(t,e,n,o){var a,s,u,l=t.inputTimeScale,c=t.samples,f=[],d=c.length,p=this._initPTS,v=this.nextAvcDts,g=8,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,b=0,_=!1;n&&null!==v||(v=e*l-(c[0].pts-lt(c[0].dts,c[0].pts)));for(var S=0;S<d;S++){var w=c[S];w.pts=lt(w.pts-p,v),w.dts=lt(w.dts-p,v),w.dts>w.pts&&(b=Math.max(Math.min(b,w.pts-w.dts),-18e3)),w.dts<c[S>0?S-1:S].dts&&(_=!0)}_&&c.sort((function(t,e){var n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),s=c[0].dts,u=c[c.length-1].dts;var E=Math.round((u-s)/(d-1));if(b<0){if(b<-2*E){h.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+rt(-E,!0)+" ms");for(var T=b,x=0;x<d;x++)c[x].dts=T=Math.max(T,c[x].pts-E),c[x].pts=Math.max(T,c[x].pts)}else{h.b.warn("PTS < DTS detected in video samples, shifting DTS by "+rt(b,!0)+" ms to overcome this issue");for(var A=0;A<d;A++)c[A].dts=c[A].dts+b}s=c[0].dts}if(n){var O=s-v,L=O>E;if(L||O<-1){L?h.b.warn("AVC: "+rt(O,!0)+" ms ("+O+"dts) hole between fragments detected, filling it"):h.b.warn("AVC: "+rt(-O,!0)+" ms ("+O+"dts) overlapping between fragments detected"),s=v;var k=c[0].pts-O;c[0].dts=s,c[0].pts=k,h.b.log("Video: First PTS/DTS adjusted: "+rt(k,!0)+"/"+rt(s,!0)+", delta: "+rt(O,!0)+" ms")}}st&&(s=Math.max(0,s));for(var C=0,R=0,P=0;P<d;P++){for(var D=c[P],I=D.units,F=I.length,M=0,N=0;N<F;N++)M+=I[N].data.length;R+=M,C+=F,D.length=M,D.dts=Math.max(D.dts,s),D.pts=Math.max(D.pts,D.dts,0),m=Math.min(D.pts,m),y=Math.max(D.pts,y)}u=c[d-1].dts;var j,B=R+4*C+8;try{j=new Uint8Array(B)}catch(t){return void this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating video mdat "+B})}var U=new DataView(j.buffer);U.setUint32(0,B),j.set(et.types.mdat,4);for(var V=0;V<d;V++){for(var H=c[V],G=H.units,K=0,W=0,$=G.length;W<$;W++){var q=G[W],z=q.data,Y=q.data.byteLength;U.setUint32(g,Y),g+=4,j.set(z,g),g+=Y,K+=4+Y}if(V<d-1)a=c[V+1].dts-H.dts;else{var X=this.config,Q=H.dts-c[V>0?V-1:V].dts;if(X.stretchShortVideoTrack&&null!==this.nextAudioPts){var J=Math.floor(X.maxBufferHole*l),Z=(o?m+o*l:this.nextAudioPts)-H.pts;Z>J?((a=Z-Q)<0&&(a=Q),h.b.log("[mp4-remuxer]: It is approximately "+Z/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=Q}else a=Q}var tt=Math.round(H.pts-H.dts);f.push(new ct(H.key,a,K,tt))}if(f.length&&ot&&ot<70){var nt=f[0].flags;nt.dependsOn=2,nt.isNonSync=0}this.nextAvcDts=v=u+a,this.isVideoContiguous=!0;var at={data1:et.moof(t.sequenceNumber++,s,it({},t,{samples:f})),data2:j,startPTS:m/l,endPTS:(y+a)/l,startDTS:s/l,endDTS:v/l,type:"video",hasAudio:!1,hasVideo:!0,nb:f.length,dropped:t.dropped};return t.samples=[],t.dropped=0,at},e.remuxAudio=function(t,e,n,o,a){var s=t.inputTimeScale,u=s/(t.samplerate?t.samplerate:s),l=t.isAAC?1024:1152,c=l*u,f=this._initPTS,d=!t.isAAC&&this.typeSupported.mpeg,p=[],v=t.samples,g=d?0:8,m=this.nextAudioPts||-1,y=e*s;if(this.isAudioContiguous=n=n||v.length&&m>0&&(o&&Math.abs(y-m)<9e3||Math.abs(lt(v[0].pts-f,y)-m)<20*c),v.forEach((function(t){t.pts=lt(t.pts-f,y)})),!n||m<0){if(!(v=v.filter((function(t){return t.pts>=0}))).length)return;m=0===a?0:o?Math.max(0,y):v[0].pts}if(t.isAAC)for(var b=void 0!==a,_=this.config.maxAudioFramesDrift,S=0,w=m;S<v.length;S++){var E=v[S],T=E.pts,x=T-w,A=Math.abs(1e3*x/s);if(x<=-_*c&&b)0===S&&(h.b.warn("Audio frame @ "+(T/s).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*x/s)+" ms."),this.nextAudioPts=m=w=T);else if(x>=_*c&&A<1e4&&b){var O=Math.round(x/c);(w=T-O*c)<0&&(O--,w+=c),0===S&&(this.nextAudioPts=m=w),h.b.warn("[mp4-remuxer]: Injecting "+O+" audio frame @ "+(w/s).toFixed(3)+"s due to "+Math.round(1e3*x/s)+" ms gap.");for(var L=0;L<O;L++){var k=Math.max(w,0),C=J.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);C||(h.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),C=E.unit.subarray()),v.splice(S,0,{unit:C,pts:k}),w+=c,S++}}E.pts=w,w+=c}for(var R,P=null,D=null,I=0,F=v.length;F--;)I+=v[F].unit.byteLength;for(var M=0,N=v.length;M<N;M++){var j=v[M],B=j.unit,U=j.pts;if(null!==D)p[M-1].duration=Math.round((U-D)/u);else{if(n&&t.isAAC&&(U=m),P=U,!(I>0))return;I+=g;try{R=new Uint8Array(I)}catch(t){return void this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:I,reason:"fail allocating audio mdat "+I})}d||(new DataView(R.buffer).setUint32(0,I),R.set(et.types.mdat,4))}R.set(B,g);var V=B.byteLength;g+=V,p.push(new ct(!0,l,V,0)),D=U}var H=p.length;if(H){var G=p[p.length-1];this.nextAudioPts=m=D+u*G.duration;var K=d?new Uint8Array(0):et.moof(t.sequenceNumber++,P/u,it({},t,{samples:p}));t.samples=[];var W=P/s,$=m/s,q={data1:K,data2:R,startPTS:W,endPTS:$,startDTS:W,endDTS:$,type:"audio",hasAudio:!0,hasVideo:!1,nb:H};return this.isAudioContiguous=!0,q}},e.remuxEmptyAudio=function(t,e,n,r){var i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),a=this.nextAudioPts,s=(null!==a?a:r.startDTS*i)+this._initDTS,u=r.endDTS*i+this._initDTS,l=1024*o,c=Math.ceil((u-s)/l),f=J.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(h.b.warn("[mp4-remuxer]: remux empty Audio"),f){for(var d=[],p=0;p<c;p++){var v=s+p*l;d.push({unit:f,pts:v,dts:v})}return t.samples=d,this.remuxAudio(t,e,n,!1)}h.b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e.remuxID3=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,i=this._initPTS,o=this._initDTS,a=0;a<n;a++){var s=t.samples[a];s.pts=lt(s.pts-i,e*r)/r,s.dts=lt(s.dts-o,e*r)/r}var u=t.samples;return t.samples=[],{samples:u}}},e.remuxText=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,i=this._initPTS,o=0;o<n;o++){var a=t.samples[o];a.pts=lt(a.pts-i,e*r)/r}t.samples.sort((function(t,e){return t.pts-e.pts}));var s=t.samples;return t.samples=[],{samples:s}}},t}();function lt(t,e){var n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}var ct=function(t,e,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=r,this.flags=new ft(t)},ft=function(t){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=t?2:1,this.isNonSync=t?0:1},dt=n(5),ht=function(){function t(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this.initPTS=t,this.lastEndDTS=null},e.resetNextTimestamp=function(){this.lastEndDTS=null},e.resetInitSegment=function(t,e,n){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(t),this.emitInitSegment=!0},e.generateInitSegment=function(t){var e=this.audioCodec,n=this.videoCodec;if(!t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(u.f)(t);e||(e=vt(r.audio,dt.a.AUDIO)),n||(n=vt(r.video,dt.a.VIDEO));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:h.b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},e.remux=function(t,e,n,r,i){var o=this.initPTS,s=this.lastEndDTS,l={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};Object(a.a)(s)||(s=this.lastEndDTS=i||0);var c=e.samples;if(!c||!c.length)return l;var f={initPTS:void 0,timescale:1},d=this.initData;if(d&&d.length||(this.generateInitSegment(c),d=this.initData),!d||!d.length)return h.b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),l;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1),Object(a.a)(o)||(this.initPTS=f.initPTS=o=pt(d,c,s));var p=Object(u.c)(c,d),v=s,g=p+v;Object(u.e)(d,c,o),p>0?this.lastEndDTS=g:(h.b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var m=!!d.audio,y=!!d.video,b="";m&&(b+="audio"),y&&(b+="video");var _={data1:c,startPTS:v,startDTS:v,endPTS:g,endDTS:g,type:b,hasAudio:m,hasVideo:y,nb:1,dropped:0};return l.audio="audio"===_.type?_:void 0,l.video="audio"!==_.type?_:void 0,l.text=r,l.id3=n,l.initSegment=f,l},t}(),pt=function(t,e,n){return Object(u.d)(t,e)-n};function vt(t,e){var n=null==t?void 0:t.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||e===dt.a.VIDEO?"avc1.42e01e":"mp4a.40.5"}var gt,mt=ht,yt=n(16);try{gt=self.performance.now.bind(self.performance)}catch(t){h.b.debug("Unable to use Performance API on this environment"),gt=self.Date.now}var bt=[{demux:z,remux:ut},{demux:A,remux:mt},{demux:T,remux:ut},{demux:Q,remux:ut}],_t=1024;bt.forEach((function(t){var e=t.demux;_t=Math.max(_t,e.minProbeByteLength)}));var St=function(){function t(t,e,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new yt.a,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r,this.id=i}var e=t.prototype;return e.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},e.push=function(t,e,n,r){var i=this,o=n.transmuxing;o.executeStart=gt();var a=new Uint8Array(t),s=this.cache,l=this.config,c=this.currentTransmuxState,f=this.transmuxConfig;r&&(this.currentTransmuxState=r);var d=function(t,e){var n=null;return t.byteLength>0&&null!=e&&null!=e.key&&null!==e.iv&&null!=e.method&&(n=e),n}(a,e);if(d&&"AES-128"===d.method){var h=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(a,d.key.buffer,d.iv.buffer).then((function(t){var e=i.push(t,null,n);return i.decryptionPromise=null,e})),this.decryptionPromise;var p=h.softwareDecrypt(a,d.key.buffer,d.iv.buffer);if(!p)return o.executeEnd=gt(),wt(n);a=new Uint8Array(p)}var v=r||c,g=v.contiguous,m=v.discontinuity,y=v.trackSwitch,b=v.accurateTimeOffset,_=v.timeOffset,S=f.audioCodec,w=f.videoCodec,E=f.defaultInitPts,T=f.duration,x=f.initSegmentData;if((m||y)&&this.resetInitSegment(x,S,w,T),m&&this.resetInitialTimestamp(E),g||this.resetContiguity(),this.needsProbing(a,m,y)){if(s.dataLength){var A=s.flush();a=Object(u.a)(A,a)}this.configureTransmuxer(a,f)}var O=this.transmux(a,d,_,b,n),L=this.currentTransmuxState;return L.contiguous=!0,L.discontinuity=!1,L.trackSwitch=!1,o.executeEnd=gt(),O},e.flush=function(t){var e=this,n=t.transmuxing;n.executeStart=gt();var o=this.decrypter,a=this.cache,s=this.currentTransmuxState,u=this.decryptionPromise;if(u)return u.then((function(){return e.flush(t)}));var l=[],c=s.timeOffset;if(o){var f=o.flush();f&&l.push(this.push(f,null,t))}var d=a.dataLength;a.reset();var h=this.demuxer,p=this.remuxer;if(!h||!p)return d>=_t&&this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=gt(),[wt(t)];var v=h.flush(c);return Et(v)?v.then((function(n){return e.flushRemux(l,n,t),l})):(this.flushRemux(l,v,t),l)},e.flushRemux=function(t,e,n){var r=e.audioTrack,i=e.avcTrack,o=e.id3Track,a=e.textTrack,s=this.currentTransmuxState,u=s.accurateTimeOffset,l=s.timeOffset;h.b.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var c=this.remuxer.remux(r,i,o,a,l,u,!0,this.id);t.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=gt()},e.resetInitialTimestamp=function(t){var e=this.demuxer,n=this.remuxer;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))},e.resetContiguity=function(){var t=this.demuxer,e=this.remuxer;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())},e.resetInitSegment=function(t,e,n,r){var i=this.demuxer,o=this.remuxer;i&&o&&(i.resetInitSegment(e,n,r),o.resetInitSegment(t,e,n))},e.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},e.transmux=function(t,e,n,r,i){return e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,i):this.transmuxUnencrypted(t,n,r,i)},e.transmuxUnencrypted=function(t,e,n,r){var i=this.demuxer.demux(t,e,!1,!this.config.progressive),o=i.audioTrack,a=i.avcTrack,s=i.id3Track,u=i.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,e,n,!1,this.id),chunkMeta:r}},e.transmuxSampleAes=function(t,e,n,r,i){var o=this;return this.demuxer.demuxSampleAes(t,e,n).then((function(t){return{remuxResult:o.remuxer.remux(t.audioTrack,t.avcTrack,t.id3Track,t.textTrack,n,r,!1,o.id),chunkMeta:i}}))},e.configureTransmuxer=function(t,e){for(var n,r=this.config,i=this.observer,o=this.typeSupported,a=this.vendor,s=e.audioCodec,u=e.defaultInitPts,l=e.duration,c=e.initSegmentData,f=e.videoCodec,d=0,p=bt.length;d<p;d++)if(bt[d].demux.probe(t)){n=bt[d];break}n||(h.b.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:A,remux:mt});var v=this.demuxer,g=this.remuxer,m=n.remux,y=n.demux;g&&g instanceof m||(this.remuxer=new m(i,r,o,a)),v&&v instanceof y||(this.demuxer=new y(i,r,o),this.probe=y.probe),this.resetInitSegment(c,s,f,l),this.resetInitialTimestamp(u)},e.needsProbing=function(t,e,n){return!this.demuxer||!this.remuxer||e||n},e.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new o.a(this.observer,this.config)),t},t}(),wt=function(t){return{remuxResult:{},chunkMeta:t}};function Et(t){return"then"in t&&t.then instanceof Function}var Tt=function(t,e,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},xt=function(t,e,n,r,i){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i}},function(t,e,n){var r,i,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=i.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(f)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(t){var e=r.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=s},function(t,e){t.exports=void 0},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=function(){function t(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),i=function(){function t(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),o=n(8),a=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<4;r++)n[r]=e.getUint32(4*r);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],d=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)d[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,t[h]=g,e[g]=h;var m=d[h],y=d[m],b=d[y],_=257*d[g]^16843008*g;r[h]=_<<24|_>>>8,i[h]=_<<16|_>>>16,o[h]=_<<8|_>>>24,a[h]=_,_=16843009*b^65537*y^257*m^16843008*h,u[g]=_<<24|_>>>8,l[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,f[g]=_,h?(h=m^d[d[d[b^m]]],p^=d[d[p]]):h=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),d=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=e[o]:(u=s,o%i==0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=h[o/i|0]<<24):i>6&&o%i==4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:v[d[u>>>24]]^g[d[u>>>16&255]]^m[d[u>>>8&255]]^y[d[255&u]],f[a]=f[a]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n){for(var r,i,o,a,s,u,l,c,f,d,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,_=this.invSubMix,S=_[0],w=_[1],E=_[2],T=_[3],x=this.uint8ArrayToUint32Array_(n),A=x[0],O=x[1],L=x[2],k=x[3],C=new Int32Array(t),R=new Int32Array(C.length),P=this.networkToHostOrderSwap;e<C.length;){for(f=P(C[e]),d=P(C[e+1]),h=P(C[e+2]),p=P(C[e+3]),s=f^y[0],u=p^y[1],l=h^y[2],c=d^y[3],v=4,g=1;g<m;g++)r=S[s>>>24]^w[u>>16&255]^E[l>>8&255]^T[255&c]^y[v],i=S[u>>>24]^w[l>>16&255]^E[c>>8&255]^T[255&s]^y[v+1],o=S[l>>>24]^w[c>>16&255]^E[s>>8&255]^T[255&u]^y[v+2],a=S[c>>>24]^w[s>>16&255]^E[u>>8&255]^T[255&l]^y[v+3],s=r,u=i,l=o,c=a,v+=4;r=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[v],i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&u]^y[v+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^y[v+3],R[e]=P(r^A),R[e+1]=P(a^O),R[e+2]=P(o^L),R[e+3]=P(i^k),A=f,O=d,L=h,k=p,e+=4}return R.buffer},t}(),s=n(1),u=n(6),l=function(){function t(t,e,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=t,this.config=e,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(t){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var e=t.prototype;return e.destroy=function(){this.observer=null},e.isSync=function(){return this.config.enableSoftwareAES},e.flush=function(){var t=this.currentResult;if(t){var e,n,r,i=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?(r=(n=(e=i).byteLength)&&new DataView(e.buffer).getUint8(n-1))?Object(o.a)(e,0,n-r):e:i}this.reset()},e.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},e.decrypt=function(t,e,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(t),e,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(t),e,n).then(r)},e.softwareDecrypt=function(t,e,n){var r=this.currentIV,i=this.currentResult,s=this.remainderData;this.logOnce("JS AES decrypt"),s&&(t=Object(u.a)(s,t),this.remainderData=null);var l=this.getValidChunk(t);if(!l.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new a),c.expandKey(e);var f=i;return this.currentResult=c.decrypt(l.buffer,0,n),this.currentIV=Object(o.a)(l,-16).buffer,f||null},e.webCryptoDecrypt=function(t,e,n){var o=this,a=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new i(a,e)),this.fastAesKey.expandKey().then((function(e){return a?new r(a,n).decrypt(t.buffer,e):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return o.onWebCryptoError(r,t,e,n)}))},e.onWebCryptoError=function(t,e,n,r){return s.b.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",t),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r)},e.getValidChunk=function(t){var e=t,n=t.length-t.length%16;return n!==t.length&&(e=Object(o.a)(t,0,n),this.remainderData=Object(o.a)(t,n)),e},e.logOnce=function(t){this.logEnabled&&(s.b.log("[decrypter.ts]: "+t),this.logEnabled=!1)},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(10);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(t,e){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=e?Object(r.buildAbsoluteURL)(t,e,{alwaysNormalize:!0}):t}var e,n;return t.fromURL=function(e,n){return new t(e,n)},t.fromURI=function(e){return new t(e)},e=t,(n=[{key:"uri",get:function(){return this._uri}}])&&i(e.prototype,n),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this.chunks=[],this.dataLength=0}var e=t.prototype;return e.push=function(t){this.chunks.push(t),this.dataLength+=t.length},e.flush=function(){var t,e=this.chunks,n=this.dataLength;return e.length?(t=1===e.length?e[0]:function(t,e){for(var n=new Uint8Array(e),r=0,i=0;i<t.length;i++){var o=t[i];n.set(o,r),r+=o.length}return n}(e,n),this.reset(),t):new Uint8Array(0)},e.reset=function(){this.chunks.length=0,this.dataLength=0},t}()},function(t,e,n){function r(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,r){var o={};o[r]=[];var a=e.toString(),s=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var u,l=s[1],c=new RegExp("(\\\\n|\\W)"+i(l)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=c.exec(a);)"dll-reference"!==u[3]&&o[r].push(u[3]);for(c=new RegExp("\\("+i(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=c.exec(a);)t[u[2]]||(o[r].push(u[1]),t[u[2]]=n(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var f,d=Object.keys(o),h=0;h<d.length;h++)for(var p=0;p<o[d[h]].length;p++)f=o[d[h]][p],isNaN(1*f)||(o[d[h]][p]=1*o[d[h]][p]);return o}function a(t){return Object.keys(t).reduce((function(e,n){return e||t[n].length>0}),!1)}t.exports=function(t,e){e=e||{};var i={main:n.m},s=e.all?{main:Object.keys(i.main)}:function(t,e){for(var n={main:[e]},r={main:[]},i={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u],c=n[l].pop();if(i[l]=i[l]||{},!i[l][c]&&t[l][c]){i[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var f=o(t,t[l][c],l),d=Object.keys(f),h=0;h<d.length;h++)n[d[h]]=n[d[h]]||[],n[d[h]]=n[d[h]].concat(f[d[h]])}}return r}(i,t),u="";Object.keys(s).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;s[t][e];)e++;s[t].push(e),i[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map((function(e){return JSON.stringify(e)+": "+i[t][e].toString()})).join(",")+"});\n"})),u=u+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map((function(t){return JSON.stringify(t)+": "+i.main[t].toString()})).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(e.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),f=new window.Worker(c);return f.objectURL=c,f}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var r=n(9),i=n(0),o=n(1),a=n(13);function s(t){var e=new a.EventEmitter,n=function(e,n){t.postMessage({event:e,data:n})};e.on(i.a.FRAG_DECRYPTED,n),e.on(i.a.ERROR,n),t.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.transmuxer=new r.c(e,a.typeSupported,s,a.vendor,a.id),Object(o.a)(s.debug),n("init",null);break;case"configure":t.transmuxer.configure(a.config);break;case"demux":var l=t.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Object(r.d)(l)?l.then((function(e){u(t,e)})):u(t,l);break;case"flush":var f=a.chunkMeta,d=t.transmuxer.flush(f);Object(r.d)(d)?d.then((function(e){c(t,e,f)})):c(t,d,f)}}))}function u(t,e){if((n=e.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=e.remuxResult,o=i.audio,a=i.video;o&&l(r,o),a&&l(r,a),t.postMessage({event:"transmuxComplete",data:e},r)}}function l(t,e){e.data1&&t.push(e.data1.buffer),e.data2&&t.push(e.data2.buffer)}function c(t,e,n){e.forEach((function(e){u(t,e)})),t.postMessage({event:"flush",data:n})}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Le}));var r=n(10),i=n(3),o=n(0),a=n(2),s=n(1),u=n(6),l=n(5);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=t}var e,n;return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay},e=t,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(i.a)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!==(t=this.fragments)&&void 0!==t&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var t;return null!==(t=this.partList)&&void 0!==t&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&c(e.prototype,n),t}(),d=n(15),h=/^(\d+)x(\d+)$/,p=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,v=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.optionalFloat=function(t,e){var n=this[t];return n?parseFloat(n):e},e.enumeratedString=function(t){return this[t]},e.bool=function(t){return"YES"===this[t]},e.decimalResolution=function(t){var e=h.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(p.lastIndex=0;null!==(e=p.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1]]=r}return n},t}(),g={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function m(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var y=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,b=/#EXT-X-MEDIA:(.*)/g,_=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),S=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),w=/\.(mp4|m4s|m4v|m4a)$/i,E=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}},t.convertAVC1ToAVCOTI=function(t){var e=t.split(".");if(e.length>2){var n=e.shift()+".";return(n+=parseInt(e.shift()).toString(16))+("000"+parseInt(e.shift()).toString(16)).substr(-4)}return t},t.resolve=function(t,e){return r.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var r,i=[],o={},a=!1;for(y.lastIndex=0;null!=(r=y.exec(e));)if(r[1]){var s=new v(r[1]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:t.resolve(r[2],n)},l=s.decimalResolution("RESOLUTION");l&&(u.width=l.width,u.height=l.height),T((s.CODECS||"").split(/[ ,]+/).filter((function(t){return t})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=t.convertAVC1ToAVCOTI(u.videoCodec)),i.push(u)}else if(r[3]){var c=new v(r[3]);c["DATA-ID"]&&(a=!0,o[c["DATA-ID"]]=c)}return{levels:i,sessionData:a?o:null}},t.parseMasterPlaylistMedia=function(e,n,r,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(b.lastIndex=0;null!==(o=b.exec(e));){var u=new v(o[1]);if(u.TYPE===r){var l={attrs:u,bitrate:0,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:r,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?t.resolve(u.URI,n):""};if(i.length){var c=t.findGroup(i,l.groupId)||i[0];x(l,c,"audioCodec"),x(l,c,"textCodec")}a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,n,o,a){var u,c,h,p=new f(e),g=p.fragments,m=null,y=0,b=0,E=0,T=0,x=null,O=new l.b(o,e),L=-1,k=!1;for(_.lastIndex=0,p.m3u8=t;null!==(u=_.exec(t));){k&&(k=!1,(O=new l.b(o,e)).start=E,O.sn=y,O.cc=T,O.level=n,m&&(O.initSegment=m,O.rawProgramDateTime=m.rawProgramDateTime));var C=u[1];if(C){O.duration=parseFloat(C);var R=(" "+u[2]).slice(1);O.title=R||null,O.tagList.push(R?["INF",C,R]:["INF",C])}else if(u[3])Object(i.a)(O.duration)&&(O.start=E,h&&(O.levelkey=h),O.sn=y,O.level=n,O.cc=T,O.urlId=a,g.push(O),O.relurl=(" "+u[3]).slice(1),A(O,x),x=O,E+=O.duration,y++,b=0,k=!0);else if(u[4]){var P=(" "+u[4]).slice(1);x?O.setByteRange(P,x):O.setByteRange(P)}else if(u[5])O.rawProgramDateTime=(" "+u[5]).slice(1),O.tagList.push(["PROGRAM-DATE-TIME",O.rawProgramDateTime]),-1===L&&(L=g.length);else{if(!(u=u[0].match(S))){s.b.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<u.length&&void 0===u[c];c++);var D=(" "+u[c]).slice(1),I=(" "+u[c+1]).slice(1),F=u[c+2]?(" "+u[c+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":p.type=I.toUpperCase();break;case"MEDIA-SEQUENCE":y=p.startSN=parseInt(I);break;case"SKIP":var M=new v(I),N=M.decimalInteger("SKIPPED-SEGMENTS");if(Object(i.a)(N)){p.skippedSegments=N;for(var j=N;j--;)g.unshift(null);y+=N}var B=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");B&&(p.recentlyRemovedDateranges=B.split("\t"));break;case"TARGETDURATION":p.targetduration=parseFloat(I);break;case"VERSION":p.version=parseInt(I);break;case"EXTM3U":break;case"ENDLIST":p.live=!1;break;case"#":(I||F)&&O.tagList.push(F?[I,F]:[I]);break;case"DIS":T++;case"GAP":O.tagList.push([D]);break;case"BITRATE":O.tagList.push([D,I]);break;case"DISCONTINUITY-SEQ":T=parseInt(I);break;case"KEY":var U,V=new v(I),H=V.enumeratedString("METHOD"),G=V.URI,K=V.hexadecimalInteger("IV"),W=V.enumeratedString("KEYFORMATVERSIONS"),$=V.enumeratedString("KEYID"),q=null!=(U=V.enumeratedString("KEYFORMAT"))?U:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(q)>-1){s.b.warn("Keyformat "+q+" is not supported from the manifest");continue}if("identity"!==q)continue;H&&(h=d.a.fromURL(e,G),G&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(H)>=0&&(h.method=H,h.keyFormat=q,$&&(h.keyID=$),W&&(h.keyFormatVersions=W),h.iv=K));break;case"START":var z=new v(I).decimalFloatingPoint("TIME-OFFSET");Object(i.a)(z)&&(p.startTimeOffset=z);break;case"MAP":var Y=new v(I);O.relurl=Y.URI,Y.BYTERANGE&&O.setByteRange(Y.BYTERANGE),O.level=n,O.sn="initSegment",h&&(O.levelkey=h),O.initSegment=null,m=O,k=!0;break;case"SERVER-CONTROL":var X=new v(I);p.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),p.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),p.canSkipDateRanges=p.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),p.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),p.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new v(I);p.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var J=p.partList;J||(J=p.partList=[]);var Z=b>0?J[J.length-1]:void 0,tt=b++,et=new l.c(new v(I),O,e,tt,Z);J.push(et),O.duration+=et.duration;break;case"PRELOAD-HINT":var nt=new v(I);p.preloadHint=nt;break;case"RENDITION-REPORT":var rt=new v(I);p.renditionReports=p.renditionReports||[],p.renditionReports.push(rt);break;default:s.b.warn("line parsed but not handled: "+u)}}}x&&!x.relurl?(g.pop(),E-=x.duration,p.partList&&(p.fragmentHint=x)):p.partList&&(A(O,x),O.cc=T,p.fragmentHint=O);var it=g.length,ot=g[0],at=g[it-1];if((E+=p.skippedSegments*p.targetduration)>0&&it&&at){p.averagetargetduration=E/it;var st=at.sn;p.endSN="initSegment"!==st?st:0,ot&&(p.startCC=ot.cc,ot.initSegment||p.fragments.every((function(t){return t.relurl&&(e=t.relurl,w.test(null!=(n=null===(i=r.parseURL(e))||void 0===i?void 0:i.path)?n:""));var e,n,i}))&&(s.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(O=new l.b(o,e)).relurl=at.relurl,O.level=n,O.sn="initSegment",ot.initSegment=O,p.needSidxRanges=!0))}else p.endSN=0,p.startCC=0;return p.fragmentHint&&(E+=p.fragmentHint.duration),p.totalduration=E,p.endCC=T,L>0&&function(t,e){for(var n=t[e],r=e;r--;){var i=t[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(g,L),p},t}();function T(t,e){["video","audio","text"].forEach((function(n){var r=t.filter((function(t){return function(t,e){var n=g[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)}));if(r.length){var i=r.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=i.length>0?i[0]:r[0],t=t.filter((function(t){return-1===r.indexOf(t)}))}})),e.unknownCodecs=t}function x(t,e,n){var r=e[n];r&&(t[n]=r)}function A(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Object(i.a)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var O=n(4);function L(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}var k=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.hls=t,this.registerListeners()}var e=t.prototype;return e.registerListeners=function(){var t=this.hls;t.on(o.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(o.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(o.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.unregisterListeners=function(){var t=this.hls;t.off(o.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.a.LEVEL_LOADING,this.onLevelLoading,this),t.off(o.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(o.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},e.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return t.loader=i,this.loaders[t.type]=i,i},e.getInternalLoader=function(t){return this.loaders[t.type]},e.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},e.onManifestLoading=function(t,e){var n=e.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:O.a.MANIFEST,url:n,deliveryDirectives:null})},e.onLevelLoading=function(t,e){var n=e.id,r=e.level,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:O.a.LEVEL,url:i,deliveryDirectives:o})},e.onAudioTrackLoading=function(t,e){var n=e.id,r=e.groupId,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:O.a.AUDIO_TRACK,url:i,deliveryDirectives:o})},e.onSubtitleTrackLoading=function(t,e){var n=e.id,r=e.groupId,i=e.url,o=e.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:O.a.SUBTITLE_TRACK,url:i,deliveryDirectives:o})},e.load=function(t){var e,n,r,i,o,a,u=this.hls.config,l=this.getInternalLoader(t);if(l){var c=l.context;if(c&&c.url===t.url)return void s.b.trace("[playlist-loader]: playlist request ongoing");s.b.log("[playlist-loader]: aborting previous loader for type: "+t.type),l.abort()}switch(t.type){case O.a.MANIFEST:n=u.manifestLoadingMaxRetry,r=u.manifestLoadingTimeOut,i=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case O.a.LEVEL:case O.a.AUDIO_TRACK:case O.a.SUBTITLE_TRACK:n=0,r=u.levelLoadingTimeOut;break;default:n=u.levelLoadingMaxRetry,r=u.levelLoadingTimeOut,i=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout}if(l=this.createInternalLoader(t),null!==(e=t.deliveryDirectives)&&void 0!==e&&e.part&&(t.type===O.a.LEVEL&&null!==t.level?a=this.hls.levels[t.level].details:t.type===O.a.AUDIO_TRACK&&null!==t.id?a=this.hls.audioTracks[t.id].details:t.type===O.a.SUBTITLE_TRACK&&null!==t.id&&(a=this.hls.subtitleTracks[t.id].details),a)){var f=a.partTarget,d=a.targetduration;f&&d&&(r=Math.min(1e3*Math.max(3*f,.8*d),r))}var h={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:o,highWaterMark:0},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l.load(t,h,p)},e.loadsuccess=function(t,e,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(t,n),void this.handlePlaylistLoaded(t,e,n,r);this.resetInternalLoader(n.type);var i=t.data;0===i.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(t,e,n,r):this.handleMasterPlaylist(t,e,n,r)):this.handleManifestParsingError(t,n,"no EXTM3U delimiter",r)},e.loaderror=function(t,e,n){void 0===n&&(n=null),this.handleNetworkError(e,n,!1,t)},e.loadtimeout=function(t,e,n){void 0===n&&(n=null),this.handleNetworkError(e,n,!0)},e.handleMasterPlaylist=function(t,e,n,r){var i=this.hls,a=t.data,u=L(t,n),l=E.parseMasterPlaylist(a,u),c=l.levels,f=l.sessionData;if(c.length){var d=c.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),h=c.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),p=E.parseMasterPlaylistMedia(a,u,"AUDIO",d),g=E.parseMasterPlaylistMedia(a,u,"SUBTITLES",h),m=E.parseMasterPlaylistMedia(a,u,"CLOSED-CAPTIONS");p.length&&(p.some((function(t){return!t.url}))||!c[0].audioCodec||c[0].attrs.AUDIO||(s.b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new v({}),bitrate:0,url:""}))),i.trigger(o.a.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:g,captions:m,url:u,stats:e,networkDetails:r,sessionData:f})}else this.handleManifestParsingError(t,n,"no level found in manifest",r)},e.handleTrackOrLevelPlaylist=function(t,e,n,r){var s=this.hls,u=n.id,l=n.level,c=n.type,f=L(t,n),d=Object(i.a)(u)?u:0,h=Object(i.a)(l)?l:d,p=function(t){switch(t.type){case O.a.AUDIO_TRACK:return O.b.AUDIO;case O.a.SUBTITLE_TRACK:return O.b.SUBTITLE;default:return O.b.MAIN}}(n),g=E.parseLevelPlaylist(t.data,f,h,p,d);if(g.fragments.length){if(c===O.a.MANIFEST){var m={attrs:new v({}),bitrate:0,details:g,name:"",url:f};s.trigger(o.a.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:f,stats:e,networkDetails:r,sessionData:null})}if(e.parsing.end=performance.now(),g.needSidxRanges){var y,b=null===(y=g.fragments[0].initSegment)||void 0===y?void 0:y.url;this.load({url:b,isSidxRequest:!0,type:c,level:l,levelDetails:g,id:u,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=g,this.handlePlaylistLoaded(t,e,n,r)}else s.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.LEVEL_EMPTY_ERROR,fatal:!1,url:f,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},e.handleSidxRequest=function(t,e){var n=Object(u.g)(new Uint8Array(t.data));if(n){var r=n.references,i=e.levelDetails;r.forEach((function(t,e){var r=t.info,o=i.fragments[e];0===o.byteRange.length&&o.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),o.initSegment&&o.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},e.handleManifestParsingError=function(t,e,n,r){this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:e.type===O.a.MANIFEST,url:t.url,reason:n,response:t,context:e,networkDetails:r})},e.handleNetworkError=function(t,e,n,r){void 0===n&&(n=!1),s.b.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+t.type+" level: "+t.level+" id: "+t.id+' group-id: "'+t.groupId+'"');var i=a.a.UNKNOWN,u=!1,l=this.getInternalLoader(t);switch(t.type){case O.a.MANIFEST:i=n?a.a.MANIFEST_LOAD_TIMEOUT:a.a.MANIFEST_LOAD_ERROR,u=!0;break;case O.a.LEVEL:i=n?a.a.LEVEL_LOAD_TIMEOUT:a.a.LEVEL_LOAD_ERROR,u=!1;break;case O.a.AUDIO_TRACK:i=n?a.a.AUDIO_TRACK_LOAD_TIMEOUT:a.a.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case O.a.SUBTITLE_TRACK:i=n?a.a.SUBTITLE_TRACK_LOAD_TIMEOUT:a.a.SUBTITLE_LOAD_ERROR,u=!1}l&&this.resetInternalLoader(t.type);var c={type:a.b.NETWORK_ERROR,details:i,fatal:u,url:t.url,loader:l,context:t,networkDetails:e};r&&(c.response=r),this.hls.trigger(o.a.ERROR,c)},e.handlePlaylistLoaded=function(t,e,n,r){var i=n.type,a=n.level,s=n.id,u=n.groupId,l=n.loader,c=n.levelDetails,f=n.deliveryDirectives;if(null!=c&&c.targetduration){if(l)switch(c.live&&(l.getCacheAge&&(c.ageHeader=l.getCacheAge()||0),l.getCacheAge&&!isNaN(c.ageHeader)||(c.ageHeader=0)),i){case O.a.MANIFEST:case O.a.LEVEL:this.hls.trigger(o.a.LEVEL_LOADED,{details:c,level:a||0,id:s||0,stats:e,networkDetails:r,deliveryDirectives:f});break;case O.a.AUDIO_TRACK:this.hls.trigger(o.a.AUDIO_TRACK_LOADED,{details:c,id:s||0,groupId:u||"",stats:e,networkDetails:r,deliveryDirectives:f});break;case O.a.SUBTITLE_TRACK:this.hls.trigger(o.a.SUBTITLE_TRACK_LOADED,{details:c,id:s||0,groupId:u||"",stats:e,networkDetails:r,deliveryDirectives:f})}}else this.handleManifestParsingError(t,n,"invalid target duration",r)},t}(),C=function(){function t(t){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){this.hls.on(o.a.KEY_LOADING,this.onKeyLoading,this)},e._unregisterListeners=function(){this.hls.off(o.a.KEY_LOADING,this.onKeyLoading)},e.destroy=function(){for(var t in this._unregisterListeners(),this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={}},e.onKeyLoading=function(t,e){var n=e.frag,r=n.type,i=this.loaders[r];if(n.decryptdata){var a=n.decryptdata.uri;if(a!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;if(i&&(s.b.warn("abort previous key loader for type:"+r),i.abort()),!a)return void s.b.warn("key uri is falsy");var l=u.loader,c=n.loader=this.loaders[r]=new l(u);this.decrypturl=a,this.decryptkey=null;var f={url:a,frag:n,responseType:"arraybuffer"},d={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(f,d,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(o.a.KEY_LOADED,{frag:n}))}else s.b.warn("Missing decryption data on fragment in onKeyLoading")},e.loadsuccess=function(t,e,n){var r=n.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=null,delete this.loaders[r.type],this.hls.trigger(o.a.KEY_LOADED,{frag:r})):s.b.error("after key load, decryptdata unset")},e.loaderror=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},e.loadtimeout=function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(o.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}();function R(t,e){var n;try{n=new Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}var P=n(7),D=function(){function t(t){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=t,this._registerListeners()}var e=t.prototype;return e.destroy=function(){this._unregisterListeners()},e._registerListeners=function(){var t=this.hls;t.on(o.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(o.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},e._unregisterListeners=function(){var t=this.hls;t.off(o.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(o.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},e.onMediaAttached=function(t,e){this.media=e.media},e.onMediaDetaching=function(){this.id3Track&&(function(t){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var n=t.cues.length;n--;)t.removeCue(t.cues[n]);"disabled"===e&&(t.mode=e)}(this.id3Track),this.id3Track=null,this.media=null)},e.getID3Track=function(t){if(this.media){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return R(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},e.onFragParsingMetadata=function(t,e){if(this.media){var n=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,o=0;o<r.length;o++){var a=P.c(r[o].data);if(a){var s=r[o].pts,u=o<r.length-1?r[o+1].pts:n.end;u-s<=0&&(u=s+.25);for(var l=0;l<a.length;l++){var c=a[l];if(!P.e(c)){var f=new i(s,u,"");f.value=c,this.id3Track.addCue(f)}}}}}},e.onBufferFlushing=function(t,e){var n=e.startOffset,r=e.endOffset,i=e.type;if(!i||"audio"===i){var o=this.id3Track;o&&function(t,e,n){var r=t.mode;if("disabled"===r&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var i=function(t,e,n){var r=[],i=function(t,e){if(e<t[0].startTime)return 0;var n=t.length-1;if(e>t[n].endTime)return-1;for(var r=0,i=n;r<=i;){var o=Math.floor((i+r)/2);if(e<t[o].startTime)i=o-1;else{if(!(e>t[o].startTime&&r<n))return o;r=o+1}}return t[r].startTime-e<e-t[i].startTime?r:i}(t,e);if(i>-1)for(var o=i,a=t.length;o<a;o++){var s=t[o];if(s.startTime>=e&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}(t.cues,e,n),o=0;o<i.length;o++)t.removeCue(i[o]);"disabled"===r&&(t.mode=r)}(o,n,r)}},t}();function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var F,M=function(){function t(t){var e=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return e.timeupdate()},this.hls=t,this.config=t.config,this.registerListeners()}var e,n,r=t.prototype;return r.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},r.registerListeners=function(){this.hls.on(o.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(o.a.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(o.a.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(o.a.ERROR,this.onError,this)},r.unregisterListeners=function(){this.hls.off(o.a.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(o.a.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(o.a.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(o.a.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(o.a.ERROR,this.onError)},r.onMediaAttached=function(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},r.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},r.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},r.onLevelUpdated=function(t,e){var n=e.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},r.onError=function(t,e){e.details===a.a.BUFFER_STALLED_ERROR&&(this.stallCount++,s.b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},r.timeupdate=function(){var t=this.media,e=this.levelDetails;if(t&&e){this.currentTime=t.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=n-a,u=s<Math.min(this.maxLatency,a+e.targetduration);if(e.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;t.playbackRate=Math.min(l,Math.max(1,c))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}}}}},r.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},r.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},e=t,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var t=this.config,e=this.levelDetails;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t)return null;var e=t.holdBack,n=t.partHoldBack,r=t.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,u=this.hls.userConfig,l=s&&n||e;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;var r=n.edge,i=t-e-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,e=this.levelDetails;if(!t||!e)return 0;var n=t.buffered.length;return n?t.buffered.end(n-1):e.edge-this.currentTime}}])&&I(e.prototype,n),t}();function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}!function(t){t.No="",t.Yes="YES",t.v2="v2"}(F||(F={}));var j=function(){function t(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}return t.prototype.addDirectives=function(t){var e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.toString()},t}(),B=function(){function t(t){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[t.url],this.attrs=t.attrs,this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.unknownCodecs=t.unknownCodecs,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return t})).join(",").replace(/\.[^.,]+/g,"")}var e,n;return e=t,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(t){var e=t%this.url.length;this._urlId!==e&&(this.details=void 0,this._urlId=e)}}])&&N(e.prototype,n),t}();function U(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function V(t){var e={};t.forEach((function(t){var n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}function H(t,e){var n=e.startPTS;if(Object(i.a)(n)){var r,o=0;e.sn>t.sn?(o=n-t.start,r=t):(o=t.start-n,r=e),r.duration!==o&&(r.duration=o)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function G(t,e,n,r,o,a){r-n<=0&&(s.b.warn("Fragment should have a positive duration",e),r=n+e.duration,a=o+e.duration);var u=n,l=r,c=e.startPTS,f=e.endPTS;if(Object(i.a)(c)){var d=Math.abs(c-n);Object(i.a)(e.deltaPTS)?e.deltaPTS=Math.max(d,e.deltaPTS):e.deltaPTS=d,u=Math.max(n,c),n=Math.min(n,c),o=Math.min(o,e.startDTS),l=Math.min(r,f),r=Math.max(r,f),a=Math.max(a,e.endDTS)}e.duration=r-n;var h=n-e.start;e.appendedPTS=r,e.start=e.startPTS=n,e.maxStartPTS=u,e.startDTS=o,e.endPTS=r,e.minEndPTS=l,e.endDTS=a;var p,v=e.sn;if(!t||v<t.startSN||v>t.endSN)return 0;var g=v-t.startSN,m=t.fragments;for(m[g]=e,p=g;p>0;p--)H(m[p],m[p-1]);for(p=g;p<m.length-1;p++)H(m[p],m[p+1]);return t.fragmentHint&&H(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,h}function K(t,e){for(var n=null,r=t.fragments,o=r.length-1;o>=0;o--){var a=r[o].initSegment;if(a){n=a;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;var u,l=0;if(function(t,e,n){for(var r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=i;l<=o;l++){var c=u[a+l],f=s[l];r&&!f&&l<r&&(f=e.fragments[l]=c),c&&f&&n(c,f)}}(t,e,(function(t,r){var o;t.relurl&&(l=t.cc-r.cc),Object(i.a)(t.startPTS)&&Object(i.a)(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.appendedPTS=t.appendedPTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(u=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,r.urlId=t.urlId,t.initSegment?(r.initSegment=t.initSegment,n=t.initSegment):r.initSegment&&r.initSegment.relurl!=(null===(o=n)||void 0===o?void 0:o.relurl)||(r.initSegment=n)})),e.skippedSegments&&(e.deltaUpdateFailed=e.fragments.some((function(t){return!t})),e.deltaUpdateFailed)){s.b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var c=e.skippedSegments;c--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}var f=e.fragments;if(l){s.b.warn("discontinuity sliding from playlist, take drift into account");for(var d=0;d<f.length;d++)f[d].cc+=l}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e)for(var r=0,i=0,o=t.length;i<=o;i++){var a=t[i],s=e[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}(t.partList,e.partList,(function(t,e){e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),u?G(e,u,u.startPTS,u.endPTS,u.startDTS,u.endDTS):W(t,e),f.length&&(e.totalduration=e.edge-f[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;var h=e.advancedDateTime;if(e.advanced&&h){var p=e.edge;e.driftStart||(e.driftStartTime=h,e.driftStart=p),e.driftEndTime=h,e.driftEnd=p}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function W(t,e){var n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||function(t,e){if(e){for(var n=t.fragments,r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}(e,r[n].start)}var $=function(){function t(t,e){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=s.b.log.bind(s.b,e+":"),this.warn=s.b.warn.bind(s.b,e+":"),this.hls=t}var e=t.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.onError=function(t,e){e.fatal&&e.type===a.b.NETWORK_ERROR&&this.clearTimer()},e.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},e.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,e){var n=null==e?void 0:e.renditionReports;if(n)for(var r=0;r<n.length;r++){var o=n[r],a=""+o.URI;if(a===t.substr(-a.length)){var s=parseInt(o["LAST-MSN"]),u=parseInt(o["LAST-PART"]);if(e&&this.hls.config.lowLatencyMode){var l=Math.min(e.age-e.partTarget,e.targetduration);void 0!==u&&l>e.partTarget&&(u+=1)}if(Object(i.a)(s))return new j(s,Object(i.a)(u)?u:void 0,F.No)}}},e.loadPlaylist=function(t){},e.shouldLoadTrack=function(t){return this.canLoad&&t&&!!t.url&&(!t.details||t.details.live)},e.playlistLoaded=function(t,e,n){var r=this,i=e.details,o=e.stats,a=o.loading.end?Math.max(0,self.performance.now()-o.loading.end):0;if(i.advancedDateTime=Date.now()-a,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+t+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&K(n,i),!this.canLoad||!i.live)return;var s,u=void 0,l=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var c=this.hls.config.lowLatencyMode,f=i.lastPartSn,d=i.endSN,h=i.lastPartIndex,p=f===d;-1!==h?(u=p?d+1:f,l=p?c?0:h:h+1):u=d+1;var v=i.age,g=v+i.ageHeader,m=Math.min(g-i.partTarget,1.5*i.targetduration);if(m>0){if(n&&m>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+m+" with playlist age: "+i.age),m=0;else{var y=Math.floor(m/i.targetduration);u+=y,void 0!==l&&(l+=Math.round(m%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+v.toFixed(2)+"s goal: "+m+" skip sn "+y+" to part "+l)}i.tuneInGoal=m}if(s=this.getDeliveryDirectives(i,e.deliveryDirectives,u,l),c||!p)return void this.loadPlaylist(s)}else s=this.getDeliveryDirectives(i,e.deliveryDirectives,u,l);var b=function(t,e){var n,r=1e3*t.levelTargetDuration,i=r/2,o=t.age,a=o>0&&o<3*r,s=e.loading.end-e.loading.start,u=t.availabilityDelay;if(!1===t.updated)if(a){var l=333*t.misses;n=Math.max(Math.min(i,2*s),l),t.availabilityDelay=(t.availabilityDelay||0)+n}else n=i;else a?(u=Math.min(u||r/2,o),t.availabilityDelay=u,n=u+r-o):n=r-s;return Math.round(n)}(i,o);void 0!==u&&i.canBlockReload&&(b-=i.partTarget||1),this.log("reload live playlist "+t+" in "+Math.round(b)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(s)}),b)}else this.clearTimer()},e.getDeliveryDirectives=function(t,e,n,r){var i=function(t,e){var n=t.canSkipUntil,r=t.canSkipDateRanges,i=t.endSN;return n&&(void 0!==e?e-i:0)<n?r?F.v2:F.Yes:F.No}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,i=F.No),new j(n,r,i)},e.retryLoadingOrFail=function(t){var e,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,t.details.indexOf("LoadTimeOut")>-1&&null!==(e=t.context)&&void 0!==e&&e.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+t.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+t.details+'"')}else this.warn('cannot recover from error "'+t.details+'"'),this.clearTimer(),t.fatal=!0;return i},t}();function q(){return(q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X,Q=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),J=function(t){var e,n;function r(e){var n;return(n=t.call(this,e,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Y(e,n);var i,s,u=r.prototype;return u._registerListeners=function(){var t=this.hls;t.on(o.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(o.a.FRAG_LOADED,this.onFragLoaded,this),t.on(o.a.ERROR,this.onError,this)},u._unregisterListeners=function(){var t=this.hls;t.off(o.a.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(o.a.FRAG_LOADED,this.onFragLoaded,this),t.off(o.a.ERROR,this.onError,this)},u.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,t.prototype.destroy.call(this)},u.startLoad=function(){this._levels.forEach((function(t){t.loadError=0})),t.prototype.startLoad.call(this)},u.onManifestLoaded=function(t,e){var n,r,i=[],s=[],u=[],l={},c=!1,f=!1,d=!1;if(e.levels.forEach((function(t){var e=t.attrs;c=c||!(!t.width||!t.height),f=f||!!t.videoCodec,d=d||!!t.audioCodec,Q&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0);var n=t.bitrate+"-"+t.attrs.RESOLUTION+"-"+t.attrs.CODECS;(r=l[n])?r.url.push(t.url):(r=new B(t),l[n]=r,i.push(r)),e&&(e.AUDIO&&U(r,"audio",e.AUDIO),e.SUBTITLES&&U(r,"text",e.SUBTITLES))})),(c||f)&&d&&(i=i.filter((function(t){var e=t.videoCodec,n=t.width,r=t.height;return!!e||!(!n||!r)}))),i=i.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||m(e,"audio"))&&(!n||m(n,"video"))})),e.audioTracks&&V(s=e.audioTracks.filter((function(t){return!t.audioCodec||m(t.audioCodec,"audio")}))),e.subtitles&&V(u=e.subtitles),i.length>0){n=i[0].bitrate,i.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=i;for(var h=0;h<i.length;h++)if(i[h].bitrate===n){this._firstLevel=h,this.log("manifest loaded, "+i.length+" level(s) found, first bitrate: "+n);break}var p=d&&!f,v={levels:i,audioTracks:s,subtitleTracks:u,firstLevel:this._firstLevel,stats:e.stats,audio:d,video:f,altAudio:!p&&s.some((function(t){return!!t.url}))};this.hls.trigger(o.a.MANIFEST_PARSED,v),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,reason:"no level with compatible codecs found in manifest"})},u.onError=function(e,n){if(t.prototype.onError.call(this,e,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===O.a.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===O.a.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var o,s=!1,u=!0;switch(n.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:if(n.frag){var l=this._levels[n.frag.level];l?(l.fragmentError++,l.fragmentError>this.hls.config.fragLoadingMaxRetry&&(o=n.frag.level)):o=n.frag.level}break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(u=!1),o=r.level),s=!0;break;case a.a.REMUX_ALLOC_ERROR:o=n.level,s=!0}void 0!==o&&this.recoverLevel(n,o,s,u)}}},u.recoverLevel=function(t,e,n,r){var i=t.details,o=this._levels[e];if(o.loadError++,n){if(!this.retryLoadingOrFail(t))return void(this.currentLevelIndex=-1);t.levelRetry=!0}if(r){var a=o.url.length;if(a>1&&o.loadError<a)t.levelRetry=!0,this.redundantFailover(e);else if(-1===this.manualLevelIndex){var s=0===e?this._levels.length-1:e-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),t.levelRetry=!0,this.hls.nextAutoLevel=s)}}},u.redundantFailover=function(t){var e=this._levels[t],n=e.url.length;if(n>1){var r=(e.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(t){t.urlId=r})),this.level=t}},u.onFragLoaded=function(t,e){var n=e.frag;if(void 0!==n&&n.type===O.b.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},u.onLevelLoaded=function(t,e){var n,r,i=e.level,o=e.details,a=this._levels[i];if(!a)return this.warn("Invalid level index "+i),void(null!==(r=e.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(i,e,a.details)):null!==(n=e.deliveryDirectives)&&void 0!==n&&n.skip&&(o.deltaUpdateFailed=!0)},u.onAudioTrackSwitched=function(t,e){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[e.id].groupId,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===i){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},u.loadPlaylist=function(t){var e=this.currentLevelIndex,n=this._levels[e];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,i=n.url[r];if(t)try{i=t.addDirectives(i)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}this.log("Attempt loading level index "+e+(t?" at sn "+t.msn+" part "+t.part:"")+" with URL-id "+r+" "+i),this.clearTimer(),this.hls.trigger(o.a.LEVEL_LOADING,{url:i,level:e,id:r,deliveryDirectives:t||null})}},u.removeLevel=function(t,e){var n=function(t,n){return n!==e},r=this._levels.filter((function(r,i){return i!==t||r.url.length>1&&void 0!==e&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(t,e){var n=t.details;return null!=n&&n.fragments&&n.fragments.forEach((function(t){t.level=e})),t}));this._levels=r,this.hls.trigger(o.a.LEVELS_UPDATED,{levels:r})},i=r,(s=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==t||null===(e=n[t])||void 0===e||!e.details)){if(t<0||t>=n.length){var r=t<0;if(this.hls.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:t,fatal:r,reason:"invalid level idx"}),r)return;t=Math.min(t,n.length-1)}this.clearTimer();var i=this.currentLevelIndex,s=n[i],u=n[t];this.log("switching to level "+t+" from "+i),this.currentLevelIndex=t;var l=q({},u,{level:t,maxBitrate:u.maxBitrate,uri:u.uri,urlId:u.urlId});delete l._urlId,this.hls.trigger(o.a.LEVEL_SWITCHING,l);var c=u.details;if(!c||c.live){var f=this.switchParams(u.uri,null==s?void 0:s.details);this.loadPlaylist(f)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&z(i.prototype,s),r}($);!function(t){t.NOT_LOADED="NOT_LOADED",t.BACKTRACKED="BACKTRACKED",t.APPENDING="APPENDING",t.PARTIAL="PARTIAL",t.OK="OK"}(X||(X={}));var Z=function(){function t(t){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=t,this._registerListeners()}var e=t.prototype;return e._registerListeners=function(){var t=this.hls;t.on(o.a.BUFFER_APPENDED,this.onBufferAppended,this),t.on(o.a.FRAG_BUFFERED,this.onFragBuffered,this),t.on(o.a.FRAG_LOADED,this.onFragLoaded,this)},e._unregisterListeners=function(){var t=this.hls;t.off(o.a.BUFFER_APPENDED,this.onBufferAppended,this),t.off(o.a.FRAG_BUFFERED,this.onFragBuffered,this),t.off(o.a.FRAG_LOADED,this.onFragLoaded,this)},e.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},e.getAppendedFrag=function(t,e){if(e===O.b.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var o=r[i],a=o?o.end:n.appendedPTS;if(o.start<=t&&void 0!==a&&t<=a)return i>9&&(this.activeParts=r.slice(i-9)),o}else if(n.start<=t&&void 0!==n.appendedPTS&&t<=n.appendedPTS)return n}return this.getBufferedFrag(t,e)},e.getBufferedFrag=function(t,e){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var o=n[r[i]];if((null==o?void 0:o.body.type)===e&&o.buffered){var a=o.body;if(a.start<=t&&t<=a.end)return a}}return null},e.detectEvictedFragments=function(t,e,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o)if(o.buffered){var a=o.range[t];a&&a.time.some((function(t){var n=!r.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&r.removeFragment(o.body),n}))}else o.body.type===n&&r.removeFragment(o.body)}))},e.detectPartialFragments=function(t){var e=this,n=this.timeRanges,r=t.frag,i=t.part;if(n&&"initSegment"!==r.sn){var o=et(r),a=this.fragments[o];a&&(Object.keys(n).forEach((function(t){var o=r.elementaryStreams[t];if(o){var s=n[t],u=null!==i||!0===o.partial;a.range[t]=e.getBufferedTimes(r,i,u,s)}})),a.backtrack=a.loaded=null,Object.keys(a.range).length?a.buffered=!0:this.removeFragment(a.body))}},e.fragBuffered=function(t){var e=et(t),n=this.fragments[e];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},e.getBufferedTimes=function(t,e,n,r){for(var i={time:[],partial:n},o=e?e.start:t.start,a=e?e.end:t.end,s=t.minEndPTS||a,u=t.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,f=r.end(l)+this.bufferPadding;if(u>=c&&s<=f){i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<f&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return i},e.getPartialFragment=function(t){var e,n,r,i=null,o=0,a=this.bufferPadding,s=this.fragments;return Object.keys(s).forEach((function(u){var l=s[u];l&&tt(l)&&(n=l.body.start-a,r=l.body.end+a,t>=n&&t<=r&&(e=Math.min(t-n,r-t),o<=e&&(i=l.body,o=e)))})),i},e.getState=function(t){var e=et(t),n=this.fragments[e];return n?n.buffered?tt(n)?X.PARTIAL:X.OK:n.backtrack?X.BACKTRACKED:X.APPENDING:X.NOT_LOADED},e.backtrack=function(t,e){var n=et(t),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=e||r.loaded;return r.loaded=null,i},e.getBacktrackData=function(t){var e=et(t),n=this.fragments[e];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(t)}return null},e.isTimeBuffered=function(t,e,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1},e.onFragLoaded=function(t,e){var n=e.frag,r=e.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=et(n);this.fragments[i]={body:n,loaded:e,backtrack:null,buffered:!1,range:Object.create(null)}}},e.onBufferAppended=function(t,e){var n=this,r=e.frag,i=e.part,o=e.timeRanges;if(r.type===O.b.MAIN)if(this.activeFragment=r,i){var a=this.activeParts;a||(this.activeParts=a=[]),a.push(i)}else this.activeParts=null;this.timeRanges=o,Object.keys(o).forEach((function(t){var e=o[t];if(n.detectEvictedFragments(t,e),!i)for(var a=0;a<e.length;a++)r.appendedPTS=Math.max(e.end(a),r.appendedPTS||0)}))},e.onFragBuffered=function(t,e){this.detectPartialFragments(e)},e.hasFragment=function(t){var e=et(t);return!!this.fragments[e]},e.removeFragmentsInRange=function(t,e,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o&&o.buffered){var a=o.body;a.type===n&&a.start<e&&a.end>t&&r.removeFragment(a)}}))},e.removeFragment=function(t){var e=et(t);t.stats.loaded=0,t.clearElementaryStreamInfo(),delete this.fragments[e]},e.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},t}();function tt(t){var e,n;return t.buffered&&((null===(e=t.range.video)||void 0===e?void 0:e.partial)||(null===(n=t.range.audio)||void 0===n?void 0:n.partial))}function et(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn}var nt=function(){function t(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this._tickInterval},e.hasNextTick=function(){return!!this._tickTimer},e.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},e.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},e.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},e.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},e.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},e.doTick=function(){},t}(),rt={length:0,start:function(){return 0},end:function(){return 0}},it=function(){function t(){}return t.isBuffered=function(e,n){try{if(e)for(var r=t.getBuffered(e),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(t){}return!1},t.bufferInfo=function(e,n,r){try{if(e){var i,o=t.getBuffered(e),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,n,r)}}catch(t){}return{len:0,start:n,end:n,nextStart:void 0}},t.bufferedInfo=function(t,e,n){e=Math.max(0,e),t.sort((function(t,e){return t.start-e.start||e.end-t.end}));var r=[];if(n)for(var i=0;i<t.length;i++){var o=r.length;if(o){var a=r[o-1].end;t[i].start-a<n?t[i].end>a&&(r[o-1].end=t[i].end):r.push(t[i])}else r.push(t[i])}else r=t;for(var s,u=0,l=e,c=e,f=0;f<r.length;f++){var d=r[f].start,h=r[f].end;if(e+n>=d&&e<h)l=d,u=(c=h)-e;else if(e+n<d){s=d;break}}return{len:u,start:l||0,end:c||0,nextStart:s}},t.getBuffered=function(t){try{return t.buffered}catch(t){return s.b.log("failed to get media.buffered",t),rt}},t}(),ot=function(t,e,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=r,this.part=i,this.partial=o};function at(t,e){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function st(t,e){for(var n=e.fragments,r=0,i=n.length;r<i;r++)at(n[r],t);e.fragmentHint&&at(e.fragmentHint,t),e.alignedSliding=!0}function ut(t,e,n){e&&(function(t,e,n){if(function(t,e,n){return!(!e.details||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){var r=function(t,e){var n=t.fragments,r=e.fragments;if(r.length&&n.length){var i=function(t,e){for(var n=null,r=0,i=t.length;r<i;r++){var o=t[r];if(o&&o.cc===e){n=o;break}}return n}(n,r[0].cc);if(i&&(!i||i.startPTS))return i;s.b.log("No frag in previous level to align on")}else s.b.log("No fragments to align")}(n.details,e);r&&Object(i.a)(r.start)&&(s.b.log("Adjusting PTS using last level due to CC increase within current level "+e.url),st(r.start,e))}}(t,n,e),!n.alignedSliding&&e.details&&function(t,e){if(e.fragments.length&&t.hasProgramDateTime&&e.hasProgramDateTime){var n=e.fragments[0].programDateTime,r=t.fragments[0].programDateTime,o=(r-n)/1e3+e.fragments[0].start;o&&Object(i.a)(o)&&(s.b.log("Adjusting PTS using programDateTime delta "+(r-n)+"ms, sliding:"+o.toFixed(3)+" "+t.url+" "),st(o,t))}}(n,e.details),n.alignedSliding||!e.details||n.skippedSegments||W(e.details,n))}var lt=function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null};function ct(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function ft(t,e,n){var r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}function dt(t){var e="function"==typeof Map?new Map:void 0;return(dt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return ht(t,arguments,gt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),vt(r,t)})(t)}function ht(t,e,n){return(ht=pt()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&vt(i,n.prototype),i}).apply(null,arguments)}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mt=Math.pow(2,17),yt=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var e=t.prototype;return e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.abort=function(){this.loader&&this.loader.abort()},e.load=function(t,e){var n=this,r=t.url;if(!r)return Promise.reject(new _t({type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var i=this.config,o=i.fLoader,s=i.loader;return new Promise((function(r,u){n.loader&&n.loader.destroy();var l=n.loader=t.loader=o?new o(i):new s(i),c=bt(t),f={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:mt};t.stats=l.stats,l.load(c,f,{onSuccess:function(e,i,o,a){n.resetLoader(t,l),r({frag:t,part:null,payload:e.data,networkDetails:a})},onError:function(e,r,i){n.resetLoader(t,l),u(new _t({type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:e,networkDetails:i}))},onAbort:function(e,r,i){n.resetLoader(t,l),u(new _t({type:a.b.NETWORK_ERROR,details:a.a.INTERNAL_ABORTED,fatal:!1,frag:t,networkDetails:i}))},onTimeout:function(e,r,i){n.resetLoader(t,l),u(new _t({type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,networkDetails:i}))},onProgress:function(n,r,i,o){e&&e({frag:t,part:null,payload:i,networkDetails:o})}})}))},e.loadPart=function(t,e,n){var r=this;this.abort();var i=this.config,o=i.fLoader,s=i.loader;return new Promise((function(u,l){r.loader&&r.loader.destroy();var c=r.loader=t.loader=o?new o(i):new s(i),f=bt(t,e),d={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:mt};e.stats=c.stats,c.load(f,d,{onSuccess:function(i,o,a,s){r.resetLoader(t,c),r.updateStatsFromPart(t,e);var l={frag:t,part:e,payload:i.data,networkDetails:s};n(l),u(l)},onError:function(n,i,o){r.resetLoader(t,c),l(new _t({type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:n,networkDetails:o}))},onAbort:function(n,i,o){t.stats.aborted=e.stats.aborted,r.resetLoader(t,c),l(new _t({type:a.b.NETWORK_ERROR,details:a.a.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,networkDetails:o}))},onTimeout:function(n,i,o){r.resetLoader(t,c),l(new _t({type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,networkDetails:o}))}})}))},e.updateStatsFromPart=function(t,e){var n=t.stats,r=e.stats,i=r.total;if(n.loaded+=r.loaded,i){var o=Math.round(t.duration/e.duration),a=Math.min(Math.round(n.loaded/i),o),s=(o-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var u=n.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end},e.resetLoader=function(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()},t}();function bt(t,e){void 0===e&&(e=null);var n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,a=n.byteRangeEndOffset;return Object(i.a)(o)&&Object(i.a)(a)&&(r.rangeStart=o,r.rangeEnd=a),r}var _t=function(t){var e,n;function r(e){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).data=void 0,n.data=e,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,vt(e,n),r}(dt(Error)),St=n(14),wt=function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e};function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var xt="STOPPED",At="IDLE",Ot="KEY_LOADING",Lt="FRAG_LOADING",kt="FRAG_LOADING_WAITING_RETRY",Ct="PARSING",Rt="PARSED",Pt="BACKTRACKING",Dt="ENDED",It="ERROR",Ft="WAITING_LEVEL",Mt=function(t){var e,n;function r(e,n,r){var i;return(i=t.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=xt,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.b.log.bind(s.b,r+":"),i.warn=s.b.warn.bind(s.b,r+":"),i.hls=e,i.fragmentLoader=new yt(e.config),i.fragmentTracker=n,i.config=e.config,i.decrypter=new St.a(e,e.config),e.on(o.a.KEY_LOADED,i.onKeyLoaded,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Tt(e,n);var l,c,f=r.prototype;return f.doTick=function(){this.onTickEnd()},f.onTickEnd=function(){},f.startLoad=function(t){},f.stopLoad=function(){this.fragmentLoader.abort();var t=this.fragCurrent;t&&this.fragmentTracker.removeFragment(t),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=xt},f._streamEnded=function(t,e){var n=this.fragCurrent,r=this.fragmentTracker;if(!e.live&&n&&n.sn===e.endSN&&!t.nextStart){var i=r.getState(n);return i===X.PARTIAL||i===X.OK}return!1},f.onMediaAttached=function(t,e){var n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===xt&&this.startLoad(r.startPosition)},f.onMediaDetaching=function(){var t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},f.onMediaSeeking=function(){var t=this.config,e=this.fragCurrent,n=this.media,r=this.mediaBuffer,o=this.state,a=n?n.currentTime:0,s=it.bufferInfo(r||n,a,t.maxBufferHole);if(this.log("media seeking to "+(Object(i.a)(a)?a.toFixed(3):a)+", state: "+o),o===Dt)this.resetLoadingState();else if(e&&!s.len){var u=t.maxFragLookUpTolerance,l=e.start-u,c=a>e.start+e.duration+u;(a<l||c)&&(c&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},f.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},f.onKeyLoaded=function(t,e){if(this.state===Ot&&e.frag===this.fragCurrent&&this.levels){this.state=At;var n=this.levels[e.frag.level].details;n&&this.loadFragment(e.frag,n,e.frag.start)}},f.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},f.onHandlerDestroyed=function(){this.state=xt,this.hls.off(o.a.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},f.loadKey=function(t,e){this.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level),this.state=Ot,this.fragCurrent=t,this.hls.trigger(o.a.KEY_LOADING,{frag:t})},f.loadFragment=function(t,e,n){this._loadFragForPlayback(t,e,n)},f._loadFragForPlayback=function(t,e,n){var r=this;this._doFragLoad(t,e,n,(function(e){if(r.fragContextChanged(t))return r.warn("Fragment "+t.sn+(e.part?" p: "+e.part.index:"")+" of level "+t.level+" was dropped during download."),void r.fragmentTracker.removeFragment(t);t.stats.chunkCount++,r._handleFragmentLoadProgress(e)})).then((function(e){if(e){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(t))return"payload"in e&&(r.log("Loaded fragment "+t.sn+" of level "+t.level),r.hls.trigger(o.a.FRAG_LOADED,e),r.state===Pt)?(r.fragmentTracker.backtrack(t,e),void r.resetFragmentLoading(t)):void r._handleFragmentLoadComplete(e);(n===Lt||n===Pt||!r.fragCurrent&&n===Ct)&&(r.fragmentTracker.removeFragment(t),r.state=At)}})).catch((function(e){r.warn(e),r.resetFragmentLoading(t)}))},f.flushMainBuffer=function(t,e,n){if(void 0===n&&(n=null),t-e){var r={startOffset:t,endOffset:e,type:n};this.fragLoadError=0,this.hls.trigger(o.a.BUFFER_FLUSHING,r)}},f._loadInitSegment=function(t){var e=this;this._doFragLoad(t).then((function(n){if(!n||e.fragContextChanged(t)||!e.levels)throw new Error("init load aborted");return n})).then((function(n){var r=e.hls,i=n.payload,a=t.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var s=self.performance.now();return e.decrypter.webCryptoDecrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).then((function(e){var i=self.performance.now();return r.trigger(o.a.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:s,tdecrypt:i}}),n.payload=e,n}))}return n})).then((function(n){var r=e.fragCurrent,i=e.hls,a=e.levels;if(!a)throw new Error("init load aborted, missing levels");a[t.level].details;var s=t.stats;e.state=At,e.fragLoadError=0,t.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(o.a.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:t.type}),e.tick()})).catch((function(n){e.warn(n),e.resetFragmentLoading(t)}))},f.fragContextChanged=function(t){var e=this.fragCurrent;return!t||!e||t.level!==e.level||t.sn!==e.sn||t.urlId!==e.urlId},f.fragBufferedComplete=function(t,e){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+t.type+" sn: "+t.sn+(e?" part: "+e.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+t.level+" "+wt(it.getBuffered(n))),this.state=At,this.tick()},f._handleFragmentLoadComplete=function(t){var e=this.transmuxer;if(e){var n=t.frag,r=t.part,i=t.partsLoaded,o=!i||0===i.length||i.some((function(t){return!t})),a=new ot(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);e.flush(a)}},f._handleFragmentLoadProgress=function(t){},f._doFragLoad=function(t,e,n,r){var a=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(t.start,n||0),this.config.lowLatencyMode&&e){var s=e.partList;if(s&&r){n>t.end&&e.fragmentHint&&(t=e.fragmentHint);var u=this.getNextPart(s,t,n);if(u>-1){var l=s[u];return this.log("Loading part sn: "+t.sn+" p: "+l.index+" cc: "+t.cc+" of playlist ["+e.startSN+"-"+e.endSN+"] parts [0-"+u+"-"+(s.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=l.start+l.duration,this.state=Lt,this.hls.trigger(o.a.FRAG_LOADING,{frag:t,part:s[u],targetBufferTime:n}),this.doFragPartsLoad(t,s,u,r).catch((function(t){return a.handleFragLoadError(t)}))}if(!t.url||this.loadedEndOfParts(s,n))return Promise.resolve(null)}}return this.log("Loading fragment "+t.sn+" cc: "+t.cc+" "+(e?"of ["+e.startSN+"-"+e.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+t.level+", target: "+parseFloat(n.toFixed(3))),Object(i.a)(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Lt,this.hls.trigger(o.a.FRAG_LOADING,{frag:t,targetBufferTime:n}),this.fragmentLoader.load(t,r).catch((function(t){return a.handleFragLoadError(t)}))},f.doFragPartsLoad=function(t,e,n,r){var i=this;return new Promise((function(a,s){var u=[];!function n(l){var c=e[l];i.fragmentLoader.loadPart(t,c,r).then((function(r){u[c.index]=r;var s=r.part;i.hls.trigger(o.a.FRAG_LOADED,r);var f=e[l+1];if(!f||f.fragment!==t)return a({frag:t,part:s,partsLoaded:u});n(l+1)})).catch(s)}(n)}))},f.handleFragLoadError=function(t){var e=t.data;return e&&e.details===a.a.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(o.a.ERROR,e),null},f._handleTransmuxerFlush=function(t){var e=this.getCurrentContext(t);if(e&&this.state===Ct){var n=e.frag,r=e.part,i=e.level,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,t.partial)}else this.fragCurrent||(this.state=At)},f.getCurrentContext=function(t){var e=this.levels,n=t.level,r=t.sn,i=t.part;if(!e||!e[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var o=e[n],a=i>-1?function(t,e,n){if(!t||!t.details)return null;var r=t.details.partList;if(r)for(var i=r.length;i--;){var o=r[i];if(o.index===n&&o.fragment.sn===e)return o}return null}(o,r,i):null,s=a?a.fragment:function(t,e,n){if(!t||!t.details)return null;var r=t.details,i=r.fragments[e-r.startSN];return i||((i=r.fragmentHint)&&i.sn===e?i:e<r.startSN&&n&&n.sn===e?n:null)}(o,r,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},f.bufferFragmentData=function(t,e,n,r){if(t&&this.state===Ct){var i=t.data1,a=t.data2,s=i;if(i&&a&&(s=Object(u.a)(i,a)),s&&s.length){var l={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:s};this.hls.trigger(o.a.BUFFER_APPENDING,l),t.dropped&&t.independent&&!n&&this.flushBufferGap(e)}}},f.flushBufferGap=function(t){var e=this.media;if(e)if(it.isBuffered(e,e.currentTime)){var n=e.currentTime,r=it.bufferInfo(e,n,0),i=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),a=Math.max(Math.min(t.start-o,r.end-o),n+o);t.start-a>o&&this.flushMainBuffer(a,t.start)}else this.flushMainBuffer(0,t.start)},f.getFwdBufferInfo=function(t,e){var n=this.config,r=this.getLoadPosition();if(!Object(i.a)(r))return null;var o=it.bufferInfo(t,r,n.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var a=this.fragmentTracker.getBufferedFrag(r,e);if(a&&o.nextStart<a.end)return it.bufferInfo(t,r,Math.max(o.nextStart,n.maxBufferHole))}return o},f.getMaxBufferLength=function(t){var e,n=this.config;return e=t?Math.max(8*n.maxBufferSize/t,n.maxBufferLength):n.maxBufferLength,Math.min(e,n.maxMaxBufferLength)},f.reduceMaxBufferLength=function(t){var e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},f.getNextFragment=function(t,e){var n,r,i=e.fragments,o=i.length;if(!o)return null;var a,s=this.config,u=i[0].start;if(e.live){var l=s.initialLiveManifestSize;if(o<l)return this.warn("Not enough fragments to start playback (have: "+o+", need: "+l+")"),null;e.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(e,i),this.startPosition=a?this.hls.liveSyncPosition||a.start:t)}else t<=u&&(a=i[0]);if(!a){var c=s.lowLatencyMode?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,c,e)}return null===(n=a)||void 0===n||!n.initSegment||null!==(r=a)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(a=a.initSegment),a},f.getNextPart=function(t,e,n){for(var r=-1,i=!1,o=!0,a=0,s=t.length;a<s;a++){var u=t[a];if(o=o&&!u.independent,r>-1&&n<u.start)break;var l=u.loaded;!l&&(i||u.independent||o)&&u.fragment===e&&(r=a),i=l}return r},f.loadedEndOfParts=function(t,e){var n=t[t.length-1];return n&&e>n.start&&n.loaded},f.getInitialLiveFragment=function(t,e){var n=this.fragPrevious,r=null;if(n){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(i.a)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<t.length;++r){var o=t[r];if(ft(e,n,o))return o}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var o=n.sn+1;if(o>=t.startSN&&o<=t.endSN){var a=e[o-t.startSN];n.cc===a.cc&&(r=a,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=function(t,e){return lt(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}(e,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var s=this.hls.liveSyncPosition;null!==s&&(r=this.getFragmentAtPosition(s,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r},f.getFragmentAtPosition=function(t,e,n){var r,i=this.config,o=this.fragPrevious,a=n.fragments,s=n.endSN,u=n.fragmentHint,l=i.maxFragLookUpTolerance,c=!!(i.lowLatencyMode&&n.partList&&u);if(c&&u&&!this.bitrateTest&&(a=a.concat(u),s=u.sn),r=t<e?function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=null;return t?i=e[t.sn-e[0].sn+1]||null:0===n&&0===e[0].start&&(i=e[0]),i&&0===ct(n,r,i)?i:lt(e,ct.bind(null,n,r))||i}(o,a,t,t>e-l?0:l):a[a.length-1]){var f=r.sn-n.startSN,d=o&&r.level===o.level,h=a[f+1];if(this.fragmentTracker.getState(r)===X.BACKTRACKED){r=null;for(var p=f;a[p]&&this.fragmentTracker.getState(a[p])===X.BACKTRACKED;)r=o?a[p--]:a[--p];r||(r=h)}else o&&r.sn===o.sn&&!c&&d&&(r.sn<s&&this.fragmentTracker.getState(h)!==X.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+h.sn),r=h):r=null)}return r},f.synchronizeToLiveEdge=function(t){var e=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,o=t.fragments[0].start,a=t.edge,s=i>=o-e.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){var u=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||i<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},f.alignPlaylists=function(t,e){var n=this.levels,r=this.levelLastLoaded,o=this.fragPrevious,a=null!==r?n[r]:null,s=t.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var u=t.fragments[0].start,l=!e,c=t.alignedSliding&&Object(i.a)(u);if(l||!c&&!u){ut(o,a,t);var f=t.fragments[0].start;return this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(e?e.startSN:"na")+"->"+t.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),f}return u},f.waitForCdnTuneIn=function(t){return t.live&&t.canBlockReload&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)},f.setStartPosition=function(t,e){var n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=t.startTimeOffset;Object(i.a)(r)?(n=e+r,r<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log("Start time offset "+r+" found in playlist, adjust startPosition to "+n),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},f.getLoadPosition=function(){var t=this.media,e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e},f.handleFragLoadAborted=function(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(e?" part"+e.index:"")+" of level "+t.level+" was aborted"),this.resetFragmentLoading(t))},f.resetFragmentLoading=function(t){this.fragCurrent&&this.fragContextChanged(t)||(this.state=At)},f.onFragmentOrKeyLoadError=function(t,e){if(!e.fatal){var n=e.frag;if(n&&n.type===t){this.fragCurrent;var r=this.config;if(this.fragLoadError+1<=r.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var i=Math.min(Math.pow(2,this.fragLoadError)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+t+" "+n.level+" failed to load, retrying in "+i+"ms"),this.retryDate=self.performance.now()+i,this.fragLoadError++,this.state=kt}else e.levelRetry?(t===O.b.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=At):(s.b.error(e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.stopLoad(),this.state=It)}}},f.afterBufferFlushed=function(t,e,n){if(t){var r=it.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===Dt&&this.resetLoadingState()}},f.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=At},f.resetLiveStartWhenNotLoaded=function(t){if(!this.loadedmetadata){this.startFragRequested=!1;var e=this.levels?this.levels[t].details:null;if(null!=e&&e.live)return this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},f.updateLevelTiming=function(t,e,n,r){var i=this,a=n.details;Object.keys(t.elementaryStreams).reduce((function(e,s){var u=t.elementaryStreams[s];if(u){var l=u.endPTS-u.startPTS;if(l<=0)return i.warn("Could not parse fragment "+t.sn+" "+s+" duration reliably ("+l+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),e||!1;var c=r?0:G(a,t,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return i.hls.trigger(o.a.LEVEL_PTS_UPDATED,{details:a,level:n,drift:c,type:s,frag:t,start:u.startPTS,end:u.endPTS}),!0}return e}),!1)?(this.state=Rt,this.hls.trigger(o.a.FRAG_PARSED,{frag:t,part:e})):this.resetLoadingState()},f.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},l=r,(c=[{key:"state",get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.log(e+"->"+t))}}])&&Et(l.prototype,c),r}(nt);function Nt(){return self.MediaSource||self.WebKitMediaSource}function jt(){return self.SourceBuffer||self.WebKitSourceBuffer}var Bt=n(17),Ut=n(9),Vt=n(13),Ht=Nt()||{isTypeSupported:function(){return!1}},Gt=function(){function t(t,e,n,r){var i=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=t,this.id=e,this.onTransmuxComplete=n,this.onFlush=r;var u=t.config,l=function(e,n){(n=n||{}).frag=i.frag,n.id=i.id,t.trigger(e,n)};this.observer=new Vt.EventEmitter,this.observer.on(o.a.FRAG_DECRYPTED,l),this.observer.on(o.a.ERROR,l);var c={mp4:Ht.isTypeSupported("video/mp4"),mpeg:Ht.isTypeSupported("audio/mpeg"),mp3:Ht.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){var d;s.b.log("demuxing in webworker");try{d=this.worker=Bt(18),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(e){t.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(e.message+"  ("+e.filename+":"+e.lineno+")")})},d.postMessage({cmd:"init",typeSupported:c,vendor:f,id:e,config:JSON.stringify(u)})}catch(t){s.b.warn("Error in worker:",t),s.b.error("Error while initializing DemuxerWorker, fallback to inline"),d&&self.URL.revokeObjectURL(d.objectURL),this.transmuxer=new Ut.c(this.observer,c,u,f,e),this.worker=null}}else this.transmuxer=new Ut.c(this.observer,c,u,f,e)}var e=t.prototype;return e.destroy=function(){var t=this.worker;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.worker=null;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},e.push=function(t,e,n,r,i,o,a,u,l,c){var f=this;l.transmuxing.start=self.performance.now();var d=this.transmuxer,h=this.worker,p=o?o.start:i.start,v=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),y=!(g&&l.level===g.level),b=g?l.sn-g.sn:-1,_=this.part?l.part-this.part.index:1,S=!y&&(1===b||0===b&&1===_),w=self.performance.now();(y||b||0===i.stats.parsing.start)&&(i.stats.parsing.start=w),!o||!_&&S||(o.stats.parsing.start=w);var E=new Ut.b(m,S,u,y,p);if(!S||m){s.b.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+m+"\n        trackSwitch: "+y+"\n        contiguous: "+S+"\n        accurateTimeOffset: "+u+"\n        timeOffset: "+p);var T=new Ut.a(n,r,e,a,c);this.configureTransmuxer(T)}if(this.frag=i,this.part=o,h)h.postMessage({cmd:"demux",data:t,decryptdata:v,chunkMeta:l,state:E},t instanceof ArrayBuffer?[t]:[]);else if(d){var x=d.push(t,v,l,E);Object(Ut.d)(x)?x.then((function(t){f.handleTransmuxComplete(t)})):this.handleTransmuxComplete(x)}},e.flush=function(t){var e=this;t.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:t});else if(n){var i=n.flush(t);Object(Ut.d)(i)?i.then((function(n){e.handleFlushResult(n,t)})):this.handleFlushResult(i,t)}},e.handleFlushResult=function(t,e){var n=this;t.forEach((function(t){n.handleTransmuxComplete(t)})),this.onFlush(e)},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},e.configureTransmuxer=function(t){var e=this.worker,n=this.transmuxer;e?e.postMessage({cmd:"configure",config:t}):n&&n.configure(t)},e.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},t}(),Kt=function(){function t(t,e,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r}var e=t.prototype;return e.destroy=function(){this.hls=this.fragmentTracker=this.media=null},e.poll=function(t){var e=this.config,n=this.media,r=this.stalled,i=n.currentTime,o=n.seeking,a=this.seeking&&!o,u=!this.seeking&&o;if(this.seeking=o,i===t){if((u||a)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&it.getBuffered(n).length){var l=it.bufferInfo(n,i,0),c=l.len>0,f=l.nextStart||0;if(c||f){if(o){var d=l.len>2,h=!f||f-i>2&&!this.fragmentTracker.getPartialFragment(i);if(d||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,v=Math.max(f,l.start||0)-i,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=(null==g||null===(p=g.details)||void 0===p?void 0:p.live)?2*g.details.targetduration:2;if(v>0&&v<=m)return void this._trySkipBufferHole(null)}var y=self.performance.now();if(null!==r){var b=y-r;!o&&b>=250&&this._reportStall(l.len);var _=it.bufferInfo(n,i,e.maxBufferHole);this._tryFixBufferStall(_,b)}else this.stalled=y}}}else if(this.moved=!0,null!==r){if(this.stallReported){var S=self.performance.now()-r;s.b.warn("playback not stuck anymore @"+i+", after "+Math.round(S)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,o=r.getPartialFragment(i);o&&this._trySkipBufferHole(o)||t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(s.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,s.b.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,r=this.media,i=r.currentTime,u=0,l=it.getBuffered(r),c=0;c<l.length;c++){var f=l.start(c);if(i+e.maxBufferHole>=u&&i<f){var d=Math.max(f+.05,r.currentTime+.1);return s.b.warn("skipping hole, adjusting currentTime from "+i+" to "+d),this.moved=!0,this.stalled=null,r.currentTime=d,t&&n.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+d,frag:t}),d}u=l.end(c)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,r=n.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<t.nudgeMaxRetry){var u=r+i*t.nudgeOffset;s.b.warn("Nudging 'currentTime' from "+r+" to "+u),n.currentTime=u,e.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else s.b.error("Playhead still not moving while enough data buffered @"+r+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!0})},t}();function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qt=function(t){var e,n;function r(e,n){var r;return(r=t.call(this,e,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,$t(e,n);var u,c,f=r.prototype;return f._registerListeners=function(){var t=this.hls;t.on(o.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.a.MANIFEST_LOADING,this.onManifestLoading,this),t.on(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(o.a.LEVEL_LOADING,this.onLevelLoading,this),t.on(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(o.a.ERROR,this.onError,this),t.on(o.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(o.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(o.a.BUFFER_CREATED,this.onBufferCreated,this),t.on(o.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(o.a.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(o.a.FRAG_BUFFERED,this.onFragBuffered,this)},f._unregisterListeners=function(){var t=this.hls;t.off(o.a.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.a.MANIFEST_LOADING,this.onManifestLoading,this),t.off(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(o.a.ERROR,this.onError,this),t.off(o.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(o.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(o.a.BUFFER_CREATED,this.onBufferCreated,this),t.off(o.a.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(o.a.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(o.a.FRAG_BUFFERED,this.onFragBuffered,this)},f.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},f.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=At,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=xt},f.stopLoad=function(){this._forceStartLoad=!1,t.prototype.stopLoad.call(this)},f.doTick=function(){switch(this.state){case At:this.doTickIdle();break;case Ft:var t,e=this.levels,n=this.level,r=null==e||null===(t=e[n])||void 0===t?void 0:t.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=At;break}break;case kt:var i,o=self.performance.now(),a=this.retryDate;(!a||o>=a||null!==(i=this.media)&&void 0!==i&&i.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=At)}this.onTickEnd()},f.onTickEnd=function(){t.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},f.doTickIdle=function(){var t,e,n=this.hls,r=this.levelLastLoaded,i=this.levels,a=this.media,s=n.config,u=n.nextLoadLevel;if(null!==r&&(a||!this.startFragRequested&&s.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&i&&i[u]){var c=i[u];this.level=n.nextLoadLevel=u;var f=c.details;if(!f||this.state===Ft||f.live&&this.levelLastLoaded!==u)this.state=Ft;else{var d=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:a,O.b.MAIN);if(null!==d&&!(d.len>=this.getMaxBufferLength(c.maxBitrate))){if(this._streamEnded(d,f)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(o.a.BUFFER_EOS,h),void(this.state=Dt)}var p=d.end,v=this.getNextFragment(p,f);if(this.couldBacktrack&&!this.fragPrevious&&v&&"initSegment"!==v.sn){var g=v.sn-f.startSN;g>1&&(v=f.fragments[g-1],this.fragmentTracker.removeFragment(v))}if(v&&this.fragmentTracker.getState(v)===X.OK&&this.nextLoadPosition>p){var m=this.audioOnly&&!this.altAudio?l.a.AUDIO:l.a.VIDEO;this.afterBufferFlushed(a,m,O.b.MAIN),v=this.getNextFragment(this.nextLoadPosition,f)}v&&(!v.initSegment||v.initSegment.data||this.bitrateTest||(v=v.initSegment),"identity"!==(null===(t=v.decryptdata)||void 0===t?void 0:t.keyFormat)||null!==(e=v.decryptdata)&&void 0!==e&&e.key?this.loadFragment(v,f,p):this.loadKey(v,f))}}}},f.loadFragment=function(e,n,r){var i,o=this.fragmentTracker.getState(e);if(this.fragCurrent=e,o===X.BACKTRACKED){var a=this.fragmentTracker.getBacktrackData(e);if(a)return this._handleFragmentLoadProgress(a),void this._handleFragmentLoadComplete(a);o=X.NOT_LOADED}o===X.NOT_LOADED||o===X.PARTIAL?"initSegment"===e.sn?this._loadInitSegment(e):this.bitrateTest?(e.bitrateTest=!0,this.log("Fragment "+e.sn+" of level "+e.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(e)):(this.startFragRequested=!0,t.prototype.loadFragment.call(this,e,n,r)):o===X.APPENDING?this.reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},f.getAppendedFrag=function(t){var e=this.fragmentTracker.getAppendedFrag(t,O.b.MAIN);return e&&"fragment"in e?e.fragment:e},f.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,O.b.MAIN)},f.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},f.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},f.nextLevelSwitch=function(){var t=this.levels,e=this.media;if(null!=e&&e.readyState){var n,r=this.getAppendedFrag(e.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!e.paused&&t){var i=t[this.hls.nextLoadLevel],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*o)+1:0}else n=0;var a=this.getBufferedFrag(e.currentTime+n);if(a){var s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();var u=s.maxStartPTS?s.maxStartPTS:s.start,l=s.duration,c=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,.5*l),.75*l));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},f.abortCurrentFrag=function(){var t=this.fragCurrent;this.fragCurrent=null,null!=t&&t.loader&&t.loader.abort(),this.state===Ot&&(this.state=At),this.nextLoadPosition=this.getLoadPosition()},f.flushMainBuffer=function(e,n){t.prototype.flushMainBuffer.call(this,e,n,this.altAudio?"video":null)},f.onMediaAttached=function(e,n){t.prototype.onMediaAttached.call(this,e,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Kt(this.config,r,this.fragmentTracker,this.hls)},f.onMediaDetaching=function(){var e=this.media;e&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),t.prototype.onMediaDetaching.call(this)},f.onMediaPlaying=function(){this.tick()},f.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:null;Object(i.a)(e)&&this.log("Media seeked to "+e.toFixed(3)),this.tick()},f.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(o.a.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},f.onManifestParsed=function(t,e){var n,r,i,o=!1,a=!1;e.levels.forEach((function(t){(n=t.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(o=!0),-1!==n.indexOf("mp4a.40.5")&&(a=!0))})),this.audioCodecSwitch=o&&a&&!("function"==typeof(null==(i=jt())||null===(r=i.prototype)||void 0===r?void 0:r.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1},f.onLevelLoading=function(t,e){var n=this.levels;if(n&&this.state===At){var r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==e.level||this.waitForCdnTuneIn(r.details))&&(this.state=Ft)}},f.onLevelLoaded=function(t,e){var n,r=this.levels,i=e.level,a=e.details,s=a.totalduration;if(r){this.log("Level "+i+" loaded ["+a.startSN+","+a.endSN+"], cc ["+a.startCC+", "+a.endCC+"] duration:"+s);var u=this.fragCurrent;!u||this.state!==Lt&&this.state!==kt||u.level!==e.level&&u.loader&&(this.state=At,u.loader.abort());var l=r[i],c=0;if(a.live||null!==(n=l.details)&&void 0!==n&&n.live){if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed)return;c=this.alignPlaylists(a,l.details)}if(l.details=a,this.levelLastLoaded=i,this.hls.trigger(o.a.LEVEL_UPDATED,{details:a,level:i}),this.state===Ft){if(this.waitForCdnTuneIn(a))return;this.state=At}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,c),this.tick()}else this.warn("Levels were reset while loading level "+i)},f._handleFragmentLoadProgress=function(t){var e,n=t.frag,r=t.part,i=t.payload,o=this.levels;if(o){var a=o[n.level],s=a.details;if(s){var u=a.videoCodec,l=s.PTSKnown||!s.live,c=null===(e=n.initSegment)||void 0===e?void 0:e.data,f=this._getAudioCodec(a),d=this.transmuxer=this.transmuxer||new Gt(this.hls,O.b.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=r?r.index:-1,p=-1!==h,v=new ot(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,p),g=this.initPTS[n.cc];d.push(i,c,f,u,n,r,s.totalduration,l,v,g)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},f.onAudioTrackSwitching=function(t,e){var n=this.altAudio,r=!!e.url,i=e.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;null!=a&&a.loader&&(this.log("Switching to main audio track, cancel main fragment load"),a.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(o.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(o.a.AUDIO_TRACK_SWITCHED,{id:i})}},f.onAudioTrackSwitched=function(t,e){var n=e.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},f.onBufferCreated=function(t,e){var n,r,i=e.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(r=a,n=s,"video"===a){var u=i[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},f.onFragBuffered=function(t,e){var n=e.frag,r=e.part;if(!n||n.type===O.b.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Rt&&(this.state=At));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},f.onError=function(t,e){switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(O.b.MAIN,e);break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:this.state!==It&&(e.fatal?(this.warn(""+e.details),this.state=It):e.levelRetry||this.state!==Ft||(this.state=At));break;case a.a.BUFFER_FULL_ERROR:if("main"===e.parent&&(this.state===Ct||this.state===Rt)){var n=!0,r=this.getFwdBufferInfo(this.media,O.b.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},f.checkBuffer=function(){var t=this.media,e=this.gapController;if(t&&e&&t.readyState){var n=it.getBuffered(t);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):e.poll(this.lastCurrentTime),this.lastCurrentTime=t.currentTime}},f.onFragLoadEmergencyAborted=function(){this.state=At,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},f.onBufferFlushed=function(t,e){var n=e.type;if(n!==l.a.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===l.a.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,O.b.MAIN)}},f.onLevelsUpdated=function(t,e){this.levels=e.levels},f.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},f.seekToStartPos=function(){var t=this.media,e=t.currentTime,n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void s.b.log("could not seek to "+n+", already seeking at "+e);var r=it.getBuffered(t),i=(r.length?r.start(0):0)-n;i>0&&i<this.config.maxBufferHole&&(s.b.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+e),t.currentTime=n}},f._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e},f._loadBitrateTestFrag=function(t){var e=this;this._doFragLoad(t).then((function(n){var r=e.hls;if(n&&!r.nextLoadLevel&&!e.fragContextChanged(t)){e.fragLoadError=0,e.state=At,e.startFragRequested=!1,e.bitrateTest=!1;var i=t.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(o.a.FRAG_LOADED,n)}}))},f._handleTransmuxComplete=function(t){var e,n="main",r=this.hls,a=t.remuxResult,s=t.chunkMeta,u=this.getCurrentContext(s);if(!u)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var c=u.frag,f=u.part,d=u.level,h=a.video,p=a.text,v=a.id3,g=a.initSegment,m=this.altAudio?void 0:a.audio;if(!this.fragContextChanged(c)){if(this.state=Ct,g){g.tracks&&(this._bufferInitSegment(d,g.tracks,c,s),r.trigger(o.a.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:g.tracks}));var y=g.initPTS,b=g.timescale;Object(i.a)(y)&&(this.initPTS[c.cc]=y,r.trigger(o.a.INIT_PTS_FOUND,{frag:c,id:n,initPTS:y,timescale:b}))}if(h&&!1!==a.independent){if(d.details){var _=h.startPTS,S=h.endPTS,w=h.startDTS,E=h.endDTS;if(f)f.elementaryStreams[h.type]={startPTS:_,endPTS:S,startDTS:w,endDTS:E};else if(h.firstKeyFrame&&h.independent&&(this.couldBacktrack=!0),h.dropped&&h.independent){if(this.getLoadPosition()+this.config.maxBufferHole<_)return void this.backtrack(c);c.setElementaryStreamInfo(h.type,c.start,S,c.start,E,!0)}c.setElementaryStreamInfo(h.type,_,S,w,E),this.bufferFragmentData(h,c,f,s)}}else if(!1===a.independent)return void this.backtrack(c);if(m){var T=m.startPTS,x=m.endPTS,A=m.startDTS,O=m.endDTS;f&&(f.elementaryStreams[l.a.AUDIO]={startPTS:T,endPTS:x,startDTS:A,endDTS:O}),c.setElementaryStreamInfo(l.a.AUDIO,T,x,A,O),this.bufferFragmentData(m,c,f,s)}if(null!=v&&null!==(e=v.samples)&&void 0!==e&&e.length){var L={frag:c,id:n,samples:v.samples};r.trigger(o.a.FRAG_PARSING_METADATA,L)}if(p){var k={frag:c,id:n,samples:p.samples};r.trigger(o.a.FRAG_PARSING_USERDATA,k)}}},f._bufferInitSegment=function(t,e,n,r){var i=this;if(this.state===Ct){this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;var a=e.audio,s=e.video,u=e.audiovideo;if(a){var l=t.audioCodec,c=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===c.indexOf("firefox")&&(l="mp4a.40.5")),-1!==c.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to "+l)),t.audioCodec&&t.audioCodec!==l&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+l+'"'),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:"+a.container+", codecs[selected/level/parsed]=["+(l||"")+"/"+(t.audioCodec||"")+"/"+a.codec+"]")}s&&(s.levelCodec=t.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+s.codec+"]")),u&&this.log("Init audiovideo buffer, container:"+u.container+", codecs[level/parsed]=["+(t.attrs.CODECS||"")+"/"+u.codec+"]"),this.hls.trigger(o.a.BUFFER_CODECS,e),Object.keys(e).forEach((function(t){var a=e[t].initSegment;null!=a&&a.byteLength&&i.hls.trigger(o.a.BUFFER_APPENDING,{type:t,data:a,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},f.backtrack=function(t){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(t);var e=this.fragmentTracker.backtrack(t);this.fragPrevious=null,this.nextLoadPosition=t.start,e?this.resetFragmentLoading(t):this.state=Pt},f.checkFragmentChanged=function(){var t=this.media,e=null;if(t&&t.readyState>1&&!1===t.seeking){var n=t.currentTime;if(it.isBuffered(t,n)?e=this.getAppendedFrag(n):it.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){var r=this.fragPlaying,i=e.level;r&&e.sn===r.sn&&r.level===i&&e.urlId===r.urlId||(this.hls.trigger(o.a.FRAG_CHANGED,{frag:e}),r&&r.level===i||this.hls.trigger(o.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=e)}}},u=r,(c=[{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getAppendedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;if(t){var e=this.getAppendedFrag(t.currentTime);return this.followingBufferedFrag(e)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&Wt(u.prototype,c),r}(Mt),zt=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}(),Yt=function(){function t(t,e,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new zt(t),this.fast_=new zt(e)}var e=t.prototype;return e.update=function(t,e){var n=this.slow_,r=this.fast_;this.slow_.halfLife!==t&&(this.slow_=new zt(t,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==e&&(this.fast_=new zt(e,r.getEstimate(),r.getTotalWeight()))},e.sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}();function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qt=function(){function t(t){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=t;var e=t.config;this.bwEstimator=new Yt(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate),this.registerListeners()}var e,n,r=t.prototype;return r.registerListeners=function(){var t=this.hls;t.on(o.a.FRAG_LOADING,this.onFragLoading,this),t.on(o.a.FRAG_LOADED,this.onFragLoaded,this),t.on(o.a.FRAG_BUFFERED,this.onFragBuffered,this),t.on(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.on(o.a.ERROR,this.onError,this)},r.unregisterListeners=function(){var t=this.hls;t.off(o.a.FRAG_LOADING,this.onFragLoading,this),t.off(o.a.FRAG_LOADED,this.onFragLoaded,this),t.off(o.a.FRAG_BUFFERED,this.onFragBuffered,this),t.off(o.a.LEVEL_LOADED,this.onLevelLoaded,this),t.off(o.a.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},r.onFragLoading=function(t,e){var n,r=e.frag;r.type===O.b.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=e.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},r.onLevelLoaded=function(t,e){var n=this.hls.config;e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},r._abandonRulesCheck=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,r=n.autoLevelEnabled,a=n.config,u=n.media;if(t&&u){var l=e?e.stats:t.stats,c=e?e.duration:t.duration;if(l.aborted)return s.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!u.paused&&u.playbackRate&&u.readyState){var f=performance.now()-l.loading.start,d=Math.abs(u.playbackRate);if(!(f<=500*c/d)){var h=n.levels,p=n.minAutoLevel,v=h[t.level],g=l.total||Math.max(l.loaded,Math.round(c*v.maxBitrate/8)),m=Math.max(1,l.bwEstimate?l.bwEstimate/8:1e3*l.loaded/f),y=(g-l.loaded)/m,b=u.currentTime,_=(it.bufferInfo(u,b,a.maxBufferHole).end-b)/d;if(!(_>=2*c/d||y<=_)){var S,w=Number.POSITIVE_INFINITY;for(S=t.level-1;S>p&&!((w=c*h[S].maxBitrate/(6.4*m))<_);S--);if(!(w>=y)){var E=this.bwEstimator.getEstimate();s.b.warn("Fragment "+t.sn+(e?" part "+e.index:"")+" of level "+t.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+S+"\n      Current BW estimate: "+(Object(i.a)(E)?(E/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+y.toFixed(3)+" s\n      Estimated load time for the next fragment: "+w.toFixed(3)+" s\n      Time to underbuffer: "+_.toFixed(3)+" s"),n.nextLoadLevel=S,this.bwEstimator.sample(f,l.loaded),this.clearTimer(),t.loader&&(this.fragCurrent=this.partCurrent=null,t.loader.abort()),n.trigger(o.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:l})}}}}}},r.onFragLoaded=function(t,e){var n=e.frag,r=e.part;if(n.type===O.b.MAIN&&Object(i.a)(n.sn)){var a=r?r.stats:n.stats,s=r?r.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var u=this.hls.levels[n.level],l=(u.loaded?u.loaded.bytes:0)+a.loaded,c=(u.loaded?u.loaded.duration:0)+s;u.loaded={bytes:l,duration:c},u.realBitrate=Math.round(8*l/c)}if(n.bitrateTest){var f={stats:a,frag:n,part:r,id:n.type};this.onFragBuffered(o.a.FRAG_BUFFERED,f),n.bitrateTest=!1}}},r.onFragBuffered=function(t,e){var n=e.frag,r=e.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===O.b.MAIN&&"initSegment"!==n.sn){var o=i.parsing.end-i.loading.start;this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},r.onError=function(t,e){switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},r.getNextABRAutoLevel=function(){var t=this.fragCurrent,e=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,a=n.media,u=e?e.duration:t?t.duration:0,l=a?a.currentTime:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=(it.bufferInfo(a,l,i.maxBufferHole).end-l)/c,h=this.findBestLevel(f,o,r,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;s.b.trace((d?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!d){var m=this.bitrateTestDelay;m&&(p=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-m,s.b.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=g=1)}return h=this.findBestLevel(f,o,r,d+p,v,g),Math.max(h,0)},r.findBestLevel=function(t,e,n,r,i,o){for(var a,u=this.fragCurrent,l=this.partCurrent,c=this.lastLoadedFragLevel,f=this.hls.levels,d=f[c],h=!(null==d||null===(a=d.details)||void 0===a||!a.live),p=null==d?void 0:d.codecSet,v=l?l.duration:u?u.duration:0,g=n;g>=e;g--){var m=f[g];if(m&&(!p||m.codecSet===p)){var y,b=m.details,_=(l?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||v;y=g<=c?i*t:o*t;var S=f[g].maxBitrate,w=S*_/y;if(s.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(y)+"/"+S+"/"+_+"/"+r+"/"+w),y>S&&(!w||h&&!this.bitrateTestDelay||w<r))return g}}return-1},e=t,(n=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this.getNextABRAutoLevel();return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}}])&&Xt(e.prototype,n),t}(),Jt=n(11),Zt=n.n(Jt),te=function(){function t(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}var e=t.prototype;return e.append=function(t,e){var n=this.queues[e];n.push(t),1===n.length&&this.buffers[e]&&this.executeNext(e)},e.insertAbort=function(t,e){this.queues[e].unshift(t),this.executeNext(e)},e.appendBlocker=function(t){var e,n=new Promise((function(t){e=t})),r={execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,t),n},e.executeNext=function(t){var e=this.buffers,n=this.queues,r=e[t],i=n[t];if(i.length){var o=i[0];try{o.execute()}catch(e){s.b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),o.onError(e),r&&r.updating||(i.shift(),this.executeNext(t))}}},e.shiftAndExecuteNext=function(t){this.queues[t].shift(),this.executeNext(t)},e.current=function(t){return this.queues[t][0]},t}(),ee=Nt(),ne=/([ha]vc.)(?:\.[^.,]+)+/,re=function(){function t(t){var e=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var t=e.hls,n=e.media,r=e.mediaSource;s.b.log("[buffer-controller]: Media source opened"),n&&(e.updateMediaElementDuration(),t.trigger(o.a.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",e._onMediaSourceOpen),e.checkPendingTracks()},this._onMediaSourceClose=function(){s.b.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){s.b.log("[buffer-controller]: Media source ended")},this.hls=t,this._initSourceBuffer(),this.registerListeners()}var e=t.prototype;return e.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null},e.registerListeners=function(){var t=this.hls;t.on(o.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(o.a.BUFFER_RESET,this.onBufferReset,this),t.on(o.a.BUFFER_APPENDING,this.onBufferAppending,this),t.on(o.a.BUFFER_CODECS,this.onBufferCodecs,this),t.on(o.a.BUFFER_EOS,this.onBufferEos,this),t.on(o.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(o.a.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(o.a.FRAG_PARSED,this.onFragParsed,this),t.on(o.a.FRAG_CHANGED,this.onFragChanged,this)},e.unregisterListeners=function(){var t=this.hls;t.off(o.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(o.a.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(o.a.BUFFER_RESET,this.onBufferReset,this),t.off(o.a.BUFFER_APPENDING,this.onBufferAppending,this),t.off(o.a.BUFFER_CODECS,this.onBufferCodecs,this),t.off(o.a.BUFFER_EOS,this.onBufferEos,this),t.off(o.a.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(o.a.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(o.a.FRAG_PARSED,this.onFragParsed,this),t.off(o.a.FRAG_CHANGED,this.onFragChanged,this)},e._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new te(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},e.onManifestParsed=function(t,e){var n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,s.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},e.onMediaAttaching=function(t,e){var n=this.media=e.media;if(n&&ee){var r=this.mediaSource=new ee;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},e.onMediaDetaching=function(){var t=this.media,e=this.mediaSource,n=this._objectUrl;if(e){if(s.b.log("[buffer-controller]: media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(t){s.b.warn("[buffer-controller]: onMediaDetaching: "+t.message+" while calling endOfStream")}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),t&&(n&&self.URL.revokeObjectURL(n),t.src===n?(t.removeAttribute("src"),t.load()):s.b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(o.a.MEDIA_DETACHED,void 0)},e.onBufferReset=function(){var t=this;this.getSourceBufferTypes().forEach((function(e){var n=t.sourceBuffer[e];try{n&&(t.removeBufferListeners(e),t.mediaSource&&t.mediaSource.removeSourceBuffer(n),t.sourceBuffer[e]=void 0)}catch(t){s.b.warn("[buffer-controller]: Failed to reset the "+e+" buffer",t)}})),this._initSourceBuffer()},e.onBufferCodecs=function(t,e){var n=this,r=this.getSourceBufferTypes().length;Object.keys(e).forEach((function(t){if(r){var i=n.tracks[t];if(i&&"function"==typeof i.buffer.changeType){var o=e[t],a=o.codec,s=o.levelCodec,u=o.container;if((i.levelCodec||i.codec).replace(ne,"$1")!==(s||a).replace(ne,"$1")){var l=u+";codecs="+(s||a);n.appendChangeType(t,l)}}}else n.pendingTracks[t]=e[t]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},e.appendChangeType=function(t,e){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[t];i&&(s.b.log("[buffer-controller]: changing "+t+" sourceBuffer type to "+e),i.changeType(e)),r.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(e){s.b.warn("[buffer-controller]: Failed to change "+t+" SourceBuffer type",e)}};r.append(i,t)},e.onBufferAppending=function(t,e){var n=this,r=this.hls,i=this.operationQueue,u=this.tracks,l=e.data,c=e.type,f=e.frag,d=e.part,h=e.chunkMeta,p=h.buffering[c],v=self.performance.now();p.start=v;var g=f.stats.buffering,m=d?d.stats.buffering:null;0===g.start&&(g.start=v),m&&0===m.start&&(m.start=v);var y=u.audio,b="audio"===c&&1===h.id&&"audio/mpeg"===(null==y?void 0:y.container),_={execute:function(){if(p.executeStart=self.performance.now(),b){var t=n.sourceBuffer[c];if(t){var e=f.start-t.timestampOffset;Math.abs(e)>=.1&&(s.b.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+f.start+" (delta: "+e+") sn: "+f.sn+")"),t.timestampOffset=f.start)}}n.appendExecutor(l,c)},onStart:function(){},onComplete:function(){var t=self.performance.now();p.executeEnd=p.end=t,0===g.first&&(g.first=t),m&&0===m.first&&(m.first=t);var e=n.sourceBuffer,r={};for(var i in e)r[i]=it.getBuffered(e[i]);n.appendError=0,n.hls.trigger(o.a.BUFFER_APPENDED,{type:c,frag:f,part:d,chunkMeta:h,parent:f.type,timeRanges:r})},onError:function(t){s.b.error("[buffer-controller]: Error encountered while trying to append to the "+c+" SourceBuffer",t);var e={type:a.b.MEDIA_ERROR,parent:f.type,details:a.a.BUFFER_APPEND_ERROR,err:t,fatal:!1};t.code===DOMException.QUOTA_EXCEEDED_ERR?e.details=a.a.BUFFER_FULL_ERROR:(n.appendError++,e.details=a.a.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(s.b.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),e.fatal=!0)),r.trigger(o.a.ERROR,e)}};i.append(_,c)},e.onBufferFlushing=function(t,e){var n=this,r=this.operationQueue,i=function(t){return{execute:n.removeExecutor.bind(n,t,e.startOffset,e.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(o.a.BUFFER_FLUSHED,{type:t})},onError:function(e){s.b.warn("[buffer-controller]: Failed to remove from "+t+" SourceBuffer",e)}}};e.type?r.append(i(e.type),e.type):this.getSourceBufferTypes().forEach((function(t){r.append(i(t),t)}))},e.onFragParsed=function(t,e){var n=this,r=e.frag,i=e.part,a=[],u=i?i.elementaryStreams:r.elementaryStreams;u[l.a.AUDIOVIDEO]?a.push("audiovideo"):(u[l.a.AUDIO]&&a.push("audio"),u[l.a.VIDEO]&&a.push("video")),0===a.length&&s.b.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var t=self.performance.now();r.stats.buffering.end=t,i&&(i.stats.buffering.end=t);var e=i?i.stats:r.stats;n.hls.trigger(o.a.FRAG_BUFFERED,{frag:r,part:i,stats:e,id:r.type})}),a)},e.onFragChanged=function(t,e){this.flushBackBuffer()},e.onBufferEos=function(t,e){var n=this;this.getSourceBufferTypes().reduce((function(t,r){var i=n.sourceBuffer[r];return e.type&&e.type!==r||i&&!i.ended&&(i.ended=!0,s.b.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),t&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var t=n.mediaSource;t&&"open"===t.readyState&&t.endOfStream()}))},e.onLevelUpdated=function(t,e){var n=e.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},e.flushBackBuffer=function(){var t=this.hls,e=this.details,n=this.media,r=this.sourceBuffer;if(n&&null!==e){var a=this.getSourceBufferTypes();if(a.length){var s=e.live&&null!==t.config.liveBackBufferLength?t.config.liveBackBufferLength:t.config.backBufferLength;if(Object(i.a)(s)&&!(s<0)){var u=n.currentTime,l=e.levelTargetDuration,c=Math.max(s,l),f=Math.floor(u/l)*l-c;a.forEach((function(n){var i=r[n];if(i){var a=it.getBuffered(i);a.length>0&&f>a.start(0)&&(t.trigger(o.a.BACK_BUFFER_REACHED,{bufferEnd:f}),e.live&&t.trigger(o.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f}),t.trigger(o.a.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:n}))}}))}}}},e.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var t=this.details,e=this.hls,n=this.media,r=this.mediaSource,o=t.fragments[0].start+t.totalduration,a=n.duration,u=Object(i.a)(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(s.b.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(t)):(o>u&&o>a||!Object(i.a)(a))&&(s.b.log("[buffer-controller]: Updating Media Source duration to "+o.toFixed(3)),r.duration=o)}},e.updateSeekableRange=function(t){var e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+t.totalduration);e.setLiveSeekableRange(r,i)}},e.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!t||2===r){this.createSourceBuffers(n),this.pendingTracks={};var i=this.getSourceBufferTypes();if(0===i.length)return void this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});i.forEach((function(t){e.executeNext(t)}))}},e.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var i in t)if(!e[i]){var u=t[i];if(!u)throw Error("source buffer exists for track "+i+", however track does not");var l=u.levelCodec||u.codec,c=u.container+";codecs="+l;s.b.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var f=e[i]=n.addSourceBuffer(c),d=i;this.addBufferListener(d,"updatestart",this._onSBUpdateStart),this.addBufferListener(d,"updateend",this._onSBUpdateEnd),this.addBufferListener(d,"error",this._onSBUpdateError),this.tracks[i]={buffer:f,codec:l,container:u.container,levelCodec:u.levelCodec,id:u.id},r++}catch(t){s.b.error("[buffer-controller]: error while trying to add sourceBuffer: "+t.message),this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,mimeType:c})}}r&&this.hls.trigger(o.a.BUFFER_CREATED,{tracks:this.tracks})},e._onSBUpdateStart=function(t){this.operationQueue.current(t).onStart()},e._onSBUpdateEnd=function(t){var e=this.operationQueue;e.current(t).onComplete(),e.shiftAndExecuteNext(t)},e._onSBUpdateError=function(t,e){s.b.error("[buffer-controller]: "+t+" SourceBuffer error",e),this.hls.trigger(o.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(t);n&&n.onError(e)},e.removeExecutor=function(t,e,n){var r=this.media,o=this.mediaSource,a=this.operationQueue,u=this.sourceBuffer[t];if(!r||!o||!u)return s.b.warn("[buffer-controller]: Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(t);var l=Object(i.a)(r.duration)?r.duration:1/0,c=Object(i.a)(o.duration)?o.duration:1/0,f=Math.max(0,e),d=Math.min(n,l,c);d>f?(s.b.log("[buffer-controller]: Removing ["+f+","+d+"] from the "+t+" SourceBuffer"),u.remove(f,d)):a.shiftAndExecuteNext(t)},e.appendExecutor=function(t,e){var n=this.operationQueue,r=this.sourceBuffer[e];if(!r)return s.b.warn("[buffer-controller]: Attempting to append to the "+e+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(e);r.ended=!1,r.appendBuffer(t)},e.blockBuffers=function(t,e){var n=this;if(void 0===e&&(e=this.getSourceBufferTypes()),!e.length)return s.b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(t);var r=this.operationQueue,i=e.map((function(t){return r.appendBlocker(t)}));Promise.all(i).then((function(){t(),e.forEach((function(t){var e=n.sourceBuffer[t];e&&e.updating||r.shiftAndExecuteNext(t)}))}))},e.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},e.addBufferListener=function(t,e,n){var r=this.sourceBuffer[t];if(r){var i=n.bind(this,t);this.listeners[t].push({event:e,listener:i}),r.addEventListener(e,i)}},e.removeBufferListeners=function(t){var e=this.sourceBuffer[t];e&&this.listeners[t].forEach((function(t){e.removeEventListener(t.event,t.listener)}))},t}();function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var oe=function(){function t(t){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var e,n,r,i=t.prototype;return i.setStreamController=function(t){this.streamController=t},i.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},i.registerListeners=function(){var t=this.hls;t.on(o.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(o.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.on(o.a.BUFFER_CODECS,this.onBufferCodecs,this),t.on(o.a.MEDIA_DETACHING,this.onMediaDetaching,this)},i.unregisterListener=function(){var t=this.hls;t.off(o.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(o.a.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(o.a.MANIFEST_PARSED,this.onManifestParsed,this),t.off(o.a.BUFFER_CODECS,this.onBufferCodecs,this),t.off(o.a.MEDIA_DETACHING,this.onMediaDetaching,this)},i.onFpsDropLevelCapping=function(e,n){t.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},i.onMediaAttaching=function(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null},i.onManifestParsed=function(t,e){var n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()},i.onBufferCodecs=function(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},i.onMediaDetaching=function(){this.stopCapping()},i.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var t=this.hls.levels;if(t.length){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t.length-1),e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},i.getMaxLevel=function(e){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return t.isLevelAllowed(i,n.restrictedLevels)&&i<=e}));return this.clientRect=null,t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},i.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},i.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},i.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},t.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},t.getMaxLevelByMediaSize=function(t,e,n){if(!t||!t.length)return-1;for(var r,i,o=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(r=s,!(i=t[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o},e=t,r=[{key:"contentScaleFactor",get:function(){var t=1;try{t=self.devicePixelRatio}catch(t){}return t}}],(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*t.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*t.contentScaleFactor}}])&&ie(e.prototype,n),r&&ie(e,r),t}(),ae=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var e=t.prototype;return e.setStreamController=function(t){this.streamController=t},e.registerListeners=function(){this.hls.on(o.a.MEDIA_ATTACHING,this.onMediaAttaching,this)},e.unregisterListeners=function(){this.hls.off(o.a.MEDIA_ATTACHING,this.onMediaAttaching)},e.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},e.onMediaAttaching=function(t,e){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},e.checkFPS=function(t,e,n){var r=performance.now();if(e){if(this.lastTime){var i=r-this.lastTime,a=n-this.lastDroppedFrames,u=e-this.lastDecodedFrames,l=1e3*a/i,c=this.hls;if(c.trigger(o.a.FPS_DROP,{currentDropped:a,currentDecoded:u,totalDroppedFrames:n}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*u){var f=c.currentLevel;s.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(o.a.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},e.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}(),se=n(12),ue=/^age:\s*[\d.]+\s*$/m,le=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=t?t.xhrSetup:null,this.stats=new se.a,this.retryDelay=0}var e=t.prototype;return e.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},e.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},e.load=function(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t=this.config,e=this.context;if(t){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,e.url)}catch(t){n.open("GET",e.url,!0),i(n,e.url)}n.readyState||n.open("GET",e.url,!0)}catch(t){return void this.callbacks.onError({code:n.status,text:t.message},e,n)}e.rangeEnd&&n.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=e.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),t.timeout),n.send()}},e.readystatechange=function(){var t=this.context,e=this.loader,n=this.stats;if(t&&e){var r=e.readyState,i=this.config;if(!n.aborted&&r>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===r){e.onreadystatechange=null,e.onprogress=null;var o=e.status;if(o>=200&&o<300){var a,u;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),u="arraybuffer"===t.responseType?(a=e.response).byteLength:(a=e.responseText).length,n.loaded=n.total=u,!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(n,t,a,e),!this.callbacks)return;var c={url:e.responseURL,data:a};this.callbacks.onSuccess(c,n,t,e)}else n.retry>=i.maxRetry||o>=400&&o<499?(s.b.error(o+" while loading "+t.url),this.callbacks.onError({code:o,text:e.statusText},t,e)):(s.b.warn(o+" while loading "+t.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout)}},e.loadtimeout=function(){s.b.warn("timeout while loading "+this.context.url);var t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))},e.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)},e.getCacheAge=function(){var t=null;if(this.loader&&ue.test(this.loader.getAllResponseHeaders())){var e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t},t}(),ce=n(16);function fe(t){var e="function"==typeof Map?new Map:void 0;return(fe=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return de(t,arguments,ve(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pe(r,t)})(t)}function de(t,e,n){return(de=he()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&pe(i,n.prototype),i}).apply(null,arguments)}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function pe(t,e){return(pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ve(t){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ge=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||me,this.controller=new self.AbortController,this.stats=new se.a}var e=t.prototype;return e.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},e.abortInternal=function(){var t=this.response;t&&t.ok||(this.stats.aborted=!0,this.controller.abort())},e.abort=function(){var t;this.abortInternal(),null!==(t=this.callbacks)&&void 0!==t&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},e.load=function(t,e,n){var r=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var a=function(t,e){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:e};return t.rangeEnd&&(n.headers=new self.Headers({Range:"bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)})),n}(t,this.controller.signal),s=n.onProgress,u="arraybuffer"===t.responseType,l=u?"byteLength":"length";this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(o,t,r.response)}),e.timeout),self.fetch(this.request).then((function(n){if(r.response=r.loader=n,!n.ok){var a=n.status,l=n.statusText;throw new be(l||"fetch, bad network response",a,n)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(i.a)(e.highWaterMark)?r.loadProgressively(n,o,t,e.highWaterMark,s):u?n.arrayBuffer():n.text()})).then((function(a){var u=r.response;self.clearTimeout(r.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first),o.loaded=o.total=a[l];var c={url:u.url,data:a};s&&!Object(i.a)(e.highWaterMark)&&s(o,t,a,u),n.onSuccess(c,o,t,u)})).catch((function(e){if(self.clearTimeout(r.requestTimeout),!o.aborted){var i=e.code||0;n.onError({code:i,text:e.message},t,e.details)}}))},e.getCacheAge=function(){var t=null;if(this.response){var e=this.response.headers.get("age");t=e?parseFloat(e):null}return t},e.loadProgressively=function(t,e,n,r,i){void 0===r&&(r=0);var o=new ce.a,a=t.body.getReader();return function s(){return a.read().then((function(a){if(a.done)return o.dataLength&&i(e,n,o.flush(),t),Promise.resolve(new ArrayBuffer(0));var u=a.value,l=u.length;return e.loaded+=l,l<r||o.dataLength?(o.push(u),o.dataLength>=r&&i(e,n,o.flush(),t)):i(e,n,u,t),s()})).catch((function(){return Promise.reject()}))}()},t}();function me(t,e){return new self.Request(t.url,e)}var ye,be=function(t){var e,n;function r(e,n,r){var i;return(i=t.call(this,e)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,pe(e,n),r}(fe(Error)),_e=ge;!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(ye||(ye={}));var Se="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function we(){return(we=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(n),!0).forEach((function(e){xe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ae=Te(Te({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:le,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Qt,bufferController:re,capLevelController:oe,fpsController:ae,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:Se,testBandwidth:!0,progressive:!1,lowLatencyMode:!0},{cueHandler:Zt.a,enableCEA708Captions:!1,enableWebVTT:!1,enableIMSC1:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0});function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Le=function(){function t(e){void 0===e&&(e={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Vt.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this._media=null,this.url=null;var n=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return we({},t,e)}(t.DefaultConfig,e);this.userConfig=e,Object(s.a)(n.debug),this._autoLevelCapping=-1,n.progressive&&function(t){var e=t.loader;e!==_e&&e!==le?(s.b.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}()&&(t.loader=_e,t.progressive=!0,t.enableSoftwareAES=!0,s.b.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);var r=n.abrController,i=n.bufferController,o=n.capLevelController,a=n.fpsController,u=this.abrController=new r(this),l=this.bufferController=new i(this),c=this.capLevelController=new o(this),f=new a(this),d=new k(this),h=new C(this),p=new D(this),v=this.levelController=new J(this),g=new Z(this),m=this.streamController=new qt(this,g);c.setStreamController(m),f.setStreamController(m);var y=[v,m];this.networkControllers=y;var b=[d,h,u,l,c,f,p,g];this.audioTrackController=this.createController(n.audioTrackController,null,y),this.createController(n.audioStreamController,g,y),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,y),this.createController(n.subtitleStreamController,g,y),this.createController(n.timelineController,null,b),this.emeController=this.createController(n.emeController,null,b),this.latencyController=this.createController(M,null,b),this.coreComponents=b}t.isSupported=function(){return function(){var t=Nt();if(!t)return!1;var e=jt(),n=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!n&&!!r}()};var e,n,i,u=t.prototype;return u.createController=function(t,e,n){if(t){var r=e?new t(this,e):new t(this);return n&&n.push(r),r}return null},u.on=function(t,e,n){void 0===n&&(n=this),this._emitter.on(t,e,n)},u.once=function(t,e,n){void 0===n&&(n=this),this._emitter.once(t,e,n)},u.removeAllListeners=function(t){this._emitter.removeAllListeners(t)},u.off=function(t,e,n,r){void 0===n&&(n=this),this._emitter.off(t,e,n,r)},u.listeners=function(t){return this._emitter.listeners(t)},u.emit=function(t,e,n){return this._emitter.emit(t,e,n)},u.trigger=function(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(e){s.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.trigger(o.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!1,event:t,error:e})}return!1},u.listenerCount=function(t){return this._emitter.listenerCount(t)},u.destroy=function(){s.b.log("destroy"),this.trigger(o.a.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0},u.attachMedia=function(t){s.b.log("attachMedia"),this._media=t,this.trigger(o.a.MEDIA_ATTACHING,{media:t})},u.detachMedia=function(){s.b.log("detachMedia"),this.trigger(o.a.MEDIA_DETACHING,void 0),this._media=null},u.loadSource=function(t){this.stopLoad();var e=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});s.b.log("loadSource:"+i),e&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(e)),this.trigger(o.a.MANIFEST_LOADING,{url:t})},u.startLoad=function(t){void 0===t&&(t=-1),s.b.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},u.stopLoad=function(){s.b.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},u.swapAudioCodec=function(){s.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},u.recoverMediaError=function(){s.b.log("recoverMediaError");var t=this._media;this.detachMedia(),t&&this.attachMedia(t)},u.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},e=t,i=[{key:"version",get:function(){return"1.0.10"}},{key:"Events",get:function(){return o.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Ae},set:function(e){t.defaultConfig=e}}],(n=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){s.b.log("set currentLevel:"+t),this.loadLevel=t,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){s.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){s.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){s.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){s.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping!==t&&(s.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t)}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,e=this.config.minAutoBitrate;if(!t)return 0;for(var n=t.length,r=0;r<n;r++)if(t[r].maxBitrate>e)return r;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&Oe(e.prototype,n),i&&Oe(e,i),t}();Le.defaultConfig=void 0}]).default)},function(t,e,n){
/*! js-cookie v3.0.1 | MIT */
t.exports=function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function e(n,r){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=t({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+n.write(i,e)+a}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],r={},i=0;i<e.length;i++){var o=e[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=n.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(e,n){i(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);var l={};function c(t){l.context=t}var f,d=function(t,e){return t===e},h=(Symbol("solid-proxy"),{equals:d}),p=null,v=q,g={},m={owned:null,cleanups:null,context:null,owner:null},y=r(k(!1),2),b=(y[0],y[1]),_=null,S=null,w=null,E=null,T=null,x=null,A=null,O=0;function L(t,e){e&&(_=e);var n,r=E,i=_,o=0===t.length?m:{owned:null,cleanups:null,context:null,owner:i};_=o,E=null;try{$((function(){return n=t((function(){return Q(o)}))}),!0)}finally{E=r,_=i}return n}function k(t,e){e=e?Object.assign({},h,e):h;var n={value:t,observers:null,observerSlots:null,pending:g,comparator:e.equals||void 0};return[U.bind(n),function(t){return"function"==typeof t&&(t=S&&S.running&&S.sources.has(n)?t(n.pending!==g?n.pending:n.tValue):t(n.pending!==g?n.pending:n.value)),V(n,t)}]}function C(t,e,n){H(K(t,e,!0,1))}function R(t,e,n){H(K(t,e,!1,1))}function P(t,e,n){v=z;var r=K(t,e,!1,1),i=f&&Z(_,f.id);i&&(r.suspense=i),r.user=!0,A&&A.push(r)}function D(t,e,n){n=n?Object.assign({},h,n):h;var r=K(t,e,!0,0);return r.pending=g,r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,H(r),U.bind(r)}function I(t){if(T)return t();var e,n=T=[];try{e=t()}finally{T=null}return $((function(){for(var t=0;t<n.length;t+=1){var e=n[t];if(e.pending!==g){var r=e.pending;e.pending=g,V(e,r)}}}),!1),e}function F(t){var e,n=E;return E=null,e=t(),E=n,e}function M(t){P((function(){return F(t)}))}function N(t){return null===_||(null===_.cleanups?_.cleanups=[t]:_.cleanups.push(t)),t}function j(t){var e=Symbol("context");return{id:e,Provider:tt(e),defaultValue:t}}function B(t){var e=D(t);return D((function(){return function t(e){if("function"==typeof e&&!e.length)return t(e());if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var i=t(e[r]);Array.isArray(i)?n.push.apply(n,i):n.push(i)}return n}return e}(e())}))}function U(){if(this.state&&this.sources){var t=x;x=null,1===this.state||S&&S.running&&this.tState?H(this):Y(this),x=t}if(E){var e=this.observers?this.observers.length:0;E.sources?(E.sources.push(this),E.sourceSlots.push(e)):(E.sources=[this],E.sourceSlots=[e]),this.observers?(this.observers.push(E),this.observerSlots.push(E.sources.length-1)):(this.observers=[E],this.observerSlots=[E.sources.length-1])}return S&&S.running&&S.sources.has(this)?this.tValue:this.value}function V(t,e,n){if(t.comparator)if(S&&S.running&&S.sources.has(t)){if(t.comparator(t.tValue,e))return e}else if(t.comparator(t.value,e))return e;if(T)return t.pending===g&&T.push(t),t.pending=e,e;var r=!1;return S?(((r=S.running)||!n&&S.sources.has(t))&&(S.sources.add(t),t.tValue=e),r||(t.value=e)):t.value=e,t.observers&&t.observers.length&&$((function(){for(var e=0;e<t.observers.length;e+=1){var n=t.observers[e];r&&S.disposed.has(n)||(n.pure?x.push(n):A.push(n),n.observers&&(r&&!n.tState||!r&&!n.state)&&X(n),r?n.tState=1:n.state=1)}if(x.length>1e6)throw x=[],new Error}),!1),e}function H(t){if(t.fn){Q(t);var e=_,n=E,r=O;E=_=t,G(t,t.value,r),S&&!S.running&&S.sources.has(t)&&(S.running=!0,G(t,t.tValue,r),S.running=!1),E=n,_=e}}function G(t,e,n){var r;try{r=t.fn(e)}catch(t){J(t)}(!t.updatedAt||t.updatedAt<=n)&&(t.observers&&t.observers.length?V(t,r,!0):S&&S.running&&t.pure?(S.sources.add(t),t.tValue=r):t.value=r,t.updatedAt=n)}function K(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:_,context:null,pure:n};return S&&S.running&&(i.state=0,i.tState=r),null===_||_!==m&&(S&&S.running&&_.pure?_.tOwned?_.tOwned.push(i):_.tOwned=[i]:_.owned?_.owned.push(i):_.owned=[i]),i}function W(t){var e=S&&S.running;if(!e&&1!==t.state)return t.state=0;if(e&&1!==t.tState)return t.tState=0;if(t.suspense&&F(t.suspense.inFallback))return t.suspense.effects.push(t);for(var n=[t];(t=t.owner)&&(!t.updatedAt||t.updatedAt<O);){if(e&&S.disposed.has(t))return;(t.state||e&&t.tState)&&n.push(t)}for(var r=n.length-1;r>=0;r--){if(t=n[r],e)for(var i=t,o=n[r+1];(i=i.owner)&&i!==o;)if(S.disposed.has(i))return;if(1===t.state||e&&1===t.tState)H(t);else if(2===t.state||e&&2===t.tState){var a=x;x=null,Y(t),x=a}}}function $(t,e){if(x)return t();var n=!1;e||(x=[]),A?n=!0:A=[],O++;try{t()}catch(t){J(t)}finally{!function(t){x&&(w&&S&&S.running?function(t){for(var e=function(e){var n=t[e],r=S.queue;r.has(n)||(r.add(n),w((function(){r.delete(n),$((function(){S.running=!0,W(n),r.size||(A.push.apply(A,S.effects),S.effects=[])}),!1),S&&(S.running=!1)})))},n=0;n<t.length;n++)e(n)}(x):q(x),x=null);if(t)return;var e;if(S&&S.running){if(S.promises.size||S.queue.size)return S.running=!1,S.effects.push.apply(S.effects,A),A=null,void b(!0);var n=S.sources;e=S.cb,A.forEach((function(t){"tState"in t&&(t.state=t.tState),delete t.tState})),S=null,I((function(){n.forEach((function(t){if(t.value=t.tValue,t.owned)for(var e=0,n=t.owned.length;e<n;e++)Q(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0})),b(!1)}))}A.length?I((function(){v(A),A=null})):A=null;e&&e.forEach((function(t){return t()}))}(n)}}function q(t){for(var e=0;e<t.length;e++)W(t[e])}function z(t){var e,n=0;for(e=0;e<t.length;e++){var r=t[e];r.user?t[n++]=r:W(r)}var i=t.length;for(e=0;e<n;e++)W(t[e]);for(e=i;e<t.length;e++)W(t[e])}function Y(t){t.state=0;for(var e=0;e<t.sources.length;e+=1){var n=t.sources[e];n.sources&&(1===n.state||S&&S.running&&n.tState?W(n):2===n.state&&Y(n))}}function X(t){for(var e=S&&S.running,n=0;n<t.observers.length;n+=1){var r=t.observers[n];(!r.state||e&&!r.tState)&&(e?r.tState=2:r.state=2,r.pure?x.push(r):A.push(r),r.observers&&X(r))}}function Q(t){var e;if(t.sources)for(;t.sources.length;){var n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){var o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(S&&S.running&&t.pure){if(t.tOwned){for(e=0;e<t.tOwned.length;e++)Q(t.tOwned[e]);delete t.tOwned}!function t(e,n){n||(e.tState=0,S.disposed.add(e));if(e.owned)for(var r=0;r<e.owned.length;r++)t(e.owned[r])}(t,!0)}else if(t.owned){for(e=0;e<t.owned.length;e++)Q(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}S&&S.running?t.tState=0:t.state=0,t.context=null}function J(t){var e=p&&Z(_,p);if(!e)throw t;e.forEach((function(e){return e(t)}))}function Z(t,e){return t&&(t.context&&t.context[e]||t.owner&&Z(t.owner,e))}function tt(t){return function(e){var n;return C((function(){return n=F((function(){return _.context=u({},t,e.value),B((function(){return e.children}))}))})),n}}var et=Symbol("fallback");function nt(t){for(var e=0;e<t.length;e++)t[e]()}function rt(t,e){if(l.context){var n=l.context;c(s(s({},l.context),{},{id:"".concat(l.context.id).concat(l.context.count++,"."),count:0}));var r=F((function(){return t(e)}));return c(n),r}return F((function(){return t(e)}))}function it(t){var e="fallback"in t&&{fallback:function(){return t.fallback}};return D(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],o=[],a=[],s=0,u=e.length>1?[]:null;return N((function(){return nt(a)})),function(){var l,c,f=t()||[];return F((function(){var t,e,r,h,p,v,g,m,y,b=f.length;if(0===b)0!==s&&(nt(a),a=[],i=[],o=[],s=0,u&&(u=[])),n.fallback&&(i=[et],o[0]=L((function(t){return a[0]=t,n.fallback()})),s=1);else if(0===s){for(o=new Array(b),c=0;c<b;c++)i[c]=f[c],o[c]=L(d);s=b}else{for(r=new Array(b),h=new Array(b),u&&(p=new Array(b)),v=0,g=Math.min(s,b);v<g&&i[v]===f[v];v++);for(g=s-1,m=b-1;g>=v&&m>=v&&i[g]===f[m];g--,m--)r[m]=o[g],h[m]=a[g],u&&(p[m]=u[g]);for(t=new Map,e=new Array(m+1),c=m;c>=v;c--)y=f[c],l=t.get(y),e[c]=void 0===l?-1:l,t.set(y,c);for(l=v;l<=g;l++)y=i[l],void 0!==(c=t.get(y))&&-1!==c?(r[c]=o[l],h[c]=a[l],u&&(p[c]=u[l]),c=e[c],t.set(y,c)):a[l]();for(c=v;c<b;c++)c in r?(o[c]=r[c],a[c]=h[c],u&&(u[c]=p[c],u[c](c))):o[c]=L(d);o=o.slice(0,s=b),i=f.slice(0)}return o}));function d(t){if(a[c]=t,u){var n=r(k(c),2),i=n[0],o=n[1];return u[c]=o,e(f[c],i)}return e(f[c])}}}((function(){return t.each}),t.children,e||void 0))}function ot(t){var e=!1,n=D((function(){return t.when}),void 0,{equals:function(t,n){return e?t===n:!t==!n}});return D((function(){var r=n();if(r){var i=t.children;return(e="function"==typeof i&&i.length>0)?F((function(){return i(r)})):i}return t.fallback}))}function at(t){var e=!1,n=B((function(){return t.children})),i=D((function(){var t=n();Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var r=t[e].when;if(r)return[e,r,t[e]]}return[-1]}),void 0,{equals:function(t,n){return t&&t[0]===n[0]&&(e?t[1]===n[1]:!t[1]==!n[1])&&t[2]===n[2]}});return D((function(){var n=r(i(),3),o=n[0],a=n[1],s=n[2];if(o<0)return t.fallback;var u=s.children;return(e="function"==typeof u&&u.length>0)?F((function(){return u(a)})):u}))}function st(t){return t}j();n.p,n.p,n(147);var ut=n(143),lt=n.n(ut),ct=n(144),ft=function(t){return JSON.parse(window.localStorage.getItem(t))};var dt,ht=function(t,e){return window.localStorage.setItem(t,JSON.stringify(e))};function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t){return{userID:ft("userID")||null,userEmail:ft("userEmail")||null,userSuscription:ft("userSuscription")||null,setUserData:function(e){var n=e.key,r=e.value;t((function(t){return ht(n,r),{userState:vt(vt({},t.userState),{},gt({},n,r))}}))}}}function yt(){return"undefined"!=typeof webOS&&!0===webOS.platform.tv}function bt(){return new Promise((function(t,e){webOS.deviceInfo((function(e){var n=e.modelName;t(n)}))}))}function _t(){return new Promise((function(t){webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{idType:["LGUDID"]},onSuccess:function(e){var n=e.idType?e.idType:e.idList[0].idValue;t(n)},onFailure:function(e){console.log("Failed to get system ID information"),console.log("["+e.errorCode+"]: "+e.errorText),t("UUID-Emulator")}})}))}function St(){return"undefined"!=typeof webapis&&(tizen.tvinputdevice.registerKey("ColorF0Red"),!0)}function wt(){return newPromise((function(t){t(webapis.productinfo.getModel())}))}function Et(){return newPromise((function(t){t(webapis.appcommon.getUuid())}))}n(349),n(350);var Tt=new Uint8Array(16);function xt(){if(!dt&&!(dt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(Tt)}var At=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ot=function(t){return"string"==typeof t&&At.test(t)},Lt=[],kt=0;kt<256;++kt)Lt.push((kt+256).toString(16).substr(1));var Ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Lt[t[e+0]]+Lt[t[e+1]]+Lt[t[e+2]]+Lt[t[e+3]]+"-"+Lt[t[e+4]]+Lt[t[e+5]]+"-"+Lt[t[e+6]]+Lt[t[e+7]]+"-"+Lt[t[e+8]]+Lt[t[e+9]]+"-"+Lt[t[e+10]]+Lt[t[e+11]]+Lt[t[e+12]]+Lt[t[e+13]]+Lt[t[e+14]]+Lt[t[e+15]]).toLowerCase();if(!Ot(n))throw TypeError("Stringified UUID is invalid");return n};var Rt=function(t,e,n){var r=(t=t||{}).random||(t.rng||xt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Ct(r)},Pt=n(96),Dt=n.n(Pt);function It(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ft(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){It(o,r,i,a,s,"next",t)}function s(t){It(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Mt=Dt()().name,Nt=Dt()().version;function jt(){if(ft("deviceUUID"))return ft("deviceUUID");var t=Rt();return ht("deviceUUID",t),t}function Bt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Ft(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i="2.0.1",!yt()){t.next=11;break}return e="LG SmartTv",t.next=5,bt();case 5:return n=t.sent,t.next=8,_t();case 8:r=t.sent,t.next=24;break;case 11:if(!St()){t.next=21;break}return e="Samsung SmartTv",t.next=15,wt();case 15:return n=t.sent,t.next=18,Et();case 18:r=t.sent,t.next=24;break;case 21:e="Web Browser",n="".concat(Mt," ").concat(Nt),r=jt();case 24:return t.abrupt("return",{devicePlatform:e,deviceType:n,deviceUUID:r,deviceVersion:i});case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vt(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){Kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t){var e,n,r=(n=ft(e="isShowVideo"))?(new Date).getTime()>n.expiry?(window.localStorage.removeItem(e),null):n.value:null,i=null;r?(r=!1,i=!0):(!function(t,e,n){var r={value:e,expiry:(new Date).getTime()+n};ht(t,r)}("isShowVideo",!0,2678400),r=!0,i=!1),t((function(t){return{appState:Gt(Gt({},t.appState),{},{isShowVideo:r,isShowLogo:i})}}))}function $t(t){return{loadedApp:!1,isShowVideo:null,isShowLogo:null,loadApp:(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wt(t),n=mt(t),e.next=4,Bt();case 4:r=e.sent,t({userState:n}),t({deviceState:r}),t((function(t){return{appState:Gt(Gt({},t.appState),{},{loadedApp:!0})}}));case 8:case"end":return e.stop()}}),e)})),n=function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){Vt(o,r,i,a,s,"next",t)}function s(t){Vt(o,r,i,a,s,"throw",t)}a(void 0)}))},function(){return n.apply(this,arguments)})};var e,n}var qt=lt()(Object(ct.devtools)((function(t){return{userState:null,deviceState:null,appState:$t(t)}})));qt.getState().appState.loadApp();var zt=qt.getState,Yt=(qt.setState,qt.subscribe),Xt=(qt.destroy,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)});new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline"].concat(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"])),new Set(["innerHTML","textContent","innerText","children"]),new Set(["beforeinput","click","dblclick","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]);function Qt(t,e){return D(t,void 0,e?void 0:{equals:e})}function Jt(t,e,n){for(var r=n.length,i=e.length,o=r,a=0,s=0,u=e[i-1].nextSibling,l=null;a<i||s<o;)if(e[a]!==n[s]){for(;e[i-1]===n[o-1];)i--,o--;if(i===a)for(var c=o<r?s?n[s-1].nextSibling:n[o-s]:u;s<o;)t.insertBefore(n[s++],c);else if(o===s)for(;a<i;)l&&l.has(e[a])||t.removeChild(e[a]),a++;else if(e[a]===n[o-1]&&n[s]===e[i-1]){var f=e[--i].nextSibling;t.insertBefore(n[s++],e[a++].nextSibling),t.insertBefore(n[--o],f),e[i]=n[o]}else{if(!l){l=new Map;for(var d=s;d<o;)l.set(n[d],d++)}var h=l.get(e[a]);if(null!=h)if(s<h&&h<o){for(var p=a,v=1,g=void 0;++p<i&&p<o&&null!=(g=l.get(e[p]))&&g===h+v;)v++;if(v>h-s)for(var m=e[a];s<h;)t.insertBefore(n[s++],m);else t.replaceChild(n[s++],e[a++])}else a++;else t.removeChild(e[a++])}}else a++,s++}var Zt="_$DX_DELEGATE";function te(t,e,n){var r;return L((function(i){r=i,ie(e,t(),e.firstChild?null:void 0,n)})),function(){r(),e.textContent=""}}function ee(t,e,n){var r=document.createElement("template");r.innerHTML=t;var i=r.content.firstChild;return n&&(i=i.firstChild),i}function ne(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=e[Zt]||(e[Zt]=new Set),r=0,i=t.length;r<i;r++){var o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,oe))}}function re(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function ie(t,e,n,r){if(void 0===n||r||(r=[]),"function"!=typeof e)return ae(t,e,r,n);R((function(r){return ae(t,e(),r,n)}),r)}function oe(t){var e="$$".concat(t.type),n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return n}});null!==n;){var r=n[e];if(r&&!n.disabled){var i=n["".concat(e,"Data")];if(void 0!==i?r(i,t):r(t),t.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function ae(t,e,n,r,i){for(;"function"==typeof n;)n=n();if(e===n)return n;var o=typeof e,a=void 0!==r;if(t=a&&n[0]&&n[0].parentNode||t,"string"===o||"number"===o)if("number"===o&&(e=e.toString()),a){var s=n[0];s&&3===s.nodeType?s.data=e:s=document.createTextNode(e),n=ue(t,n,r,s)}else n=""!==n&&"string"==typeof n?t.firstChild.data=e:t.textContent=e;else if(null==e||"boolean"===o){if(l.context)return n;n=ue(t,n,r)}else{if("function"===o)return R((function(){for(var i=e();"function"==typeof i;)i=i();n=ae(t,i,n,r)})),function(){return n};if(Array.isArray(e)){var u=[];if(function t(e,n,r){for(var i=!1,o=0,a=n.length;o<a;o++){var s=n[o],u=void 0;if(s instanceof Node)e.push(s);else if(null==s||!0===s||!1===s);else if(Array.isArray(s))i=t(e,s)||i;else if("string"==(u=typeof s))e.push(document.createTextNode(s));else if("function"===u)if(r){for(;"function"==typeof s;)s=s();i=t(e,Array.isArray(s)?s:[s])||i}else e.push(s),i=!0;else e.push(document.createTextNode(s.toString()))}return i}(u,e,i))return R((function(){return n=ae(t,u,n,r,!0)})),function(){return n};if(l.context&&n&&n.length)return n;if(0===u.length){if(n=ue(t,n,r),a)return n}else Array.isArray(n)?0===n.length?se(t,u,r):Jt(t,n,u):null==n||""===n?se(t,u):Jt(t,a&&n||[t.firstChild],u);n=u}else if(e instanceof Node){if(Array.isArray(n)){if(a)return n=ue(t,n,r,e);ue(t,n,null,e)}else null!=n&&""!==n&&t.firstChild?t.replaceChild(e,t.firstChild):t.appendChild(e);n=e}}return n}function se(t,e,n){for(var r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function ue(t,e,n,r){if(void 0===n)return t.textContent="";var i=r||document.createTextNode("");if(e.length)for(var o=!1,a=e.length-1;a>=0;a--){var s=e[a];if(i!==s){var u=s.parentNode===t;o||a?u&&t.removeChild(s):u?t.replaceChild(i,s):t.insertBefore(i,n)}else o=!0}else t.insertBefore(i,n);return[i]}var le=n.p+"assets/images/guiahtvlogo.png",ce=n.p+"assets/images/video-logo.mp4";const fe=ee('<div class="loader logo-loader"><img alt="Logo guiah tv"></div>'),de=ee('<div class="loader video-loader"><video muted id="video-logo"></video></div>'),he=ee('<div class="loader main-loader"><div class="spinner"></div></div>');var pe=function(){return t=fe.cloneNode(!0),e=t.firstChild,t.style.setProperty("opacity","0"),t.style.setProperty("display","none"),re(e,"src",le),t;var t,e},ve=function(){return t=de.cloneNode(!0),e=t.firstChild,t.style.setProperty("opacity","0"),t.style.setProperty("display","none"),re(e,"src",ce),t;var t,e},ge=function(){return(t=he.cloneNode(!0)).style.setProperty("opacity","0"),t.style.setProperty("display","none"),t;var t},me=n(48),ye=n.n(me);function be(t){return 1==t.style.opacity||""==t.style.display}function _e(t){return 0==t.style.opacity||"none"==t.style.display}function Se(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;setTimeout((function(){_e(t)&&ye.a.begin(t,["opacity",e,n,"".concat(r,"ms")],{onBeforeChangeStyle:function(t){t.style.display=""}})}),i)}function we(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;setTimeout((function(){be(t)&&ye.a.begin(t,["opacity",e,n,"".concat(r,"ms")],{onTransitionEnd:function(t,e){e&&(t.style.display="none")}})}),i)}function Ee(){var t=zt().appState.isShowVideo;return M((function(){t?(Se(Xt(".video-loader"),"0","1","150"),Xt("#video-logo").play()):Se(Xt(".logo-loader"),"0","1","150")})),[rt(pe,{}),rt(ve,{})]}var Te=n(145),xe=n.n(Te),Ae=(window.location.href,new xe.a("/",{hash:!0}));function Oe(t){var e=t.route,n=t.onBefore,r=t.onLeave;Ae.on("/".concat(e),(function(){}),{before:function(t){n(),t()},leave:function(t){r(),t()}})}var Le=n(146),ke=n.n(Le).a.create({timeout:1e4});ke.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),ke.interceptors.response.use((function(t){if(200===t.status)if("object"==typeof t.data){if(0===Object.entries(t).length||0===Object.entries(t.data).length)throw new Error(1)}else if(t.data.length<=0)throw new Error(1);if(t.status>=400&&t.status<=499)throw new Error(2);if(t.status>=500&&t.status<=599)throw new Error(3);return t.data}),(function(t){var e=t.message;if("Network Error"===e)throw new Error(4);if("Request aborted"===e)throw new Error(5);if(e.includes("timeout"))throw new Error(6);return Promise.reject(t)}));var Ce=ke,Re=n(369),Pe=(n(370),n(371),n(372),n(373));Re.extend(Pe);var De="https://lap55.com/json/api";function Ie(t,e,n){var r,i=e.memclid;return r="FJNAxIVsyIalE5_ScCtR6hcJ6h6tXcQwHhlB48WKwnI",{spotlight:"".concat(De,"/sl/leon/home_spotlight"),"live-tv":"".concat(De,"/cmdata/leon/livetvplus/").concat(r,"/").concat("UTC"+Re().utcOffset()/60),"catalogue-vod":"".concat(De,"/cmdata/leon/entplus/").concat(r),"link-vod":"".concat(De,"/cmd/getLinkLeon/").concat(n.linkID,"/").concat(r)}[t]}function Fe(t){switch(function(t){return t.suscriptionStatus?t.suscriptionStatus:t[0]&&t[0].SuscriptionStatus?t[0].SuscriptionStatus:null}(t)){case 0:console.log("Suscripción expirada");break;case 1:console.log("Suscripción válida");break;case 2:console.log("Suscripción en periodo de gracia");break;case 3:console.log("Suscripción gratuita");break;case 4:throw new Error(1);default:console.log("No se envió suscripción")}}function Me(t){var e=parseInt(t.message);return{error:{0:"No se pudo obtener la información, intente de nuevo.",1:"Sesión no válida, favor de iniciar nueva sesión.",2:"No se pudo obtener la información, intente de nuevo.",3:"No se pudo obtener la información, intente de nuevo.",4:"Hay un problema en la conexión a internet.",5:"Hay un problema en la conexión a internet.",6:"Hay un problema en la conexión a internet."}[e]||"Error desconocido",code:e}}function Ne(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function je(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ne(o,r,i,a,s,"next",t)}function s(t){Ne(o,r,i,a,s,"throw",t)}a(void 0)}))}}function Be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ue(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ve(){var t=Be(k(0),2),e=t[0],n=t[1],r=Be(k(null),2),i=r[0],o=r[1],a=Be(k(null),2),s=a[0],u=a[1],l=function(){var t=je(regeneratorRuntime.mark((function t(e){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},r=i.length>2&&void 0!==i[2]?i[2]:{},t.next=4,c("get",e,n,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=je(regeneratorRuntime.mark((function t(e,n,r,i){var a,s,l,c,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(null),u(null),a=Ie(n,"",r),t.next=6,Ce.get(a,i);case 6:return t.t0=t.sent,s={get:t.t0},Fe(l=s[e]),t.abrupt("return",l);case 13:throw t.prev=13,t.t1=t.catch(0),c=Me(t.t1),f=c.error,d=c.code,o(d),u(f),"error";case 19:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n,r,i){return t.apply(this,arguments)}}();return{get:l,handleRequest:function(){var t=e();t<3&&n(t+1)},count:e,reset:function(){n(0)},errorCode:i,errorMessage:s}}const He=ee('<div class="section-wrapper" id="home"><div class="welcome-message">Home</div></div>');function Ge(){var t,e=Ve(),n=function(){var t=Xt("#home"),n=Xt(".main-loader");Se(n,"0","1","150"),e.get("spotlight").then((function(e){Se(t,"0","1","150"),we(n,"1","0","150","1000")}))};return Oe({route:"home",onBefore:function(){n()},onLeave:function(){we(Xt("#home"),"1","0","150"),e.reset()}}),(t=He.cloneNode(!0)).style.setProperty("opacity","0"),t.style.setProperty("display","none"),t}const Ke=ee('<div class="top-menu"><ul class="list-links"><li class="link-menu">Home</li><li class="link-menu">Live tv</li><li class="link-menu">Vod</li><li class="link-menu">Radio</li><li class="link-menu">Music</li><li class="link-menu">Zona kids</li></ul></div>');function We(){var t,e,n,r,i,o,a,s=function(t){Ae.navigate("/".concat(t))};return t=Ke.cloneNode(!0),e=t.firstChild.firstChild,n=e.nextSibling,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling,a=o.nextSibling,e.$$click=function(){return s("home")},n.$$click=function(){return s("live-tv")},r.$$click=function(){return s("vod")},i.$$click=function(){return s("radio")},o.$$click=function(){return s("music")},a.$$click=function(){return s("zonakids")},t}ne(["click"]);var $e=n(374);$e.init();var qe=$e,ze=window,Ye=ze.requestAnimationFrame||ze.webkitRequestAnimationFrame||ze.mozRequestAnimationFrame||ze.msRequestAnimationFrame||function(t){return setTimeout(t,16)},Xe=window,Qe=Xe.cancelAnimationFrame||Xe.mozCancelAnimationFrame||function(t){clearTimeout(t)};function Je(){for(var t,e,n,r=arguments[0]||{},i=1,o=arguments.length;i<o;i++)if(null!==(t=arguments[i]))for(e in t)r!==(n=t[e])&&void 0!==n&&(r[e]=n);return r}function Ze(t){return["true","false"].indexOf(t)>=0?JSON.parse(t):t}function tn(t,e,n,r){if(r)try{t.setItem(e,n)}catch(t){}return n}function en(){var t=document,e=t.body;return e||((e=t.createElement("body")).fake=!0),e}var nn=document.documentElement;function rn(t){var e="";return t.fake&&(e=nn.style.overflow,t.style.background="",t.style.overflow=nn.style.overflow="hidden",nn.appendChild(t)),e}function on(t,e){t.fake&&(t.remove(),nn.style.overflow=e,nn.offsetHeight)}function an(t,e,n,r){"insertRule"in t?t.insertRule(e+"{"+n+"}",r):t.addRule(e,n,r)}function sn(t){return("insertRule"in t?t.cssRules:t.rules).length}function un(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r)}var ln="classList"in document.createElement("_"),cn=ln?function(t,e){return t.classList.contains(e)}:function(t,e){return t.className.indexOf(e)>=0},fn=ln?function(t,e){cn(t,e)||t.classList.add(e)}:function(t,e){cn(t,e)||(t.className+=" "+e)},dn=ln?function(t,e){cn(t,e)&&t.classList.remove(e)}:function(t,e){cn(t,e)&&(t.className=t.className.replace(e,""))};function hn(t,e){return t.hasAttribute(e)}function pn(t,e){return t.getAttribute(e)}function vn(t){return void 0!==t.item}function gn(t,e){if(t=vn(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var r in e)t[n].setAttribute(r,e[r])}function mn(t,e){t=vn(t)||t instanceof Array?t:[t];for(var n=(e=e instanceof Array?e:[e]).length,r=t.length;r--;)for(var i=n;i--;)t[r].removeAttribute(e[i])}function yn(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function bn(t,e){"none"!==t.style.display&&(t.style.display="none")}function _n(t,e){"none"===t.style.display&&(t.style.display="")}function Sn(t){return"none"!==window.getComputedStyle(t).display}function wn(t){if("string"==typeof t){var e=[t],n=t.charAt(0).toUpperCase()+t.substr(1);["Webkit","Moz","ms","O"].forEach((function(r){"ms"===r&&"transform"!==t||e.push(r+n)})),t=e}for(var r=document.createElement("fakeelement"),i=(t.length,0);i<t.length;i++){var o=t[i];if(void 0!==r.style[o])return o}return!1}function En(t,e){var n=!1;return/^Webkit/.test(t)?n="webkit"+e+"End":/^O/.test(t)?n="o"+e+"End":t&&(n=e.toLowerCase()+"end"),n}var Tn=!1;try{var xn=Object.defineProperty({},"passive",{get:function(){Tn=!0}});window.addEventListener("test",null,xn)}catch(t){}var An=!!Tn&&{passive:!0};function On(t,e,n){for(var r in e){var i=["touchstart","touchmove"].indexOf(r)>=0&&!n&&An;t.addEventListener(r,e[r],i)}}function Ln(t,e){for(var n in e){var r=["touchstart","touchmove"].indexOf(n)>=0&&An;t.removeEventListener(n,e[n],r)}}function kn(){return{topics:{},on:function(t,e){this.topics[t]=this.topics[t]||[],this.topics[t].push(e)},off:function(t,e){if(this.topics[t])for(var n=0;n<this.topics[t].length;n++)if(this.topics[t][n]===e){this.topics[t].splice(n,1);break}},emit:function(t,e){e.type=t,this.topics[t]&&this.topics[t].forEach((function(n){n(e,t)}))}}}Object.keys||(Object.keys=function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Cn=function t(e){e=Je({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},e||{});var n=document,r=window,i={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},o={},a=e.useLocalStorage;if(a){var s=navigator.userAgent,u=new Date;try{(o=r.localStorage)?(o.setItem(u,u),a=o.getItem(u)==u,o.removeItem(u)):a=!1,a||(o={})}catch(t){a=!1}a&&(o.tnsApp&&o.tnsApp!==s&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach((function(t){o.removeItem(t)})),localStorage.tnsApp=s)}var l=o.tC?Ze(o.tC):tn(o,"tC",function(){var t=document,e=en(),n=rn(e),r=t.createElement("div"),i=!1;e.appendChild(r);try{for(var o,a="(10px * 10)",s=["calc"+a,"-moz-calc"+a,"-webkit-calc"+a],u=0;u<3;u++)if(o=s[u],r.style.width=o,100===r.offsetWidth){i=o.replace(a,"");break}}catch(t){}return e.fake?on(e,n):r.remove(),i}(),a),c=o.tPL?Ze(o.tPL):tn(o,"tPL",function(){var t,e=document,n=en(),r=rn(n),i=e.createElement("div"),o=e.createElement("div"),a="";i.className="tns-t-subp2",o.className="tns-t-ct";for(var s=0;s<70;s++)a+="<div></div>";return o.innerHTML=a,i.appendChild(o),n.appendChild(i),t=Math.abs(i.getBoundingClientRect().left-o.children[67].getBoundingClientRect().left)<2,n.fake?on(n,r):i.remove(),t}(),a),f=o.tMQ?Ze(o.tMQ):tn(o,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var t,e=document,n=en(),r=rn(n),i=e.createElement("div"),o=e.createElement("style"),a="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return o.type="text/css",i.className="tns-mq-test",n.appendChild(o),n.appendChild(i),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(e.createTextNode(a)),t=window.getComputedStyle?window.getComputedStyle(i).position:i.currentStyle.position,n.fake?on(n,r):i.remove(),"absolute"===t}(),a),d=o.tTf?Ze(o.tTf):tn(o,"tTf",wn("transform"),a),h=o.t3D?Ze(o.t3D):tn(o,"t3D",function(t){if(!t)return!1;if(!window.getComputedStyle)return!1;var e,n=document,r=en(),i=rn(r),o=n.createElement("p"),a=t.length>9?"-"+t.slice(0,-9).toLowerCase()+"-":"";return a+="transform",r.insertBefore(o,null),o.style[t]="translate3d(1px,1px,1px)",e=window.getComputedStyle(o).getPropertyValue(a),r.fake?on(r,i):o.remove(),void 0!==e&&e.length>0&&"none"!==e}(d),a),p=o.tTDu?Ze(o.tTDu):tn(o,"tTDu",wn("transitionDuration"),a),v=o.tTDe?Ze(o.tTDe):tn(o,"tTDe",wn("transitionDelay"),a),g=o.tADu?Ze(o.tADu):tn(o,"tADu",wn("animationDuration"),a),m=o.tADe?Ze(o.tADe):tn(o,"tADe",wn("animationDelay"),a),y=o.tTE?Ze(o.tTE):tn(o,"tTE",En(p,"Transition"),a),b=o.tAE?Ze(o.tAE):tn(o,"tAE",En(g,"Animation"),a),_=r.console&&"function"==typeof r.console.warn,S=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],w={};if(S.forEach((function(t){if("string"==typeof e[t]){var r=e[t],i=n.querySelector(r);if(w[t]=r,!i||!i.nodeName)return void(_&&console.warn("Can't find",e[t]));e[t]=i}})),!(e.container.children.length<1)){var E=e.responsive,T=e.nested,x="carousel"===e.mode;if(E){0 in E&&(e=Je(e,E[0]),delete E[0]);var A={};for(var O in E){var L=E[O];L="number"==typeof L?{items:L}:L,A[O]=L}E=A,A=null}if(x||function t(e){for(var n in e)x||("slideBy"===n&&(e[n]="page"),"edgePadding"===n&&(e[n]=!1),"autoHeight"===n&&(e[n]=!1)),"responsive"===n&&t(e[n])}(e),!x){e.axis="horizontal",e.slideBy="page",e.edgePadding=!1;var k=e.animateIn,C=e.animateOut,R=e.animateDelay,P=e.animateNormal}var D,I,F="horizontal"===e.axis,M=n.createElement("div"),N=n.createElement("div"),j=e.container,B=j.parentNode,U=j.outerHTML,V=j.children,H=V.length,G=Pn(),K=!1;E&&Jn(),x&&(j.className+=" tns-vpfix");var W,$,q,z,Y,X,Q,J,Z,tt=e.autoWidth,et=Mn("fixedWidth"),nt=Mn("edgePadding"),rt=Mn("gutter"),it=In(),ot=Mn("center"),at=tt?1:Math.floor(Mn("items")),st=Mn("slideBy"),ut=e.viewportMax||e.fixedWidthViewportWidth,lt=Mn("arrowKeys"),ct=Mn("speed"),ft=e.rewind,dt=!ft&&e.loop,ht=Mn("autoHeight"),pt=Mn("controls"),vt=Mn("controlsText"),gt=Mn("nav"),mt=Mn("touch"),yt=Mn("mouseDrag"),bt=Mn("autoplay"),_t=Mn("autoplayTimeout"),St=Mn("autoplayText"),wt=Mn("autoplayHoverPause"),Et=Mn("autoplayResetOnVisibility"),Tt=(Q=null,J=Mn("nonce"),Z=document.createElement("style"),Q&&Z.setAttribute("media",Q),J&&Z.setAttribute("nonce",J),document.querySelector("head").appendChild(Z),Z.sheet?Z.sheet:Z.styleSheet),xt=e.lazyload,At=e.lazyloadSelector,Ot=[],Lt=dt?(Y=function(){if(tt||et&&!ut)return H-1;var t=et?"fixedWidth":"items",n=[];if((et||e[t]<H)&&n.push(e[t]),E)for(var r in E){var i=E[r][t];i&&(et||i<H)&&n.push(i)}return n.length||n.push(0),Math.ceil(et?ut/Math.min.apply(null,n):Math.max.apply(null,n))}(),X=x?Math.ceil((5*Y-H)/2):4*Y-H,X=Math.max(Y,X),Fn("edgePadding")?X+1:X):0,kt=x?H+2*Lt:H+Lt,Ct=!(!et&&!tt||dt),Rt=et?Tr():null,Pt=!x||!dt,Dt=F?"left":"top",It="",Ft="",Mt=et?function(){return ot&&!dt?H-1:Math.ceil(-Rt/(et+rt))}:tt?function(){for(var t=0;t<kt;t++)if(W[t]>=-Rt)return t}:function(){return ot&&x&&!dt?H-1:dt||x?Math.max(0,kt-Math.ceil(at)):kt-1},Nt=An(Mn("startIndex")),jt=Nt,Bt=(xn(),0),Ut=tt?null:Mt(),Vt=e.preventActionWhenRunning,Ht=e.swipeAngle,Gt=!Ht||"?",Kt=!1,Wt=e.onInit,$t=new kn,qt=" tns-slider tns-"+e.mode,zt=j.id||(z=window.tnsId,window.tnsId=z?z+1:1,"tns"+window.tnsId),Yt=Mn("disable"),Xt=!1,Qt=e.freezable,Jt=!(!Qt||tt)&&Qn(),Zt=!1,te={click:Dr,keydown:function(t){t=Vr(t);var e=[i.LEFT,i.RIGHT].indexOf(t.keyCode);e>=0&&(0===e?Se.disabled||Dr(t,-1):we.disabled||Dr(t,1))}},ee={click:function(t){if(Kt){if(Vt)return;Rr()}var e=Hr(t=Vr(t));for(;e!==Ae&&!hn(e,"data-nav");)e=e.parentNode;if(hn(e,"data-nav")){var n=Ce=Number(pn(e,"data-nav")),r=et||tt?n*H/Le:n*at;Pr(le?n:Math.min(Math.ceil(r),H-1),t),Re===n&&(Ne&&jr(),Ce=-1)}},keydown:function(t){t=Vr(t);var e=n.activeElement;if(!hn(e,"data-nav"))return;var r=[i.LEFT,i.RIGHT,i.ENTER,i.SPACE].indexOf(t.keyCode),o=Number(pn(e,"data-nav"));r>=0&&(0===r?o>0&&Ur(xe[o-1]):1===r?o<Le-1&&Ur(xe[o+1]):(Ce=o,Pr(o,t)))}},ne={mouseover:function(){Ne&&(Fr(),je=!0)},mouseout:function(){je&&(Ir(),je=!1)}},re={visibilitychange:function(){n.hidden?Ne&&(Fr(),Ue=!0):Ue&&(Ir(),Ue=!1)}},ie={keydown:function(t){t=Vr(t);var e=[i.LEFT,i.RIGHT].indexOf(t.keyCode);e>=0&&Dr(t,0===e?-1:1)}},oe={touchstart:$r,touchmove:qr,touchend:zr,touchcancel:zr},ae={mousedown:$r,mousemove:qr,mouseup:zr,mouseleave:zr},se=Fn("controls"),ue=Fn("nav"),le=!!tt||e.navAsThumbnails,ce=Fn("autoplay"),fe=Fn("touch"),de=Fn("mouseDrag"),he="tns-slide-active",pe="tns-complete",ve={load:function(t){sr(Hr(t))},error:function(t){e=Hr(t),fn(e,"failed"),ur(e);var e}},ge="force"===e.preventScrollOnTouch;if(se)var me,ye,be=e.controlsContainer,_e=e.controlsContainer?e.controlsContainer.outerHTML:"",Se=e.prevButton,we=e.nextButton,Ee=e.prevButton?e.prevButton.outerHTML:"",Te=e.nextButton?e.nextButton.outerHTML:"";if(ue)var xe,Ae=e.navContainer,Oe=e.navContainer?e.navContainer.outerHTML:"",Le=tt?H:Xr(),ke=0,Ce=-1,Re=Rn(),Pe=Re,De="tns-nav-active",Ie="Carousel Page ",Fe=" (Current Slide)";if(ce)var Me,Ne,je,Be,Ue,Ve="forward"===e.autoplayDirection?1:-1,He=e.autoplayButton,Ge=e.autoplayButton?e.autoplayButton.outerHTML:"",Ke=["<span class='tns-visually-hidden'>"," animation</span>"];if(fe||de)var We,$e,qe={},ze={},Xe=!1,nn=F?function(t,e){return t.x-e.x}:function(t,e){return t.y-e.y};tt||Tn(Yt||Jt),d&&(Dt=d,It="translate",h?(It+=F?"3d(":"3d(0px, ",Ft=F?", 0px, 0px)":", 0px)"):(It+=F?"X(":"Y(",Ft=")")),x&&(j.className=j.className.replace("tns-vpfix","")),function(){Fn("gutter");M.className="tns-outer",N.className="tns-inner",M.id=zt+"-ow",N.id=zt+"-iw",""===j.id&&(j.id=zt);qt+=c||tt?" tns-subpixel":" tns-no-subpixel",qt+=l?" tns-calc":" tns-no-calc",tt&&(qt+=" tns-autowidth");qt+=" tns-"+e.axis,j.className+=qt,x?((D=n.createElement("div")).id=zt+"-mw",D.className="tns-ovh",M.appendChild(D),D.appendChild(N)):M.appendChild(N);if(ht){(D||N).className+=" tns-ah"}if(B.insertBefore(M,j),N.appendChild(j),un(V,(function(t,e){fn(t,"tns-item"),t.id||(t.id=zt+"-item"+e),!x&&P&&fn(t,P),gn(t,{"aria-hidden":"true",tabindex:"-1"})})),Lt){for(var t=n.createDocumentFragment(),r=n.createDocumentFragment(),i=Lt;i--;){var o=i%H,a=V[o].cloneNode(!0);if(fn(a,"tns-slide-cloned"),mn(a,"id"),r.insertBefore(a,r.firstChild),x){var s=V[H-1-o].cloneNode(!0);fn(s,"tns-slide-cloned"),mn(s,"id"),t.appendChild(s)}}j.insertBefore(t,j.firstChild),j.appendChild(r),V=j.children}}(),function(){if(!x)for(var t=Nt,n=Nt+Math.min(H,at);t<n;t++){var i=V[t];i.style.left=100*(t-Nt)/at+"%",fn(i,k),dn(i,P)}F&&(c||tt?(an(Tt,"#"+zt+" > .tns-item","font-size:"+r.getComputedStyle(V[0]).fontSize+";",sn(Tt)),an(Tt,"#"+zt,"font-size:0;",sn(Tt))):x&&un(V,(function(t,e){t.style.marginLeft=function(t){return l?l+"("+100*t+"% / "+kt+")":100*t/kt+"%"}(e)})));if(f){if(p){var o=D&&e.autoHeight?Hn(e.speed):"";an(Tt,"#"+zt+"-mw",o,sn(Tt))}o=Nn(e.edgePadding,e.gutter,e.fixedWidth,e.speed,e.autoHeight),an(Tt,"#"+zt+"-iw",o,sn(Tt)),x&&(o=F&&!tt?"width:"+jn(e.fixedWidth,e.gutter,e.items)+";":"",p&&(o+=Hn(ct)),an(Tt,"#"+zt,o,sn(Tt))),o=F&&!tt?Bn(e.fixedWidth,e.gutter,e.items):"",e.gutter&&(o+=Un(e.gutter)),x||(p&&(o+=Hn(ct)),g&&(o+=Gn(ct))),o&&an(Tt,"#"+zt+" > .tns-item",o,sn(Tt))}else{x&&ht&&(D.style[p]=ct/1e3+"s"),N.style.cssText=Nn(nt,rt,et,ht),x&&F&&!tt&&(j.style.width=jn(et,rt,at));o=F&&!tt?Bn(et,rt,at):"";rt&&(o+=Un(rt)),o&&an(Tt,"#"+zt+" > .tns-item",o,sn(Tt))}if(E&&f)for(var a in E){a=parseInt(a);var s=E[a],u=(o="",""),d="",h="",v="",m=tt?null:Mn("items",a),y=Mn("fixedWidth",a),b=Mn("speed",a),_=Mn("edgePadding",a),S=Mn("autoHeight",a),w=Mn("gutter",a);p&&D&&Mn("autoHeight",a)&&"speed"in s&&(u="#"+zt+"-mw{"+Hn(b)+"}"),("edgePadding"in s||"gutter"in s)&&(d="#"+zt+"-iw{"+Nn(_,w,y,b,S)+"}"),x&&F&&!tt&&("fixedWidth"in s||"items"in s||et&&"gutter"in s)&&(h="width:"+jn(y,w,m)+";"),p&&"speed"in s&&(h+=Hn(b)),h&&(h="#"+zt+"{"+h+"}"),("fixedWidth"in s||et&&"gutter"in s||!x&&"items"in s)&&(v+=Bn(y,w,m)),"gutter"in s&&(v+=Un(w)),!x&&"speed"in s&&(p&&(v+=Hn(b)),g&&(v+=Gn(b))),v&&(v="#"+zt+" > .tns-item{"+v+"}"),(o=u+d+h+v)&&Tt.insertRule("@media (min-width: "+a/16+"em) {"+o+"}",Tt.cssRules.length)}}(),Kn();var ln=dt?x?function(){var t=Bt,e=Ut;t+=st,e-=st,nt?(t+=1,e-=1):et&&(it+rt)%(et+rt)&&(e-=1),Lt&&(Nt>e?Nt-=H:Nt<t&&(Nt+=H))}:function(){if(Nt>Ut)for(;Nt>=Bt+H;)Nt-=H;else if(Nt<Bt)for(;Nt<=Ut-H;)Nt+=H}:function(){Nt=Math.max(Bt,Math.min(Ut,Nt))},vn=x?function(){wr(j,""),p||!ct?(Or(),ct&&Sn(j)||Rr()):function(t,e,n,r,i,o,a){var s=Math.min(o,10),u=i.indexOf("%")>=0?"%":"px",l=(i=i.replace(u,""),Number(t.style[e].replace(n,"").replace(r,"").replace(u,""))),c=(i-l)/o*s;setTimeout((function i(){o-=s,l+=c,t.style[e]=n+l+u+r,o>0?setTimeout(i,s):a()}),s)}(j,Dt,It,Ft,xr(),ct,Rr),F||Yr()}:function(){Ot=[];var t={};t[y]=t[b]=Rr,Ln(V[jt],t),On(V[Nt],t),Lr(jt,k,C,!0),Lr(Nt,P,k),y&&b&&ct&&Sn(j)||Rr()};return{version:"2.9.3",getInfo:Jr,events:$t,goTo:Pr,play:function(){bt&&!Ne&&(Nr(),Be=!1)},pause:function(){Ne&&(jr(),Be=!0)},isOn:K,updateSliderHeight:pr,refresh:Kn,destroy:function(){if(Tt.disabled=!0,Tt.ownerNode&&Tt.ownerNode.remove(),Ln(r,{resize:Yn}),lt&&Ln(n,ie),be&&Ln(be,te),Ae&&Ln(Ae,ee),Ln(j,ne),Ln(j,re),He&&Ln(He,{click:Br}),bt&&clearInterval(Me),x&&y){var t={};t[y]=Rr,Ln(j,t)}mt&&Ln(j,oe),yt&&Ln(j,ae);var i=[U,_e,Ee,Te,Oe,Ge];for(var o in S.forEach((function(t,n){var r="container"===t?M:e[t];if("object"==typeof r&&r){var o=!!r.previousElementSibling&&r.previousElementSibling,a=r.parentNode;r.outerHTML=i[n],e[t]=o?o.nextElementSibling:a.firstElementChild}})),S=k=C=R=P=F=M=N=j=B=U=V=H=I=G=tt=et=nt=rt=it=at=st=ut=lt=ct=ft=dt=ht=Tt=xt=W=Ot=Lt=kt=Ct=Rt=Pt=Dt=It=Ft=Mt=Nt=jt=Bt=Ut=Ht=Gt=Kt=Wt=$t=qt=zt=Yt=Xt=Qt=Jt=Zt=te=ee=ne=re=ie=oe=ae=se=ue=le=ce=fe=de=he=pe=ve=$=pt=vt=be=_e=Se=we=me=ye=gt=Ae=Oe=xe=Le=ke=Ce=Re=Pe=De=Ie=Fe=bt=_t=Ve=St=wt=He=Ge=Et=Ke=Me=Ne=je=Be=Ue=qe=ze=We=Xe=$e=nn=mt=yt=null,this)"rebuild"!==o&&(this[o]=null);K=!1},rebuild:function(){return t(Je(e,w))}}}function Tn(t){t&&(pt=gt=mt=yt=lt=bt=wt=Et=!1)}function xn(){for(var t=x?Nt-Lt:Nt;t<0;)t+=H;return t%H+1}function An(t){return t=t?Math.max(0,Math.min(dt?H-1:H-at,t)):0,x?t+Lt:t}function Cn(t){for(null==t&&(t=Nt),x&&(t-=Lt);t<0;)t+=H;return Math.floor(t%H)}function Rn(){var t,e=Cn();return t=le?e:et||tt?Math.ceil((e+1)*Le/H-1):Math.floor(e/at),!dt&&x&&Nt===Ut&&(t=Le-1),t}function Pn(){return r.innerWidth||n.documentElement.clientWidth||n.body.clientWidth}function Dn(t){return"top"===t?"afterbegin":"beforeend"}function In(){var t=nt?2*nt-rt:0;return function t(e){if(null!=e){var r,i,o=n.createElement("div");return e.appendChild(o),i=(r=o.getBoundingClientRect()).right-r.left,o.remove(),i||t(e.parentNode)}}(B)-t}function Fn(t){if(e[t])return!0;if(E)for(var n in E)if(E[n][t])return!0;return!1}function Mn(t,n){if(null==n&&(n=G),"items"===t&&et)return Math.floor((it+rt)/(et+rt))||1;var r=e[t];if(E)for(var i in E)n>=parseInt(i)&&t in E[i]&&(r=E[i][t]);return"slideBy"===t&&"page"===r&&(r=Mn("items")),x||"slideBy"!==t&&"items"!==t||(r=Math.floor(r)),r}function Nn(t,e,n,r,i){var o="";if(void 0!==t){var a=t;e&&(a-=e),o=F?"margin: 0 "+a+"px 0 "+t+"px;":"margin: "+t+"px 0 "+a+"px 0;"}else if(e&&!n){var s="-"+e+"px";o="margin: 0 "+(F?s+" 0 0":"0 "+s+" 0")+";"}return!x&&i&&p&&r&&(o+=Hn(r)),o}function jn(t,e,n){return t?(t+e)*kt+"px":l?l+"("+100*kt+"% / "+n+")":100*kt/n+"%"}function Bn(t,e,n){var r;if(t)r=t+e+"px";else{x||(n=Math.floor(n));var i=x?kt:n;r=l?l+"(100% / "+i+")":100/i+"%"}return r="width:"+r,"inner"!==T?r+";":r+" !important;"}function Un(t){var e="";!1!==t&&(e=(F?"padding-":"margin-")+(F?"right":"bottom")+": "+t+"px;");return e}function Vn(t,e){var n=t.substring(0,t.length-e).toLowerCase();return n&&(n="-"+n+"-"),n}function Hn(t){return Vn(p,18)+"transition-duration:"+t/1e3+"s;"}function Gn(t){return Vn(g,17)+"animation-duration:"+t/1e3+"s;"}function Kn(){if(Fn("autoHeight")||tt||!F){var t=j.querySelectorAll("img");un(t,(function(t){var e=t.src;xt||(e&&e.indexOf("data:image")<0?(t.src="",On(t,ve),fn(t,"loading"),t.src=e):sr(t))})),Ye((function(){fr(yn(t),(function(){$=!0}))})),Fn("autoHeight")&&(t=lr(Nt,Math.min(Nt+at-1,kt-1))),xt?Wn():Ye((function(){fr(yn(t),Wn)}))}else x&&Ar(),qn(),zn()}function Wn(){if(tt&&H>1){var t=dt?Nt:H-1;!function e(){var n=V[t].getBoundingClientRect().left,r=V[t-1].getBoundingClientRect().right;Math.abs(n-r)<=1?$n():setTimeout((function(){e()}),16)}()}else $n()}function $n(){F&&!tt||(vr(),tt?(Rt=Tr(),Qt&&(Jt=Qn()),Ut=Mt(),Tn(Yt||Jt)):Yr()),x&&Ar(),qn(),zn()}function qn(){if(gr(),M.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+ir()+"</span>  of "+H+"</div>"),q=M.querySelector(".tns-liveregion .current"),ce){var t=bt?"stop":"start";He?gn(He,{"data-action":t}):e.autoplayButtonOutput&&(M.insertAdjacentHTML(Dn(e.autoplayPosition),'<button type="button" data-action="'+t+'">'+Ke[0]+t+Ke[1]+St[0]+"</button>"),He=M.querySelector("[data-action]")),He&&On(He,{click:Br}),bt&&(Nr(),wt&&On(j,ne),Et&&On(j,re))}if(ue){if(Ae)gn(Ae,{"aria-label":"Carousel Pagination"}),un(xe=Ae.children,(function(t,e){gn(t,{"data-nav":e,tabindex:"-1","aria-label":Ie+(e+1),"aria-controls":zt})}));else{for(var n="",r=le?"":'style="display:none"',i=0;i<H;i++)n+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+zt+'" '+r+' aria-label="'+Ie+(i+1)+'"></button>';n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>",M.insertAdjacentHTML(Dn(e.navPosition),n),Ae=M.querySelector(".tns-nav"),xe=Ae.children}if(Qr(),p){var o=p.substring(0,p.length-18).toLowerCase(),a="transition: all "+ct/1e3+"s";o&&(a="-"+o+"-"+a),an(Tt,"[aria-controls^="+zt+"-item]",a,sn(Tt))}gn(xe[Re],{"aria-label":Ie+(Re+1)+Fe}),mn(xe[Re],"tabindex"),fn(xe[Re],De),On(Ae,ee)}se&&(be||Se&&we||(M.insertAdjacentHTML(Dn(e.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+zt+'">'+vt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+zt+'">'+vt[1]+"</button></div>"),be=M.querySelector(".tns-controls")),Se&&we||(Se=be.children[0],we=be.children[1]),e.controlsContainer&&gn(be,{"aria-label":"Carousel Navigation",tabindex:"0"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&gn([Se,we],{"aria-controls":zt,tabindex:"-1"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&(gn(Se,{"data-controls":"prev"}),gn(we,{"data-controls":"next"})),me=yr(Se),ye=yr(we),Sr(),be?On(be,te):(On(Se,te),On(we,te))),Zn()}function zn(){if(x&&y){var t={};t[y]=Rr,On(j,t)}mt&&On(j,oe,e.preventScrollOnTouch),yt&&On(j,ae),lt&&On(n,ie),"inner"===T?$t.on("outerResized",(function(){Xn(),$t.emit("innerLoaded",Jr())})):(E||et||tt||ht||!F)&&On(r,{resize:Yn}),ht&&("outer"===T?$t.on("innerLoaded",cr):Yt||cr()),ar(),Yt?nr():Jt&&er(),$t.on("indexChanged",dr),"inner"===T&&$t.emit("innerLoaded",Jr()),"function"==typeof Wt&&Wt(Jr()),K=!0}function Yn(t){Ye((function(){Xn(Vr(t))}))}function Xn(t){if(K){"outer"===T&&$t.emit("outerResized",Jr(t)),G=Pn();var r,i=I,o=!1;E&&(Jn(),(r=i!==I)&&$t.emit("newBreakpointStart",Jr(t)));var a,s,u=at,l=Yt,c=Jt,d=lt,h=pt,p=gt,v=mt,g=yt,m=bt,y=wt,b=Et,_=Nt;if(r){var S=et,w=ht,A=vt,O=ot,L=St;if(!f)var R=rt,D=nt}if(lt=Mn("arrowKeys"),pt=Mn("controls"),gt=Mn("nav"),mt=Mn("touch"),ot=Mn("center"),yt=Mn("mouseDrag"),bt=Mn("autoplay"),wt=Mn("autoplayHoverPause"),Et=Mn("autoplayResetOnVisibility"),r&&(Yt=Mn("disable"),et=Mn("fixedWidth"),ct=Mn("speed"),ht=Mn("autoHeight"),vt=Mn("controlsText"),St=Mn("autoplayText"),_t=Mn("autoplayTimeout"),f||(nt=Mn("edgePadding"),rt=Mn("gutter"))),Tn(Yt),it=In(),F&&!tt||Yt||(vr(),F||(Yr(),o=!0)),(et||tt)&&(Rt=Tr(),Ut=Mt()),(r||et)&&(at=Mn("items"),st=Mn("slideBy"),(s=at!==u)&&(et||tt||(Ut=Mt()),ln())),r&&Yt!==l&&(Yt?nr():function(){if(!Xt)return;if(Tt.disabled=!1,j.className+=qt,Ar(),dt)for(var t=Lt;t--;)x&&_n(V[t]),_n(V[kt-t-1]);if(!x)for(var e=Nt,n=Nt+H;e<n;e++){var r=V[e],i=e<Nt+at?k:P;r.style.left=100*(e-Nt)/at+"%",fn(r,i)}tr(),Xt=!1}()),Qt&&(r||et||tt)&&(Jt=Qn())!==c&&(Jt?(Or(xr(An(0))),er()):(!function(){if(!Zt)return;nt&&f&&(N.style.margin="");if(Lt)for(var t="tns-transparent",e=Lt;e--;)x&&dn(V[e],t),dn(V[kt-e-1],t);tr(),Zt=!1}(),o=!0)),Tn(Yt||Jt),bt||(wt=Et=!1),lt!==d&&(lt?On(n,ie):Ln(n,ie)),pt!==h&&(pt?be?_n(be):(Se&&_n(Se),we&&_n(we)):be?bn(be):(Se&&bn(Se),we&&bn(we))),gt!==p&&(gt?(_n(Ae),Qr()):bn(Ae)),mt!==v&&(mt?On(j,oe,e.preventScrollOnTouch):Ln(j,oe)),yt!==g&&(yt?On(j,ae):Ln(j,ae)),bt!==m&&(bt?(He&&_n(He),Ne||Be||Nr()):(He&&bn(He),Ne&&jr())),wt!==y&&(wt?On(j,ne):Ln(j,ne)),Et!==b&&(Et?On(n,re):Ln(n,re)),r){if(et===S&&ot===O||(o=!0),ht!==w&&(ht||(N.style.height="")),pt&&vt!==A&&(Se.innerHTML=vt[0],we.innerHTML=vt[1]),He&&St!==L){var M=bt?1:0,B=He.innerHTML,U=B.length-L[M].length;B.substring(U)===L[M]&&(He.innerHTML=B.substring(0,U)+St[M])}}else ot&&(et||tt)&&(o=!0);if((s||et&&!tt)&&(Le=Xr(),Qr()),(a=Nt!==_)?($t.emit("indexChanged",Jr()),o=!0):s?a||dr():(et||tt)&&(ar(),gr(),rr()),s&&!x&&function(){for(var t=Nt+Math.min(H,at),e=kt;e--;){var n=V[e];e>=Nt&&e<t?(fn(n,"tns-moving"),n.style.left=100*(e-Nt)/at+"%",fn(n,k),dn(n,P)):n.style.left&&(n.style.left="",fn(n,P),dn(n,k)),dn(n,C)}setTimeout((function(){un(V,(function(t){dn(t,"tns-moving")}))}),300)}(),!Yt&&!Jt){if(r&&!f&&(nt===D&&rt===R||(N.style.cssText=Nn(nt,rt,et,ct,ht)),F)){x&&(j.style.width=jn(et,rt,at));var W=Bn(et,rt,at)+Un(rt);!function(t,e){"deleteRule"in t?t.deleteRule(e):t.removeRule(e)}(Tt,sn(Tt)-1),an(Tt,"#"+zt+" > .tns-item",W,sn(Tt))}ht&&cr(),o&&(Ar(),jt=Nt)}r&&$t.emit("newBreakpointEnd",Jr(t))}}function Qn(){if(!et&&!tt)return H<=(ot?at-(at-1)/2:at);var t=et?(et+rt)*H:W[H],e=nt?it+2*nt:it+rt;return ot&&(e-=et?(it-et)/2:(it-(W[Nt+1]-W[Nt]-rt))/2),t<=e}function Jn(){for(var t in I=0,E)t=parseInt(t),G>=t&&(I=t)}function Zn(){!bt&&He&&bn(He),!gt&&Ae&&bn(Ae),pt||(be?bn(be):(Se&&bn(Se),we&&bn(we)))}function tr(){bt&&He&&_n(He),gt&&Ae&&_n(Ae),pt&&(be?_n(be):(Se&&_n(Se),we&&_n(we)))}function er(){if(!Zt){if(nt&&(N.style.margin="0px"),Lt)for(var t="tns-transparent",e=Lt;e--;)x&&fn(V[e],t),fn(V[kt-e-1],t);Zn(),Zt=!0}}function nr(){if(!Xt){if(Tt.disabled=!0,j.className=j.className.replace(qt.substring(1),""),mn(j,["style"]),dt)for(var t=Lt;t--;)x&&bn(V[t]),bn(V[kt-t-1]);if(F&&x||mn(N,["style"]),!x)for(var e=Nt,n=Nt+H;e<n;e++){var r=V[e];mn(r,["style"]),dn(r,k),dn(r,P)}Zn(),Xt=!0}}function rr(){var t=ir();q.innerHTML!==t&&(q.innerHTML=t)}function ir(){var t=or(),e=t[0]+1,n=t[1]+1;return e===n?e+"":e+" to "+n}function or(t){null==t&&(t=xr());var e,n,r,i=Nt;if(ot||nt?(tt||et)&&(n=-(parseFloat(t)+nt),r=n+it+2*nt):tt&&(n=W[Nt],r=n+it),tt)W.forEach((function(t,o){o<kt&&((ot||nt)&&t<=n+.5&&(i=o),r-t>=.5&&(e=o))}));else{if(et){var o=et+rt;ot||nt?(i=Math.floor(n/o),e=Math.ceil(r/o-1)):e=i+Math.ceil(it/o)-1}else if(ot||nt){var a=at-1;if(ot?(i-=a/2,e=Nt+a/2):e=Nt+a,nt){var s=nt*at/it;i-=s,e+=s}i=Math.floor(i),e=Math.ceil(e)}else e=i+at-1;i=Math.max(i,0),e=Math.min(e,kt-1)}return[i,e]}function ar(){if(xt&&!Yt){var t=or();t.push(At),lr.apply(null,t).forEach((function(t){if(!cn(t,pe)){var e={};e[y]=function(t){t.stopPropagation()},On(t,e),On(t,ve),t.src=pn(t,"data-src");var n=pn(t,"data-srcset");n&&(t.srcset=n),fn(t,"loading")}}))}}function sr(t){fn(t,"loaded"),ur(t)}function ur(t){fn(t,pe),dn(t,"loading"),Ln(t,ve)}function lr(t,e,n){var r=[];for(n||(n="img");t<=e;)un(V[t].querySelectorAll(n),(function(t){r.push(t)})),t++;return r}function cr(){var t=lr.apply(null,or());Ye((function(){fr(t,pr)}))}function fr(t,e){return $?e():(t.forEach((function(e,n){!xt&&e.complete&&ur(e),cn(e,pe)&&t.splice(n,1)})),t.length?void Ye((function(){fr(t,e)})):e())}function dr(){ar(),gr(),rr(),Sr(),function(){if(gt&&(Re=Ce>=0?Ce:Rn(),Ce=-1,Re!==Pe)){var t=xe[Pe],e=xe[Re];gn(t,{tabindex:"-1","aria-label":Ie+(Pe+1)}),dn(t,De),gn(e,{"aria-label":Ie+(Re+1)+Fe}),mn(e,"tabindex"),fn(e,De),Pe=Re}}()}function hr(t,e){for(var n=[],r=t,i=Math.min(t+e,kt);r<i;r++)n.push(V[r].offsetHeight);return Math.max.apply(null,n)}function pr(){var t=ht?hr(Nt,at):hr(Lt,H),e=D||N;e.style.height!==t&&(e.style.height=t+"px")}function vr(){W=[0];var t=F?"left":"top",e=F?"right":"bottom",n=V[0].getBoundingClientRect()[t];un(V,(function(r,i){i&&W.push(r.getBoundingClientRect()[t]-n),i===kt-1&&W.push(r.getBoundingClientRect()[e]-n)}))}function gr(){var t=or(),e=t[0],n=t[1];un(V,(function(t,r){r>=e&&r<=n?hn(t,"aria-hidden")&&(mn(t,["aria-hidden","tabindex"]),fn(t,he)):hn(t,"aria-hidden")||(gn(t,{"aria-hidden":"true",tabindex:"-1"}),dn(t,he))}))}function mr(t){return t.nodeName.toLowerCase()}function yr(t){return"button"===mr(t)}function br(t){return"true"===t.getAttribute("aria-disabled")}function _r(t,e,n){t?e.disabled=n:e.setAttribute("aria-disabled",n.toString())}function Sr(){if(pt&&!ft&&!dt){var t=me?Se.disabled:br(Se),e=ye?we.disabled:br(we),n=Nt<=Bt,r=!ft&&Nt>=Ut;n&&!t&&_r(me,Se,!0),!n&&t&&_r(me,Se,!1),r&&!e&&_r(ye,we,!0),!r&&e&&_r(ye,we,!1)}}function wr(t,e){p&&(t.style[p]=e)}function Er(t){return null==t&&(t=Nt),tt?(it-(nt?rt:0)-(W[t+1]-W[t]-rt))/2:et?(it-et)/2:(at-1)/2}function Tr(){var t=it+(nt?rt:0)-(et?(et+rt)*kt:W[kt]);return ot&&!dt&&(t=et?-(et+rt)*(kt-1)-Er():Er(kt-1)-W[kt-1]),t>0&&(t=0),t}function xr(t){var e;if(null==t&&(t=Nt),F&&!tt)if(et)e=-(et+rt)*t,ot&&(e+=Er());else{var n=d?kt:at;ot&&(t-=Er()),e=100*-t/n}else e=-W[t],ot&&tt&&(e+=Er());return Ct&&(e=Math.max(e,Rt)),e+=!F||tt||et?"px":"%"}function Ar(t){wr(j,"0s"),Or(t)}function Or(t){null==t&&(t=xr()),j.style[Dt]=It+t+Ft}function Lr(t,e,n,r){var i=t+at;dt||(i=Math.min(i,kt));for(var o=t;o<i;o++){var a=V[o];r||(a.style.left=100*(o-Nt)/at+"%"),R&&v&&(a.style[v]=a.style[m]=R*(o-t)/1e3+"s"),dn(a,e),fn(a,n),r&&Ot.push(a)}}function kr(t,e){Pt&&ln(),(Nt!==jt||e)&&($t.emit("indexChanged",Jr()),$t.emit("transitionStart",Jr()),ht&&cr(),Ne&&t&&["click","keydown"].indexOf(t.type)>=0&&jr(),Kt=!0,vn())}function Cr(t){return t.toLowerCase().replace(/-/g,"")}function Rr(t){if(x||Kt){if($t.emit("transitionEnd",Jr(t)),!x&&Ot.length>0)for(var e=0;e<Ot.length;e++){var n=Ot[e];n.style.left="",m&&v&&(n.style[m]="",n.style[v]=""),dn(n,C),fn(n,P)}if(!t||!x&&t.target.parentNode===j||t.target===j&&Cr(t.propertyName)===Cr(Dt)){if(!Pt){var r=Nt;ln(),Nt!==r&&($t.emit("indexChanged",Jr()),Ar())}"inner"===T&&$t.emit("innerLoaded",Jr()),Kt=!1,jt=Nt}}}function Pr(t,e){if(!Jt)if("prev"===t)Dr(e,-1);else if("next"===t)Dr(e,1);else{if(Kt){if(Vt)return;Rr()}var n=Cn(),r=0;if("first"===t?r=-n:"last"===t?r=x?H-at-n:H-1-n:("number"!=typeof t&&(t=parseInt(t)),isNaN(t)||(e||(t=Math.max(0,Math.min(H-1,t))),r=t-n)),!x&&r&&Math.abs(r)<at){var i=r>0?1:-1;r+=Nt+r-H>=Bt?H*i:2*H*i*-1}Nt+=r,x&&dt&&(Nt<Bt&&(Nt+=H),Nt>Ut&&(Nt-=H)),Cn(Nt)!==Cn(jt)&&kr(e)}}function Dr(t,e){if(Kt){if(Vt)return;Rr()}var n;if(!e){for(var r=Hr(t=Vr(t));r!==be&&[Se,we].indexOf(r)<0;)r=r.parentNode;var i=[Se,we].indexOf(r);i>=0&&(n=!0,e=0===i?-1:1)}if(ft){if(Nt===Bt&&-1===e)return void Pr("last",t);if(Nt===Ut&&1===e)return void Pr("first",t)}e&&(Nt+=st*e,tt&&(Nt=Math.floor(Nt)),kr(n||t&&"keydown"===t.type?t:null))}function Ir(){Me=setInterval((function(){Dr(null,Ve)}),_t),Ne=!0}function Fr(){clearInterval(Me),Ne=!1}function Mr(t,e){gn(He,{"data-action":t}),He.innerHTML=Ke[0]+t+Ke[1]+e}function Nr(){Ir(),He&&Mr("stop",St[1])}function jr(){Fr(),He&&Mr("start",St[0])}function Br(){Ne?(jr(),Be=!0):(Nr(),Be=!1)}function Ur(t){t.focus()}function Vr(t){return Gr(t=t||r.event)?t.changedTouches[0]:t}function Hr(t){return t.target||r.event.srcElement}function Gr(t){return t.type.indexOf("touch")>=0}function Kr(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Wr(){return o=ze.y-qe.y,a=ze.x-qe.x,t=Math.atan2(o,a)*(180/Math.PI),n=Ht,r=!1,(i=Math.abs(90-Math.abs(t)))>=90-n?r="horizontal":i<=n&&(r="vertical"),r===e.axis;var t,n,r,i,o,a}function $r(t){if(Kt){if(Vt)return;Rr()}bt&&Ne&&Fr(),Xe=!0,$e&&(Qe($e),$e=null);var e=Vr(t);$t.emit(Gr(t)?"touchStart":"dragStart",Jr(t)),!Gr(t)&&["img","a"].indexOf(mr(Hr(t)))>=0&&Kr(t),ze.x=qe.x=e.clientX,ze.y=qe.y=e.clientY,x&&(We=parseFloat(j.style[Dt].replace(It,"")),wr(j,"0s"))}function qr(t){if(Xe){var e=Vr(t);ze.x=e.clientX,ze.y=e.clientY,x?$e||($e=Ye((function(){!function t(e){if(!Gt)return void(Xe=!1);Qe($e),Xe&&($e=Ye((function(){t(e)})));"?"===Gt&&(Gt=Wr());if(Gt){!ge&&Gr(e)&&(ge=!0);try{e.type&&$t.emit(Gr(e)?"touchMove":"dragMove",Jr(e))}catch(t){}var n=We,r=nn(ze,qe);if(!F||et||tt)n+=r,n+="px";else n+=d?r*at*100/((it+rt)*kt):100*r/(it+rt),n+="%";j.style[Dt]=It+n+Ft}}(t)}))):("?"===Gt&&(Gt=Wr()),Gt&&(ge=!0)),("boolean"!=typeof t.cancelable||t.cancelable)&&ge&&t.preventDefault()}}function zr(t){if(Xe){$e&&(Qe($e),$e=null),x&&wr(j,""),Xe=!1;var n=Vr(t);ze.x=n.clientX,ze.y=n.clientY;var r=nn(ze,qe);if(Math.abs(r)){if(!Gr(t)){var i=Hr(t);On(i,{click:function t(e){Kr(e),Ln(i,{click:t})}})}x?$e=Ye((function(){if(F&&!tt){var e=-r*at/(it+rt);e=r>0?Math.floor(e):Math.ceil(e),Nt+=e}else{var n=-(We+r);if(n<=0)Nt=Bt;else if(n>=W[kt-1])Nt=Ut;else for(var i=0;i<kt&&n>=W[i];)Nt=i,n>W[i]&&r<0&&(Nt+=1),i++}kr(t,r),$t.emit(Gr(t)?"touchEnd":"dragEnd",Jr(t))})):Gt&&Dr(t,r>0?-1:1)}}"auto"===e.preventScrollOnTouch&&(ge=!1),Ht&&(Gt="?"),bt&&!Ne&&Ir()}function Yr(){(D||N).style.height=W[Nt+at]-W[Nt]+"px"}function Xr(){var t=et?(et+rt)*H/it:H/at;return Math.min(Math.ceil(t),H)}function Qr(){if(gt&&!le&&Le!==ke){var t=ke,e=Le,n=_n;for(ke>Le&&(t=Le,e=ke,n=bn);t<e;)n(xe[t]),t++;ke=Le}}function Jr(t){return{container:j,slideItems:V,navContainer:Ae,navItems:xe,controlsContainer:be,hasControls:se,prevButton:Se,nextButton:we,items:at,slideBy:st,cloneCount:Lt,slideCount:H,slideCountNew:kt,index:Nt,indexCached:jt,displayIndex:xn(),navCurrentIndex:Re,navCurrentIndexCached:Pe,pages:Le,pagesCached:ke,sheet:Tt,isOn:K,event:t||{}}}_&&console.warn("No slides found in",e.container)};function Rn(t){return 13===t.keyCode||13===t||"13"===t||"click"===t.type}function Pn(t){return 37==t.keyCode||"left"==t.detail.direction}function Dn(t){return 39==t.keyCode||"right"==t.detail.direction}const In=ee('<div class="catalogue-vod"><div class="list-column"></div></div>'),Fn=ee('<div class="column-slider"></div>'),Mn=ee('<div class="list-row"><div class="row-header"><div class="row-title"></div></div></div>'),Nn=ee('<div class="row-items row-slider"></div>'),jn=ee('<div class="list-item"><div class="item-image"><img></div></div>');function Bn(t){var e,n=t.data;return ie((e=In.cloneNode(!0)).firstChild,rt(Un,{data:n})),e}function Un(t){var e,n,r=t.data;M((function(){e=Cn({container:n,axis:"vertical",items:1,slideBy:1,speed:350,autoplay:!1,controls:!0,center:!1,loop:!1,gutter:56,nav:!1,arrowKeys:!1,touch:!1,preventScrollOnTouch:!0,controlsText:['<i class="fas fa-chevron-up"></i>','<i class="fas fa-chevron-down"></i>']}),qe.add({selector:".item-image",rememberSource:!0,enterTo:"last-element"}),qe.makeFocusable(),qe.focus(".item-image"),setTimeout((function(){document.querySelector(".item-image").focus()}),1e3)}));var i,o=function(t){(function(t){return 38==t.keyCode||"up"==t.detail.direction})(t)&&e.goTo("prev")},a=function(t){(function(t){return 40==t.keyCode||"down"==t.detail.direction})(t)&&e.goTo("next")};return i=Fn.cloneNode(!0),"function"==typeof n?n(i):n=i,ie(i,rt(it,{each:r,children:function(t){return rt(Vn,{get key(){return t.category},data:t,handleMoveUp:o,handleMoveDown:a})}})),i}function Vn(t){var e,n=t.data,r=t.handleMoveUp,i=t.handleMoveDown,o=n.category;return ie((e=Mn.cloneNode(!0)).firstChild.firstChild,o),ie(e,rt(Hn,{data:n,handleMoveUp:r,handleMoveDown:i}),null),e}function Hn(t){var e,n,r,i=t.data,o=t.handleMoveUp,a=t.handleMoveDown,s=i.cmData;function u(t){o(t),a(t),Dn(t)&&e.goTo("next"),Pn(t)&&e.goTo("prev")}return M((function(){e=Cn({container:n,items:5,speed:400,slideBy:1,autoplay:!1,controls:!0,center:!1,loop:!1,gutter:16,nav:!1,arrowKeys:!1,touch:!1,preventScrollOnTouch:!0,controlsText:['<i class="fas fa-chevron-left"></i>','<i class="fas fa-chevron-right"></i>']})})),r=Nn.cloneNode(!0),"function"==typeof n?n(r):n=r,ie(r,rt(it,{each:s,children:function(t){return rt(Gn,{get key(){return"".concat(t.ContentType,"-").concat(t.Registro)},data:t,handleMoveH:u})}})),r}function Gn(t){var e,n,r,i,o=t.data,a=t.handleMoveH,s=!1,u=o.HDPosterUrlLandscape,l=o.Title;o.Registro;function c(t){Rn(t)?console.log("Enter"):a(t)}function f(){var t=Xt("#background-image");clearTimeout(e),s||(s=!0,ye.a.begin(t,["opacity","1","0.5","1000ms","0"],{onBeforeChangeStyle:function(){},onTransitionEnd:function(n,r){r&&(e=setTimeout((function(){ye.a.begin(t,["opacity","0.5","1","1000ms","0"],{onBeforeChangeStyle:function(){t.src=u},onTransitionEnd:function(t,e){e&&(s=!1)}})}),500))}}))}return n=jn.cloneNode(!0),r=n.firstChild,i=r.firstChild,r.addEventListener("focus",f),r.$$keydown=c,r.$$click=c,re(i,"src",u),re(i,"alt","Cover de ".concat(l)),n}ne(["click","keydown"]);const Kn=ee('<div class="error-container"><div class="message-wrapper"><div class="text error-message">Error de sesión, inicia sesión nuevamente.</div><button class="error-button">Iniciar sesión</button></div></div>'),Wn=ee('<div class="error-container"></div>'),$n=ee('<div class="message-wrapper"><div class="text error-message">Se detectó un problema con la conexión a internet</div><div class="text error-submessage">Intentando reestablecer en <!> segundos.</div></div>'),qn=ee('<button class="error-button">Volver a intentar</button>'),zn=ee('<div class="message-wrapper"><div class="text error-message">Lo sentimos, no se pudo reestablecer la conexión a internet</div><div class="text error-submessage">Se intentará reestablecer en un momento o intentalo más tarde.</div></div>');function Yn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qn(t){var e=t.count,n=t.errorCode,r=t.handleRequest;return rt(at,{get fallback(){return rt(Zn,{handleRequest:r,count:e})},get children(){return rt(st,{get when(){return 1===n()},get children(){return rt(Jn,{handleRequest:r,count:e})}})}})}function Jn(t){var e=t.handleRequest;M((function(){tr()}));var n,r=function(){e()};return(n=Kn.cloneNode(!0)).firstChild.firstChild.nextSibling.$$click=r,n}function Zn(t){var e,n=t.count,r=t.handleRequest,i=Yn(k({0:30,1:45,2:60}[n()]),2),o=i[0],a=i[1];M((function(){tr(),e=setInterval((function(){1!==o()?a((function(t){return t-1})):l()}),1e3)}));var s,u,l=function(){r(),clearInterval(e)};return ie(u=Wn.cloneNode(!0),(s=Qt((function(){return n()<3}),!0),function(){return s()?(e=$n.cloneNode(!0),r=e.firstChild.nextSibling,(i=r.firstChild.nextSibling).nextSibling,ie(r,o,i),ie(e,(t=Qt((function(){return n()<3}),!0),function(){return t()&&((e=qn.cloneNode(!0)).$$click=function(){return l()},e);var e}),null),e):zn.cloneNode(!0);var t,e,r,i})),u}function tr(){setTimeout((function(){qe.add({selector:".error-button",rememberSource:!0,enterTo:"last-focused"}),qe.makeFocusable(),qe.focus(".error-button")}),1e3)}ne(["click"]);const er=ee('<div><div class="background-image"><img id="background-image"></div></div>');function nr(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function rr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ir(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ir(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function or(){var t=rr(k(null),2),e=t[0],n=t[1],r=rr(k(null),2),i=r[0],o=r[1],a=Ve(),s=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Xt("#".concat("vod")),Se(r=Xt(".main-loader"),"0","1","150"),o(null),t.prev=3,t.next=6,a.get("catalogue-vod");case 6:i=t.sent,n(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),o(t.t0);case 13:return t.prev=13,Se(e,"0","1","150"),we(r,"1","0","150","1000"),t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[3,10,13,17]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){nr(o,r,i,a,s,"next",t)}function s(t){nr(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return P((function(){0!==a.count()&&a.count()<=3&&s()})),Oe({route:"vod",onBefore:function(){s()},onLeave:function(){we(Xt("#".concat("vod")),"1","0","150"),n(null),a.reset()}}),function(){var t=er.cloneNode(!0);t.firstChild;return re(t,"id","vod"),t.style.setProperty("opacity","0"),t.style.setProperty("display","none"),ie(t,rt(ot,{get when(){return e()},get children(){return rt(Bn,{get data(){return e()}})}}),null),ie(t,rt(ot,{get when(){return i()},get children(){return rt(Qn,a)}}),null),t}()}const ar=ee('<div class="catalogue-live-tv"><div class="list-row"></div></div>'),sr=ee('<div class="row-items row-slider"></div>'),ur=ee('<div class="list-item"><div class="title-item"><div class="title"></div></div><div class="item-image"><img></div></div>');function lr(t){var e,n=t.data;return console.log(n),M((function(){SpatialNavigation.add({selector:".item-image",rememberSource:!0,enterTo:"last-element"}),SpatialNavigation.makeFocusable(),SpatialNavigation.focus(".item-image"),setTimeout((function(){document.querySelector(".item-image").focus()}),1e3)})),ie((e=ar.cloneNode(!0)).firstChild,rt(cr,{get data(){return n[0]}})),e}function cr(t){var e,n,r=t.data;console.log(r);var i,o=r.cmData;function a(t){Dn(t)&&e.goTo("next"),Pn(t)&&e.goTo("prev")}return M((function(){e=Cn({container:n,items:4,speed:400,slideBy:1,autoplay:!1,controls:!0,center:!1,loop:!1,gutter:16,nav:!1,arrowKeys:!1,touch:!1,preventScrollOnTouch:!0,controlsText:['<i class="fas fa-chevron-left"></i>','<i class="fas fa-chevron-right"></i>']})})),i=sr.cloneNode(!0),"function"==typeof n?n(i):n=i,ie(i,rt(it,{each:o,children:function(t){return rt(fr,{get key(){return"".concat(t.Title,"-").concat(t.SignalID)},data:t,handleMoveH:a})}})),i}function fr(t){var e=t.data,n=t.handleMoveH;console.log(e);var r,i,o,a,s,u=e.Poster,l=e.Name;e.SignalID;function c(t){Rn(t)?console.log("Enter"):n(t)}return r=ur.cloneNode(!0),i=r.firstChild,o=i.firstChild,a=i.nextSibling,s=a.firstChild,ie(o,l),a.$$keydown=c,a.$$click=c,re(s,"src",u),re(s,"alt","Cover de ".concat(l)),r}ne(["click","keydown"]);const dr=ee('<div class="section-wrapper"></div>');function hr(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function pr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gr(){var t,e=pr(k(null),2),n=e[0],r=e[1],i=pr(k(null),2),o=i[0],a=i[1],s=Ve(),u=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Xt("#".concat("live-tv")),Se(n=Xt(".main-loader"),"0","1","150ms"),a(null),t.prev=3,t.next=6,s.get("live-tv");case 6:i=t.sent,r(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a(t.t0);case 13:return t.prev=13,Se(e,"0","1","150"),we(n,"1","0","150","1000"),t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[3,10,13,17]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){hr(o,r,i,a,s,"next",t)}function s(t){hr(o,r,i,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return P((function(){0!==s.count()&&s.count()<=3&&u()})),Oe({route:"live-tv",onBefore:function(){u()},onLeave:function(){we(Xt("#".concat("live-tv")),"1","0","150ms"),r(null),s.reset()}}),re(t=dr.cloneNode(!0),"id","live-tv"),t.style.setProperty("opacity","0"),t.style.setProperty("display","none"),ie(t,rt(ot,{get when(){return n()},get children(){return rt(lr,{get data(){return n()}})}}),null),ie(t,rt(ot,{get when(){return o()},get children(){return rt(Qn,s)}}),null),t}const mr=ee('<div class="main-section"></div>');var yr=function(){var t,e=zt().appState.isShowVideo;function n(){Ae.navigate("/home"),Se(Xt(".main-section"),"0","1","150","150"),e?we(Xt(".video-loader"),"1","0","150","6500"):we(Xt(".logo-loader"),"1","0","150","1500")}return M((function(){Yt(n,(function(t){return t.appState.loadedApp}))})),(t=mr.cloneNode(!0)).style.setProperty("opacity","0"),t.style.setProperty("display","none"),ie(t,rt(We,{}),null),ie(t,rt(Ge,{}),null),ie(t,rt(gr,{}),null),ie(t,rt(or,{}),null),ie(t,rt(ge,{}),null),t},br=document.getElementById("top-menu");br.parentNode.removeChild(br),document.getElementById("app").innerHTML="",n(375),n(376),te((function(){return[rt(yr,{}),rt(Ee,{})]}),document.getElementById("app"))}]);